---
title: SQL Server におけるアプリケーション セキュリティのシナリオ
description: ADO.NET および SQL Server アプリケーションに該当するさまざまなセキュリティ シナリオを取り上げます。
ms.date: 09/26/2019
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.prod: sql
ms.prod_service: connectivity
ms.technology: connectivity
ms.topic: conceptual
author: v-kaywon
ms.author: v-kaywon
ms.reviewer: rothja
ms.openlocfilehash: 711086e881951d9e82fd34851c451e5472e49d7e
ms.sourcegitcommit: 9c993112842dfffe7176decd79a885dbb192a927
ms.translationtype: MTE75
ms.contentlocale: ja-JP
ms.lasthandoff: 10/16/2019
ms.locfileid: "72452342"
---
# <a name="application-security-scenarios-in-sql-server"></a>SQL Server におけるアプリケーション セキュリティのシナリオ

![Download-DownArrow-Circled](../../../ssdt/media/download.png)[ADO.NET をダウンロードする](../../sql-connection-libraries.md#anchor-20-drivers-relational-access)

セキュリティで保護された SQL Server クライアントアプリケーションを作成するための適切な方法は1つではありません。 すべてのアプリケーションは、要件、展開環境、およびユーザーの作成において一意です。 最初の展開時にセキュリティで保護されたアプリケーションは、時間の経過と共に安全性が低下する可能性があります。 将来発生する可能性がある脅威を正確に予測することはできません。  
  
製品として SQL Server は、開発者がセキュリティで保護されたデータベースアプリケーションを作成できるようにするための最新のセキュリティ機能が組み込まれるように、多くのバージョンに進化してきました。 ただし、このボックスにはセキュリティがありません。継続的な監視と更新が必要です。  
  
## <a name="common-threats"></a>一般的な脅威  
開発者は、セキュリティ上の脅威、それらに対抗するために提供されているツール、および自己脅威のセキュリティホールを回避する方法を理解する必要があります。 セキュリティは、1つのリンクでの中断によって全体の強さが侵害されるチェーンと考えることをお勧めします。 次の一覧には、このセクションのトピックで詳細に説明されている一般的なセキュリティ上の脅威がいくつか含まれています。  
  
### <a name="sql-injection"></a>SQL インジェクション  
SQL インジェクションとは、悪意のあるユーザーが有効な入力ではなく Transact-sql ステートメントを入力するプロセスです。 入力が検証されずにサーバーに直接渡され、挿入されたコードをアプリケーションが誤って実行した場合、攻撃によってデータが破損または破壊される可能性があります。 SQL Server インジェクション攻撃を阻止するには、ストアド プロシージャとパラメーター化コマンドを使用し、動的 SQL を回避して、すべてのユーザーのアクセス許可を制限します。  
  
### <a name="elevation-of-privilege"></a>権限の昇格  
権限の昇格攻撃は、ユーザーが信頼されたアカウントの権限 (所有者や管理者など) を引き受けることができる場合に発生します。 常に最小特権のユーザーアカウントで実行し、必要なアクセス許可のみを割り当てます。 コードの実行に管理者アカウントまたは所有者アカウントを使用しないでください。 これにより、攻撃が成功した場合に発生する可能性がある損害の量が制限されます。 追加のアクセス許可を必要とするタスクを実行する場合は、タスクの実行中にのみプロシージャ署名または偽装を使用します。 証明書を使ってストアド プロシージャに署名したり、権限の借用を使用して一時的に権限を割り当てたりできます。  
  
### <a name="probing-and-intelligent-observation"></a>プローブとインテリジェントな監視  
プローブ攻撃は、アプリケーションによって生成されたエラーメッセージを使用して、セキュリティの脆弱性を検索することができます。 SQL Server エラー情報がエンドユーザーに返されないように、すべての手続き型コードにエラー処理を実装します。  
  
### <a name="authentication"></a>認証  
ユーザー入力に基づく接続文字列が実行時に構築されている場合、SQL Server ログインを使用すると、接続文字列のインジェクション攻撃が発生する可能性があります。 接続文字列の有効なキーワードペアが確認されていない場合、攻撃者は、サーバー上の機密データやその他のリソースにアクセスする可能性のある余分な文字を挿入できます。 可能であれば、Windows 認証を使用します。 SQL Server ログインを使用する必要がある場合は、<xref:Microsoft.Data.SqlClient.SqlConnectionStringBuilder> を使用して、実行時に接続文字列を作成および検証します。  
  
### <a name="passwords"></a>パスワード  
侵入者が特権ユーザーのパスワードを取得または推測できたため、多くの攻撃が成功します。 パスワードは侵入者に対する防御の最前線であるため、システムのセキュリティにとって強力なパスワードを設定することは不可欠です。 混合モード認証のパスワードポリシーを作成して適用します。  
  
Windows 認証を使用している場合でも、`sa` アカウントには常に強力なパスワードを割り当ててください。  
  
## <a name="in-this-section"></a>このセクションの内容  
[SQL Server での安全な動的 SQL の作成](writing-secure-dynamic-sql.md)  
ストアドプロシージャを使用して安全な動的 SQL を作成する方法について説明します。  

## <a name="next-steps"></a>次の手順
- [SQL Server のセキュリティ](sql-server-security.md)
