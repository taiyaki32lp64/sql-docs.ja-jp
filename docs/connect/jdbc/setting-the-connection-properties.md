---
title: 接続プロパティの設定 | Microsoft Docs
ms.custom: ''
ms.date: 08/12/2019
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
ms.assetid: f1b62700-f046-488d-bd6b-a5cd8fc345b7
author: MightyPen
ms.author: genemi
ms.openlocfilehash: e32a0fffd60fe34bf0431e6060846387ff079952
ms.sourcegitcommit: 9348f79efbff8a6e88209bb5720bd016b2806346
ms.translationtype: MTE75
ms.contentlocale: ja-JP
ms.lasthandoff: 08/14/2019
ms.locfileid: "69027765"
---
# <a name="setting-the-connection-properties"></a>接続プロパティの設定

[!INCLUDE[Driver_JDBC_Download](../../includes/driver_jdbc_download.md)]

接続文字列のプロパティは、さまざまな方法で指定できます。

- DriverManager クラスを使用して接続するときは、接続 URL における "名前=値" 形式のプロパティとして指定できます。
- DriverManager クラスの Connect メソッドの *Properties* パラメーター の中で "名前=値" 形式のプロパティとして指定できます
- ドライバーのデータ ソースの適切な setter メソッドの値として指定できます。 例:  
  
    ```java
    datasource.setServerName(value)  
    datasource.setDatabaseName(value)  
    ```  
  
## <a name="remarks"></a>Remarks

プロパティ名の大文字と小文字は区別されず、重複したプロパティ名は次の順序で解決されます。  
  
1. API 引数 (user、password など)
2. プロパティ コレクション。  
3. 接続文字列の最後のインスタンス。
  
プロパティ名には不明な値を使用することもできます。JDBC ドライバーではこのような値の大文字と小文字の区別について検証されません。

シノニムを使用できます。これは、重複したプロパティ名と同じ順序で解決されます。

次の表は、JDBC ドライバーで現在使用できるすべての接続文字列プロパティを示しています。

| プロパティ<br/>型<br/>既定 | [説明] |
| :------------------------------ | :---------- |
| accessToken<br/><br/>String<br/><br/>null | このプロパティを使用して、アクセストークンを使用して SQL データベースに接続します。 接続 URL を使用して**accessToken**を設定することはできません。 |
| applicationIntent<br/><br/>String<br/><br/>ReadWrite | アプリケーションがサーバーに接続するときのワークロードのタイプを宣言します。 <br/><br/>有効値は、**ReadOnly** と **ReadWrite** です。 <br/><br/>詳細については、「[高可用性、ディザスター リカバリーのための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。 |
| applicationName<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | アプリケーション名、または "[!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)]" (名前が指定されていない場合) です。<br/><br/>個別のアプリケーションを識別するために、さまざまな [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] プロファイリング ツールおよびロギング ツールで使用されます。 |
| 認証 (authentication)<br/><br/>String<br/><br/>NotSpecified | SQL Server 用の Microsoft JDBC Driver 6.0 以降では、この省略可能なプロパティは、接続に使用する SQL 認証方法を示します。 **指定**できる値は、 **ActiveDirectoryIntegrated**、 **ActiveDirectoryPassword**、 **ActiveDirectoryMSI**、 **sqlpassword**、および既定の notspecified です。<br/><br/> **ActiveDirectoryIntegrated** を使用して、統合 Windows 認証を使用している SQL Database に接続します。<br/><br/> **ActiveDirectoryPassword** を使用して、Azure AD のプリンシパル名とパスワードを使用している SQL Database に接続します。<br/><br/> **ActiveDirectoryMSI**を使用して、azure リソース (たとえば、Azure の仮想マシン、App Service、マネージドサービス ID (MSI) 認証を使用 Function App) の内部から SQL Database に接続します。 <br><br>**ActiveDirectoryMSI**認証モードの使用時にドライバーによってサポートされるマネージ id には、次の2種類があります。 <br> 1."_システム割り当てマネージド ID_": **accessToken** を取得するために既定で使用されます。 <br> 2."_ユーザー割り当てマネージド ID_": マネージド サービス ID (MSI) のクライアント ID が **msiClientId** 接続プロパティで指定されている場合、**accessToken** を取得するために使用されます。<br/><br/> **Sqlpassword**を使用して、ユーザー**名**/**ユーザー**と**パスワード**のプロパティを使用して SQL Server に接続します。<br/><br/> これらの認証方法が必要ない場合は、 **Notspecified**を使用します。<br/><br/> **重要:** 認証が ActiveDirectoryIntegrated に設定されている場合は、次の2つのライブラリをインストールする必要があります: **SQLJDBC_AUTH。** (JDBC driver パッケージで利用可能) および SQL Server 用の Azure Active Directory 認証ライブラリ (**adalsql.dll)。DLL**) は、 [Microsoft Active Directory 認証ライブラリのダウンロードセンターから Microsoft SQL Server 用の](https://www.microsoft.com/download/details.aspx?id=48742)さまざまな言語で使用できます。 JDBC ドライバーでサポートされているのは、ADALSQL.DLL のバージョン**1.0.2028.318**以降だけです。DLL.<br/><br/> **注:** 認証プロパティが **[notspecified]** 以外の値に設定されている場合、既定では、ドライバーは SECURE SOCKETS LAYER (SSL) 暗号化を使用します。<br/><br/> Azure Active Directory 認証を構成する方法の詳細については[Azure Active Directory 認証を使用した SQL Database への接続](https://azure.microsoft.com/documentation/articles/sql-database-aad-authentication/)」を参照してください。 |
| authenticationScheme<br/><br/>String<br/><br/>NativeAuthentication | アプリケーションで使用する統合セキュリティの種類を示します。 指定できる値は、 **JavaKerberos**、 **NTLM**、および既定のすべての**認証**です。<br/><br/> **Authenticationscheme = JavaKerberos**を使用する場合は、 **ServerName**または**serverspn**プロパティに完全修飾ドメイン名 (FQDN) を指定する必要があります。 それ以外の場合は、エラーが発生します (Kerberos データベースにサーバーが見つからない)。<br/><br/> **authenticationScheme=JavaKerberos** の使用について詳しくは、「[Kerberos 統合認証による SQL Server への接続](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md)」を参照してください。 <br/><br/> **Authenticationscheme = NTLM**を使用する場合は、**ドメイン**またはドメイン**名**プロパティの ntlm を使用して認証する windows ドメインを指定する必要があります。また、**ユーザー**またはユーザー**名**とパスワードの windows 資格情報も指定する必要があります。 **** プロパティ。 それ以外の場合は、エラーが発生します (接続プロパティを指定する必要があります)。  |
| キャンセル<br/><br/>INT<br/><br/>-1 | Microsoft JDBC Driver 6.4 for SQL Server では、このプロパティを使用して、 **** 接続で設定された値を取り消すことができます。 SQL Server への TCP 接続が暗黙的に削除されると、クエリの実行がハングし、例外はスローされません。 このプロパティは、接続時に ' の設定 ' も設定されている場合にのみ適用されます。 <br/><br/>ドライバーは、**キャンセル** + された接続を削除してチャネルを閉じるために、総待機時間を待機します。 **** <br/><br/>このプロパティの既定値は-1 で、動作は無期限に待機します。 |
| columnEncryptionSetting<br/><br/>String<br/>["Enabled" &#124; "Disabled"]<br/><br/>Disabled | Microsoft JDBC Driver 6.0 for SQL Server 以降では、"Enabled" に設定すると、Always Encrypted (AE) 機能を使用します。 AE を有効にすると、JDBC ドライバーは SQL Server の暗号化されたデータベースの列に格納されている機密データについて透過的に暗号化と暗号化の解除を行います。<br/><br/> **Columnencryptionsetting**の詳細については、「 [JDBC driver での Always Encrypted の使用](../../connect/jdbc/using-always-encrypted-with-the-jdbc-driver.md)」を参照してください。<br/><br/> **注:** Always Encrypted は SQL Server 2016 以降のバージョンで使用できます。 |
| databaseName,<br/>[データベース]<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | 接続するデータベース名です。 <br/><br/>指定しない場合は、既定のデータベースへの接続が確立されます。 |
| domainName<br/>domain<br/><br/>String<br/>null | NTLM を使用して認証する Windows ドメイン。 |
| disableStatementPooling<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | ステートメントプーリングを使用する必要があるかどうかを示すフラグです。 |
| Enableを優先します...<br/>PreparedStatementCall<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>オプション | _enablePrepareOnFirstPreparedStatementCall_<br/><br/> 準備されたステートメントの最初の実行でを呼び出す<code>sp_prepexec</code>ことによって、準備されたステートメントハンドルの作成を有効にするには、"true" に設定します。 <br/><br/>を "false" に設定する<code>sp_executesql</code>と、準備されたステートメントの最初の実行を変更し、ステートメントを準備しないようにします。2回目の実行が行われると、が呼び出さ<code>sp_prepexec</code>れて、準備されたステートメントハンドルがセットアップされます。 |
| encrypt<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>オプション | [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] で、サーバーに証明書がインストールされている場合に、クライアントとサーバーの間で送信されるすべてのデータに対して SSL (Secure Sockets Layer) 暗号化が使用されるようにするには、"true" に設定します。 既定値は "false" です。<br/><br/> Microsoft JDBC Driver 6.0 for SQL Server には、既定で SSL 暗号化を使用する新しい接続設定 "authentication" があります。 <br/><br/>詳細については、authentication プロパティを参照してください。 |
| failoverPartner<br/><br/>String<br/><br/>null | データベース ミラーリング構成で使用されるフェールオーバー サーバーの名前です。 このプロパティは、プリンシパル サーバーへの初期接続に失敗した場合に使用されます。初期接続が行われた後は、このプロパティは無視されます。 databaseName プロパティと組み合わせて使用する必要があります。<br/><br/> **注:** 接続文字列の中で failoverPartner プロパティの一部として、ドライバーでフェールオーバー パートナー インスタンスのサーバー インスタンスのポート番号を指定することはできません。 ただし、プリンシパル サーバー インスタンスの serverName、instanceName、portNumber の各プロパティ、およびフェールオーバー パートナー インスタンスの failoverPartner プロパティを同じ接続文字列の中で指定することはできます。<br/><br/> **Server** 接続プロパティの仮想ネットワーク名を指定した場合は、データベース ミラーリングを使用できません。 詳細については、「[高可用性、ディザスター リカバリーのための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください |
| fips<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>"false" | FIPS 対応 JVM の場合、このプロパティは**true**にする必要があります。 |
| fipsProvider<br/><br/>String<br/><br/>null | JVM で構成された FIPS プロバイダー。 たとえば、BCFIPS や SunPKCS11 のようになります。 バージョン v6.4.0 で削除されました。詳細については、[こちら](https://github.com/Microsoft/mssql-jdbc/pull/460)を参照してください。 |
| gsscredential<br/><br/>org.ietf.jgss.GSSCredential<br/><br/>null | Microsoft JDBC Driver 6.2 for SQL Server 以降では、Kerberos の制約付き委任に使用するユーザー資格情報をこのプロパティに渡すことができます。 <br/><br/>これは、 **true**と **** して**JavaKerberos**を使用し、 **authenticationscheme**として使用する必要があります。 |
| hostNameInCertificate<br/><br/>String<br/><br/>null | [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の SSL 証明書の検証に使用されるホスト名です。<br/><br/> hostNameInCertificate プロパティが指定されていないか null に設定されている場合、[!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] は、接続 URL の **serverName** プロパティ値をホスト名として使用して [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の SSL 証明書を検証します。<br/><br/> **注:** このプロパティは、**暗号化**/**認証**プロパティと**trustservercertificate**プロパティを組み合わせて使用します。 このプロパティは、接続が Secure Sockets Layer (SSL) 暗号化を使用していて、 **Trustservercertificate**が "false" に設定されている場合にのみ、証明書の検証に影響します。 SSL 接続に成功するためには、**hostNameInCertificate** に渡された値が、サーバー証明書に含まれる Subject Alternate Name (SAN) の Common Name (CN) または DNS 名と一致している必要があります。 詳細については、「[SSL のサポートについて](../../connect/jdbc/understanding-ssl-support.md)」を参照してください。 |
| INSTANCENAME<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | 接続する [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] のインスタンス名です。 指定しない場合は、既定のインスタンスへの接続が確立されます。 instanceName と port の両方を指定する場合については、port の注を参照してください。<br/><br/> **Server** 接続プロパティの仮想ネットワーク名を指定した場合は、**instanceName** 接続プロパティを使用できません。 詳細については、「[高可用性、障害回復のための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。 |
| integratedSecurity<br/><br/>boolean<br/>["true"&#124;"false"]<br/><br/>オプション | Windows オペレーティングシステムので[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] windows 資格情報が使用されることを示すには、"true" に設定します。 "True" の場合、JDBC ドライバーは、ローカルコンピューターの資格情報キャッシュで、ユーザーがコンピューターまたはネットワークにサインインしたときに指定された資格情報を検索します。<br/><br/> Kerberos 資格情報がによって[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]使用されることを示すには、"true" ( **authenticationscheme = JavaKerberos**) に設定します。 Kerberos 認証の詳細については、「[Kerberos 統合認証による SQL Server への接続](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md)」をご覧ください。 <br/><br/> NTLM 資格情報がによって[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]使用されることを示すには、"true" ( **authenticationscheme = NTLM**) に設定します。 <br/><br/> "false" の場合は、ユーザー名とパスワードを指定する必要があります。 |
| jaasConfigurationName<br/><br/>String<br/><br/>SQLJDBCDriver | Microsoft JDBC Driver 6.2 for SQL Server では、SQL Server への各接続で、Kerberos 接続を確立するための独自の JAAS ログイン構成ファイルを持つことができます。 ログイン構成ファイルの名前は、このプロパティを介して渡すことができます。 <br/> 既定では、IBM jvm `useDefaultCcache = true`のドライバーセットのプロパティ`useTicketCache = true`と、その他の jvm が使用されます。 |
| keyStoreAuthentication<br/><br/>String<br/><br/>null | Microsoft JDBC Driver 6.0 for SQL Server では、このプロパティは、Always Encrypted との接続にシームレスに設定するキーストアを識別し、キーストアに対する認証に使用される認証メカニズムを決定します。 Microsoft JDBC Driver 6.0 for SQL Server では、"**keyStoreAuthentication = JavaKeyStorePassword**" を設定する必要があるこのプロパティを使用して、Java キーストアのセットアップをシームレスに行うことができます。 このプロパティを使用するには、Java キーストアの**keyStoreLocation**プロパティと**keyStoreSecret**プロパティも設定する必要があることに注意してください。 <br/><br/>詳細については、「[JDBC ドライバーでの Always Encrypted の使用](https://msdn.microsoft.com/library/mt591987%28v=sql.110%29.aspx?f=255&MSPPError=-2147217396)」を参照してください。 |
| keyStoreLocation<br/><br/>String<br/><br/>null | **KeyStoreAuthentication = JavaKeyStorePassword**の場合、 **keyStoreLocation**プロパティは、Always Encrypted データで使用される列マスターキーを格納する Java キーストアファイルへのパスを識別します。 パスにはキーストアファイル名を含める必要があることに注意してください。<br/><br/>詳細については、「[JDBC ドライバーでの Always Encrypted の使用](https://msdn.microsoft.com/library/mt591987%28v=sql.110%29.aspx?f=255&MSPPError=-2147217396)」を参照してください。 |
| keyStoreSecret<br/><br/>String<br/><br/>null | **KeyStoreAuthentication = JavaKeyStorePassword**の場合、 **keyStoreSecret**プロパティはキーに加えて、キーストアに使用するパスワードを識別します。 Java キーストアを使用する場合、キーストアとキーパスワードは同じである必要があることに注意してください。<br/><br/>詳細については、「[JDBC ドライバーでの Always Encrypted の使用](https://msdn.microsoft.com/library/mt591987%28v=sql.110%29.aspx?f=255&MSPPError=-2147217396)」を参照してください。 |
| lastUpdateCount<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | 値が "true" の場合、サーバーに渡された SQL ステートメントから最終的な更新数のみを返します。また、SELECT、INSERT、または DELETE ステートメントのいずれか 1 つで使用して、サーバーのトリガーにより追加された更新数を無視することができます。 このプロパティを "false" に設定すると、サーバーのトリガーにより返される更新数を含む、すべての更新数が返されます。<br/><br/> **注:** このプロパティが適用されるのは、[executeUpdate](../../connect/jdbc/reference/executeupdate-method-sqlserverstatement.md) メソッドと一緒に使用された場合だけです。 その他のすべての execute メソッドは、すべての結果および更新数を返します。 このプロパティは、サーバーのトリガーにより返される更新数にのみ影響します。 トリガーの実行の一部として得られる結果セットまたはエラーには影響しません。 |
| lockTimeout<br/><br/>INT<br/><br/>-1 | データベースがロック タイムアウトを通知するまでに待機する時間 (ミリ秒) です。既定では、無期限に待機します。 指定されている場合、この値は接続上のすべてのステートメントに対する既定値になります。 このステートメントは、特定のステートメントのタイムアウトを設定するために使用でき**ます。** この値は、待機しないことを示す 0 に設定できます。 |
| loginTimeout<br/><br/>INT<br/>[0..65535]<br/><br/>15 | ドライバーがタイムアウトを通知して接続を失敗させるまでに待機する時間 (秒) です。 0 の値は、タイムアウトが既定のシステム タイムアウトであることを示します。既定のシステム タイムアウトは、既定では 15 秒に指定されています。 0 以外の値は、ドライバーがタイムアウトを通知して接続を失敗させるまでに待機する時間 (秒) を示します。<br/><br/> **Server** 接続プロパティの仮想ネットワーク名を指定する場合は、フェールオーバー接続が成功するまで十分な時間がとれるように、3 分以上のタイムアウト値を指定する必要があります。 詳細については、「[高可用性、ディザスター リカバリーのための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。 |
| msiClientId<br/><br/>String<br/><br/>null | **ActiveDirectoryMSI**認証モードで接続を確立するときに**accessToken**を取得するために使用されるマネージドサービス ID (MSI) のクライアント ID。|
| multiSubnetFailover<br/><br/>Boolean<br/><br/>オプション | [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] 可用性グループまたは [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] フェールオーバー クラスター インスタンスの可用性グループ リスナーに接続する際には、必ず **multiSubnetFailover=true** を指定してください。 **multiSubnetFailover=true** によって、(現在) アクティブなサーバーを迅速に検出し、接続するように [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] が構成されます。 可能な値は、true と false です。 詳細については、「[高可用性、障害回復のための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。<br/><br/> [getPropertyInfo](../../connect/jdbc/reference/getpropertyinfo-method-sqlserverdriver.md)、[getMultiSubnetFailover](../../connect/jdbc/reference/getmultisubnetfailover-method-sqlserverdatasource.md)、[setMultiSubnetFailover](../../connect/jdbc/reference/setmultisubnetfailover-method-sqlserverdatasource.md) がある **multiSubnetFailover** 接続プロパティには、プログラムからアクセスできます。<br/><br/> **注:** Microsoft JDBC Driver 6.0 for SQL Server では、可用性グループリスナーに接続するときに**multiSubnetFailover**を "true" に設定する必要がなくなりました。 既定で有効になっている新しいプロパティ**transparentNetworkIPResolution**は、(現在) アクティブなサーバーの検出と接続を提供します。 |
| packetSize<br/><br/>INT<br/>[-1 &#124; 0 &#124; 512..32767]<br/><br/>8000 | SQL Server との通信に使用されるネットワーク パケット サイズです (バイトで指定します)。 値が -1 の場合は、サーバーの既定のパケット サイズが使用されます。 値が 0 の場合は、最大値 (32767) が使用されます。 このプロパティが許容範囲外の値に設定されている場合は、例外が発生します。<br/><br/> **重要:** 暗号化を有効 (encrypt=true) にしている場合に packetSize プロパティを使用することはお勧めしません。 使用すると、接続エラーが発生する可能性があります。 詳細については、[SQLServerDataSource](../../connect/jdbc/reference/sqlserverdatasource-class.md) クラスの [setPacketSize](../../connect/jdbc/reference/setpacketsize-method-sqlserverdatasource.md) メソッドを参照してください。 |
| パスワード<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | SQL ユーザーとパスワードが接続されている場合のデータベースパスワード。<br/>プリンシパル名とパスワードを使用した Kerberos 接続の場合、このプロパティは Kerberos プリンシパルパスワードに設定されます。 |
| portNumber,<br/>port<br/><br/>INT<br/>[0..65535]<br/><br/>1433 | [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] が待機しているポートです。 ポート番号が接続文字列に指定されている場合は、SQLbrowser に対する要求は作成されません。 port と instanceName の両方が指定されている場合は、指定されたポートへの接続が確立されます。 ただし、**instanceName** の検証が行われ、ポートと一致しない場合はエラーがスローされます。<br/><br/> **重要:** SQLbrowser を使用する場合よりもセキュリティが向上するため、常にポート番号を指定することをお勧めします。 |
| queryTimeout<br/><br/>INT<br/><br/>-1 | クエリでタイムアウトが発生するまでに待機する秒数。 既定値は-1 です。これは、タイムアウトが無限であることを意味します。 この値を0に設定すると、無制限に待機することになります。 |
| responseBuffering<br/><br/>String<br/>["完全な&#124; " "アダプティブ"]<br/><br/>adaptive | このプロパティを "adaptive" に設定すると、必要に応じて最小限のデータがバッファリングされます。 既定のモードは "adaptive" です。<br/><br/> このプロパティが "full" に設定されている場合、ステートメントの実行時に結果セット全体がサーバーから読み取られます。<br/><br/> **注:** JDBC ドライバーをバージョン 1.2 からアップグレードすると、既定のバッファリング動作が "adaptive" になります。 アプリケーションで "responseBuffering" プロパティが設定されていない場合にバージョン 1.2 の既定の動作を維持するには、接続プロパティで、または [SQLServerStatement](../../connect/jdbc/reference/sqlserverstatement-class.md) オブジェクトの [setResponseBuffering](../../connect/jdbc/reference/setresponsebuffering-method-sqlserverstatement.md) メソッドを使用して、responseBufferring プロパティを "full" に設定する必要があります。 |
| selectMethod<br/><br/>String<br/>["direct" &#124; "カーソル"]<br/><br/>直接 | このプロパティが "cursor" に設定されている場合、**TYPE_FORWARD_ONLY** および **CONCUR_READ_ONLY** のカーソルに対して接続上で作成されるクエリごとに、データベース カーソルが作成されます。 このプロパティは、通常、クライアントのメモリ内に収まらない大きな結果セットをアプリケーションが生成する場合にのみ必要です。 このプロパティが "cursor" に設定されると、結果セットの行が限定された数だけクライアントのメモリに保持されます。 <br/><br/>既定の動作では、すべての結果セットの行がクライアントのメモリに保持されます。 この動作により、アプリケーションがすべての行を処理する場合は、パフォーマンスが最も高くなります。 |
| sendStringParameters...<br/>AsUnicode<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | *sendStringParametersAsUnicode*<br/><br/>**sendStringParametersAsUnicode** プロパティが "true" に設定されている場合、文字列パラメーターは Unicode 形式でサーバーに送信されます。<br/><br/> **sendStringParametersAsUnicode** プロパティが "false" に設定されている場合、文字列パラメーターは、Unicode ではなく ASCII/MBCS などの Unicode 以外の形式でサーバーに送信されます。<br/><br/> **sendStringParametersAsUnicode** プロパティの既定値は "true" です。<br/><br/> **注:** **CHAR**、**VARCHAR**、または **LONGVARCHAR** の各 JDBC 型のパラメーター値を送信するときにのみ、**sendStringParametersAsUnicode** プロパティがチェックされます。 [SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md) クラスと [SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md) クラスの setNString、setNCharacterStream、setNClob メソッドのような、JDBC 4.0 の新しい National Character メソッドでは、このプロパティの設定に関係なく、常にパラメーター値が Unicode 形式でサーバーに送信されます。<br/><br/> **CHAR**、**VARCHAR**、**LONGVARCHAR** などの JDBC データ型の使用に伴うパフォーマンスを最適に保つためには、アプリケーションで、**sendStringParametersAsUnicode** プロパティを "false" に設定し、National Character メソッド以外のメソッドである、[SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md) クラスおよび [SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md) クラスの setString、setCharacterStream、および setClob を使用する必要があります。<br/><br/> アプリケーションで **sendStringParametersAsUnicode** プロパティが "false" に設定されていて、National Character メソッド以外のメソッドを使用してサーバー側の Unicode データ型 (**nchar**、**nvarchar**、**ntext** など) にアクセスする場合に、National Character メソッド以外のメソッドで渡される文字列パラメーターの文字がデータベース照合順序でサポートされていないときには、一部のデータが失われる可能性があります。<br/><br/> アプリケーションでは、 **NCHAR**, **NVARCHAR**, の[SQLServerPreparedStatement](../../connect/jdbc/reference/sqlserverpreparedstatement-class.md)クラスと[SQLServerCallableStatement](../../connect/jdbc/reference/sqlservercallablestatement-class.md)クラスの Setnstring、setnstring stream、および setNClob national character メソッドを使用する必要があることに注意してください。および**LONGNVARCHAR** JDBC データ型。 |
| sendTimeAsDatetime<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | このプロパティは [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] JDBC Driver 3.0 で追加されました。<br/><br/> を "true" に設定すると、値が[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **datetime**値としてサーバーに送信されます。 <br/>値を "false" に設定すると、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **時刻**値としてサーバーに java .sql 時刻値が送信されます。<br/><br/> このプロパティの既定値は "true" で、将来のリリースで変更される可能性があります。<br/><br/> によってサーバーに送信[!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)]される前に、によって設定された値を構成する方法の詳細については、「 [java .sql の時刻値をサーバーに送信する方法の構成](../../connect/jdbc/configuring-how-java-sql-time-values-are-sent-to-the-server.md)」を参照してください。 |
| serverName,<br/>server<br/><br/>String<br/><br/>null | [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] を実行しているコンピューターです。<br/><br/> [!INCLUDE[ssHADR](../../includes/sshadr_md.md)] の可用性グループの仮想ネットワーク名を指定することもできます。 詳細については、「[高可用性、ディザスター リカバリーのための JDBC Driver のサポート](../../connect/jdbc/jdbc-driver-support-for-high-availability-disaster-recovery.md)」をご覧ください。 |
| serverNameAsACE<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>オプション | Microsoft JDBC Driver 6.0 for SQL Server 以降では、"true" に設定すると、ドライバーが Unicode のサーバー名を互換性のある ASCII エンコード (Punycode) に変換して接続する必要があることを示します。 この設定が false の場合、ドライバーは、ユーザーによって提供されたサーバー名を使用して接続します。<br/><br/> 詳細について[は、「JDBC driver の国際化機能](../../connect/jdbc/international-features-of-the-jdbc-driver.md)」を参照してください。 |
| serverPreparedStatement...<br/>DiscardThreshold<br/><br/>Integer<br/><br/>10 | *serverPreparedStatementDiscardThreshold*<br/><br/>SQL Server の JDBC Driver 6.2 以降では、このプロパティを使用して、サーバー上の未処理のハンドルを<code>sp_unprepare</code>クリーンアップするための呼び出しが実行される前に、1つの接続に対して未処理の準備されたステートメント破棄アクション () の数を制御できます。 <br/><br/> このプロパティが = 1 に&lt;設定されている場合、unprepare のアクションは、準備されたステートメントの終了時に直ちに実行されます。 1に&gt;設定されている場合、これらの呼び出しはバッチ処理されるので、sp_unprepare の呼び出しが頻繁に行われるオーバーヘッドを回避できます。 |
| serverSpn<br/><br/>String<br/><br/>null | Microsoft JDBC Driver 4.2 for SQL Server 以降では、このオプションのプロパティを使用して Java Kerberos 接続のサービス プリンシパル名 (SPN) を指定できます。  **Authenticationscheme**と共に使用されます。<br/><br/> SPN を指定するには、"MSSQLSvc/fqdn:port@REALM" の形式を使用できます。ここで、fqdn は完全修飾ドメイン名、port はポート番号、REALM は大文字で表記された SQL Server の Kerberos 領域です。<br/><br/> 注: クライアントの既定の領域 (Kerberos 構成で指定した領域) が SQL Server の Kerberos 領域と同じである場合は、@REALM は省略できます。<br/><br/> Java Kerberos での **serverSpn** の使用について詳しくは、「[Kerberos 統合認証による SQL Server への接続](../../connect/jdbc/using-kerberos-integrated-authentication-to-connect-to-sql-server.md)」をご覧ください。 |
| statementPooling...<br/>CacheSize<br/><br/>INT<br/><br/>0 | *statementPoolingCacheSize*<br/><br/>SQL Server の JDBC Driver 6.4 以降では、このプロパティを使用して、ドライバーでの準備されたステートメントハンドルのキャッシュを有効にすることができます。 <br/><br/>このプロパティは、ステートメントプールのキャッシュのサイズを定義します。 <br/><br/>このプロパティは、"false" に設定する必要がある**disableStatementPooling** connection プロパティと組み合わせてのみ使用できます。 **DisableStatementPooling**を "true" または**statementPoolingCacheSize**に0に設定すると、準備されたステートメントハンドルのキャッシュが無効になります。|
| socketTimeout<br/><br/>INT<br/><br/>0 | ソケットの読み取りまたは受け入れでタイムアウトが発生するまでのミリ秒単位の待機時間。 既定値は0で、タイムアウトが無限であることを意味します。 |
| sslProtocol<br/><br/>String<br/><br/>TLS | SQL Server の JDBC Driver 6.4 以降では、このプロパティを使用して、セキュリティで保護された接続時に考慮する TLS プロトコルを指定できます。 <br/>指定できる値は、**TLS**、**TLSv1**、**TLSv1.1**、**TLSv1.2** です。 <br/><br/>詳細については、「 [Sslprotocol](https://github.com/Microsoft/mssql-jdbc/wiki/SSLProtocol)」を参照してください。 |
| transparentNetwork...<br/>IPResolution<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>true | *transparentNetworkIPResolution*<br/><br/>Microsoft JDBC Driver 6.0 for SQL Server では、このプロパティを使用すると、(現在) アクティブなサーバーを迅速に検出して接続できます。 指定できる値は "true" と "false" です。 "true" は既定値です。<br/><br/> アプリケーションでは、Microsoft JDBC Driver 6.0 for SQL Server を使用する前に、AlwaysOn 可用性グループに接続していることを示すために、"multiSubnetFailover = true" を含むように接続文字列を設定する必要がありました。 **multiSubnetFailover** 接続キーワードを "true" に設定しないと、アプリケーションで AlwaysOn 可用性グループに接続中にタイムアウトが発生する可能性がありました。 Microsoft JDBC Driver 6.0 for SQL Server では、アプリケーションは multiSubnetFailover を true に設定する必要がなくなりました。 <br/><br/>**注:** TransparentNetworkIPResolution = true の場合、最初の接続試行では、タイムアウトとして500ミリ秒が使用されます。 それ以降の試行では、multiSubnetFailover プロパティで使用されているのと同じタイムアウトロジックが使用されます。 |
| trustManagerClass<br/><br/>String<br/><br/>null | カスタム<code>javax.net.ssl.TrustManager</code>実装の完全修飾クラス名。 |
| trustManager...<br/>ConstructorArg<br/><br/>String<br/><br/>null | *trustManagerConstructorArg*<br/><br/>TrustManager のコンストラクターに渡す省略可能な引数。 TrustManagerClass が指定され、暗号化された接続が要求された場合、既定のシステム JVM キーストアベースの TrustManager ではなく、カスタム TrustManager が使用されます。 |
| trustServerCertificate<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>オプション | [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] が [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の SSL 証明書を検証しないようにするには "true" に設定します。<br/><br/> "true" の場合、通信レイヤーが SSL で暗号化されていれば [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] の SSL 証明書が自動的に信頼されます。<br/><br/> "False" [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)]の場合は、サーバーの SSL 証明書が検証されます。 サーバー証明書の検証が失敗した場合は、ドライバーでエラーが発生して接続が終了します。 既定値は "false" です。 SSL 接続に成功するためには、**serverName** に渡された値が、サーバー証明書に含まれる Subject Alternate Name の Common Name (CN) または DNS 名と厳密に一致している必要があります。 詳細については、「[SSL のサポートについて](../../connect/jdbc/understanding-ssl-support.md)」を参照してください。<br/><br/> **注:** このプロパティは、**暗号化**/**認証**プロパティと組み合わせて使用されます。 このプロパティは、接続で SSL 暗号化が使用されている場合にのみ、サーバーの SSL 証明書の検証に影響します。 |
| trustStore<br/><br/>String<br/><br/>null | 証明書の trustStore ファイルへのパス (ファイル名を含む) です。 trustStore ファイルには、クライアントが信頼する証明書の一覧が含まれています。<br/><br/> このプロパティが指定されていないか null に設定されている場合、ドライバーは、信頼マネージャー ファクトリの検索ルールに従って、使用する証明書ストアを決定します。<br/><br/> **既定の SunX509 TrustManagerFactory では、次の順序で信頼済みマテリアルの検索が行われます。**<br/><br/> Java 仮想マシン (JVM) システム プロパティの "javax.net.ssl.trustStore" で指定されたファイル<br/><br/> "&lt;java-home&gt;/lib/security/jssecacerts" ファイル<br/><br/> "&lt;java-home&gt;/lib/security/cacerts" ファイル<br/><br/> <br/><br/> 詳細については、Sun Microsystems の Web サイトで SunX509 TrustManager Interface についてのドキュメントを参照してください。<br/><br/> **注:** このプロパティは、接続が SSL 暗号化を使用し、 **Trustservercertificate**プロパティが "false" に設定されている場合にのみ、certificate trustStore lookup に影響します。 |
| trustStorePassword<br/><br/>String<br/><br/>null | trustStore データの整合性を確認するために使用するパスワードです。<br/><br/> trustStore プロパティは設定されているが trustStorePassword プロパティは設定されていない場合、trustStore の整合性は確認されません。<br/><br/> trustStore プロパティと trustStorePassword プロパティの両方が指定されていない場合、ドライバーでは、JVM システム プロパティの "javax.net.ssl.trustStore" と "javax.net.ssl.trustStorePassword" が使用されます。 "javax.net.ssl.trustStorePassword" システム プロパティが指定されていない場合、trustStore の整合性は確認されません。<br/><br/> trustStore プロパティは設定されていないが trustStorePassword プロパティは設定されている場合、JDBC ドライバーでは、"javax.net.ssl.trustStore" で指定されたファイルが信頼ストアとして使用され、指定された trustStorePassword を使用して信頼ストアの整合性が確認されます。 これは、クライアント アプリケーションでパスワードを JVM システム プロパティに格納しないようにする場合に必要となることがあります。<br/><br/> **注:** TrustStorePassword プロパティは、接続が SSL 接続を使用し、 **Truststorepassword**プロパティが "false" に設定されている場合にのみ、certificate trustStore lookup に影響します。 |
| trustStoreType<br/><br/>String<br/><br/>JKS | FIPS モードで使用する信頼ストアの種類を指定するには、このプロパティを設定します。 <br/><br/>指定できる値は、 **PKCS12**または FIPS プロバイダーによって定義された型です。 |
| useBulkCopyFor..<br/>BatchInsert<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>オプション | _useBulkCopyForBatchInsert_<br/><br/> Microsoft JDBC Driver 7.0 for SQL Server では、この接続プロパティを有効にして、を使用して`java.sql.PreparedStatement`バッチ挿入操作を実行するときに、パフォーマンス向上のために一括コピー API を利用できます。 <br/><br/>この機能は、対象サーバーの種類が**Azure Data Warehouse**の場合にのみ機能します。 既定では無効になっています。この機能を有効にするには、このプロパティを "true" に設定します。 <br/></br> **重要な注意事項:** この機能は、完全にパラメーター化された INSERT クエリのみをサポートします。 挿入クエリが他の SQL クエリによって結合された場合、または値にデータが含まれている場合、実行は基本的なバッチ挿入操作に戻ります。 <br/><br/> このプロパティの使用方法について詳しくは、「[バッチ挿入操作に一括コピー API を使用する](use-bulk-copy-api-batch-insert-operation.md)」をご覧ください|
| useFmtOnly<br /><br />boolean<br />["true" &#124; "false"]<br /><br />オプション | Microsoft JDBC Driver for SQL Server v2.0 v2.0 では、 **useFmtOnly**接続プロパティを指定することにより、サーバーからパラメーターのメタデータを照会する別の方法が提供されます。 パラメーターのメタデータを照会するときに、ドライバーがロジックを`SET FMTONLY`使用するように指定するには、このプロパティを "true" に設定します。 この機能は既定ではオフになっており、非推奨とマークさ`SET FMTONLY`れているため、このプロパティを使用しないことをお勧めします。 **useFmtOnly**は、の[`sp_describe_undeclared_parameters`](https://docs.microsoft.com/sql/relational-databases/system-stored-procedures/sp-describe-undeclared-parameters-transact-sql?view=sql-server-2017)既知の問題と制限の回避策としてのみ使用できます。<br/><br/> 現在、この機能は単一`SELECT/INSERT/UPDATE/DELETE`のクエリのみをサポートしています。 サポートされていないまたは複数のクエリでこの機能を使用しようとすると、ドライバーはクエリを解析しようとしますが、ほとんどの場合、例外が発生します。<br/><br/> 詳細については、「useFmtOnly を使用した[ParameterMetaData の取得](../../connect/jdbc/using-usefmtonly.md)」を参照してください。 |
| userName,<br/>user<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>null | SQL ユーザーとパスワードが接続されている場合のデータベースユーザー。<br/><br/>プリンシパル名とパスワードを使用した Kerberos 接続の場合、このプロパティは Kerberos プリンシパル名に設定されます。 |
| workstationID<br/><br/>String<br/>[&lt;=128 文字]<br/><br/>&lt;空の文字列&gt; | ワークステーション ID。 個別のワークステーションを識別するために、さまざまな [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] プロファイリング ツールおよびロギング ツールで使用されます。 <br/><br/>指定されていない場合は、&lt;空の文字列&gt; が使用されます。 |
| xopenStates<br/><br/>boolean<br/>["true" &#124; "false"]<br/><br/>オプション | "true" に設定すると、ドライバーが XOPEN 互換の状態コードを例外で返します。 <br/><br/>既定では、SQL 99 の状態コードを返します。 |
| &nbsp; | &nbsp; |

> [!NOTE]  
> [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] は、ANSI_DEFAULTS および IMPLICIT_TRANSACTIONS 以外の接続プロパティのサーバー既定値を受け取ります。 [!INCLUDE[jdbcNoVersion](../../includes/jdbcnoversion_md.md)] によって、ANSI_DEFAULTS は ON に、IMPLICIT_TRANSACTIONS は OFF に自動的に設定されます。

> [!Important]
> 認証に ActiveDirectoryPassword が設定されている場合、次のライブラリがクラスパスに含められている必要があります: [azure-active-directory-library-java](https://github.com/AzureAD/azure-activedirectory-library-for-java)。 [Maven リポジトリ](https://mvnrepository.com/artifact/com.microsoft.azure/adal4j) で見つけることができます。 ライブラリとその依存関係をダウンロードする最も簡単な方法は、Maven を使用することです。 
> 1. 最初に、システムに Maven をインストールします。 
> 2. ドライバーの [GitHub ページ](https://github.com/Microsoft/mssql-jdbc) へ移動します。
> 3. Pom .xml ファイルをダウンロードする
> 4. 次の Maven コマンドを実行して、ライブラリとその依存関係をダウンロードします。`mvn dependency:copy-dependencies`

## <a name="see-also"></a>参照

[JDBC ドライバーによる SQL Server への接続](../../connect/jdbc/connecting-to-sql-server-with-the-jdbc-driver.md)  
[FIPS モード](../../connect/jdbc/fips-mode.md)
