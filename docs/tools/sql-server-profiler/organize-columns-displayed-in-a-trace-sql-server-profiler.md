---
title: トレースに表示される列の構成 (SQL Server Profiler) | Microsoft Docs
ms.custom: ''
ms.date: 03/01/2017
ms.prod: sql
ms.prod_service: sql-tools
ms.reviewer: ''
ms.technology: profiler
ms.topic: conceptual
helpviewer_keywords:
- organizing trace columns displayed [SQL Server]
- arranging trace columns displayed
- traces [SQL Server], data columns
ms.assetid: 6b923f94-0eb1-467e-82f6-ceed43f77017
author: markingmyname
ms.author: maghan
ms.openlocfilehash: aba356e951abc0fd63b28a7247e8319d860c99ac
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MTE75
ms.contentlocale: ja-JP
ms.lasthandoff: 07/15/2019
ms.locfileid: "67911726"
---
# <a name="organize-columns-displayed-in-a-trace-sql-server-profiler"></a>トレースに表示される列の構成 (SQL Server Profiler)
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]
  トレース テーブルまたは **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[列の構成]** をクリックするか、またはトレースを定義するときに、トレースのデータ列をグループ化できます。 データ列をグループ化すると、 [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] のトレース出力を分析しやすくなります。 詳細については、「 [SQL Server Profiler を使用したトレースの表示と分析](../../tools/sql-server-profiler/view-and-analyze-traces-with-sql-server-profiler.md)」を参照してください。  
  
 **[列の構成]** を使用すると、トレース イベントをグループ化するか、または選択するデータ列でトレース イベントをグループ化して集計できます。  
  
-   グループ化する複数のデータ列を選択して、トレース イベントのグループ化のみを行います。 グループ化する複数のデータ列を選択すると、トレース ウィンドウに、選択したデータ列の値でグループ化されたイベントが表示されます。 次の例は、グループ化用に **Duration** データ列と **StartTime** データ列を選択した場合に、トレース ウィンドウのグリッドがどのように表示されるかを示しています。 **Duration** 列の値が昇順に表示され、その次に **StartTime** 列の値が表示されます。  
  
|Duration|StartTime|EventClass|ClientProcessID|  
|--------------|---------------|----------------|---------------------|  
||12/12/2006 3:16:43 PM|SQL:StmtStarting|2124|  
|0|12/12/2006 5:39:23 PM|Audit Login|648|  
|1|12/12/2006 5:24:44 PM|SQL:StmtStarting|2124|  
|25|12/12/2006 5:24:44 PM|SQL:StmtCompleted|648|  
  
-   グループ化する列を 1 列だけ選択して、トレース イベントをグループ化し集計します。 グループ化するデータ列を 1 列だけ選択すると、トレース ウィンドウにそのデータ列の値でグループ化されたイベントが表示され、その下にあるすべてのイベントが折りたたまれます。 グループ化するために選択したデータ列のイベントの左側にはプラス記号 ( **+** ) が表示され、右側にはその下で折りたたまれているイベントの数がかっこ内に表示されます。 次の例は、グループ化用に **EventClass** データ列だけを選択した場合、トレース ウィンドウのグリッドがどのように表示されるかを示しています。 すべてのイベントが **EventClass** データ列に配置されていることに注意してください。 すべてのイベントを表示するには、プラス記号をクリックして展開し、その種類のすべてのイベント クラスを表示します。  
  
|EventClass|StartTime|Duration|ClientProcessID|  
|----------------|---------------|--------------|---------------------|  
|+ ExistingConnection (6)||||  
|+ SQL:BatchStarting (25)||||  
|+ SQL:StmtCompleted (11)||||  
|+ SQL:SmtStarting (21)||||  
  
### <a name="to-group-data-columns-displayed-in-a-trace"></a>トレースに表示されるデータ列をグループ化するには  
  
1.  既存のトレース ファイルまたはトレース テーブルを開きます。  
  
2.  **[ファイル]** メニューの **[プロパティ]** をクリックします。  
  
3.  **[トレース ファイルのプロパティ]** または **[トレース テーブルのプロパティ]** ダイアログ ボックスで、 **[イベントの選択]** タブをクリックします。  
  
4.  **[イベントの選択]** タブで、 **[列の構成]** をクリックします。  
  
5.  **[列の構成]** ダイアログ ボックスで、グループに表示する列を選択し、 **[上へ]** をクリックして **[グループ]** の下に選択した列を移動します。 **[グループ]** の下に必要なすべての列を移動した後、 **[上へ]** および **[下へ]** を使用して列の順序を並べ替えることができます。  
  
     データ列の名前を **[グループ]** の一覧に移動すると、表示されているトレースが、まず **[グループ]** の一覧の最上部に表示されているデータ列の値で構成され、次に **[グループ]** の一覧内の 2 番目のデータ列の値で構成されます。  
  
6.  **[列の構成]** ダイアログ ボックスで **[OK]** をクリックして、 **[トレース テーブルのプロパティ]** または **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[OK]** をクリックします。  
  
     **[トレース テーブルのプロパティ]** または **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[OK]** をクリックした後、表示されているトレースのデータ列が再構成されます。 **[グループ]** 一覧の最上部に移動したデータ列が、トレース表示のグリッドで一番左に表示されます。 トレースの行は、 **[グループ]** の一覧に含めたデータ列の値で昇順に構成されます。 画面では、グループ化を選択した列の位置は固定されたままですが、右または左にスクロールして他の列を表示できます。  
  
7.  表示されているトレース データのグループ化を解除するには、 **[表示]** メニューの **[グループ化ビュー]** をクリックして選択を取り消します。 グループ化ビューに戻す場合は、 **[表示]** メニューの **[グループ化ビュー]** を再びクリックします。  
  
### <a name="to-group-and-aggregate-data-columns-in-a-trace"></a>トレースに表示されるデータ列をグループ化して集計するには  
  
1.  既存のトレース ファイルまたはトレース テーブルを開きます。  
  
2.  **[ファイル]** メニューの **[プロパティ]** をクリックします。  
  
3.  **[トレース ファイルのプロパティ]** または **[トレース テーブルのプロパティ]** ダイアログ ボックスで、 **[イベントの選択]** タブをクリックします。  
  
4.  **[イベントの選択]** タブで、 **[列の構成]** をクリックします。  
  
5.  **[列の構成]** ダイアログ ボックスで、表示されているトレース イベントをグループ化して集計するときの基になる列を選択します。 **[上へ]** をクリックして、 **[グループ]** の下に列名を移動します。 必要に応じて、 **[上へ]** および **[下へ]** を使用して、 **[列]** の下に表示されている残りの列を並べ替えることができます。  
  
6.  **[列の構成]** ダイアログ ボックスで **[OK]** をクリックして、 **[トレース テーブルのプロパティ]** または **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[OK]** をクリックします。  
  
     **[トレース テーブルのプロパティ]** または **[トレース ファイルのプロパティ]** ダイアログ ボックスで **[OK]** をクリックした後、表示されているトレースのデータ列が再構成されます。 その他のすべてのデータ列イベントは、 **[グループ]** の一覧に移動したデータ列に基づいて集計されます。 集計するために選択したデータ列のイベントの左側にあるプラス記号 ( **+** ) をクリックして展開し、その種類のすべてのイベントを表示します。 画面では、集計を選択した列の位置は固定されたままですが、右または左にスクロールして他の列を表示できます。  
  
7.  トレース データの通常のビューに戻すには、 **[表示]** メニューの **[集計ビュー]** をクリックし、選択を取り消します。 集計ビューに戻す場合は、 **[表示]** メニューの **[集計ビュー]** を再びクリックします。 **[表示]** メニューの **[グループ化ビュー]** をクリックして、グループ化されたトレース イベントを折りたたまずに表示することもできます。  
  
## <a name="see-also"></a>参照  
 [トレースの作成 &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/create-a-trace-sql-server-profiler.md)   
 [トレース テーブルを開く &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/open-a-trace-table-sql-server-profiler.md)   
 [トレース ファイルを開く &#40;SQL Server Profiler&#41;](../../tools/sql-server-profiler/open-a-trace-file-sql-server-profiler.md)  
  
  
