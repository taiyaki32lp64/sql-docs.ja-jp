---
title: データの長さ、バッファー長、および切り捨て |Microsoft Docs
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- data buffers [ODBC], length
- data length [ODBC]
- truncating data [ODBC]
- length of data buffers [ODBC]
- buffers [ODBC], length
ms.assetid: 2825c6e7-b9ff-42fe-84fc-7fb39728ac5d
author: MightyPen
ms.author: genemi
ms.openlocfilehash: 8586157237db1158587e3c39f1320b78d8251fb5
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/15/2019
ms.locfileid: "68081467"
---
# <a name="data-length-buffer-length-and-truncation"></a>データの長さ、バッファー長、および切り捨て
*データ長*はデータのバイトの長さ、アプリケーションのデータのバッファーに格納されているとするとなく、データ ソースに格納されます。 データは多くの場合よりも、データ ソース内のデータ バッファー内のさまざまな種類に格納されているために、この区別が重要です。 データ ソースに送信されるデータ、これは、データ ソースの型に変換する前に、データのバイト長。 データ ソースから取得されるデータは、これは、データのバイト長を切り捨てが行われる前に、データ バッファーの型に変換した後。  
  
 整数、日付構造体などの固定長のデータのデータのバイトの長さは常に値がデータ型のサイズ。 一般に、アプリケーションは、データ型のサイズは、データ バッファーを割り当てます。 アプリケーションでは、小さなバッファーを割り当てます場合、結果は未定義ドライバーには、データ バッファーはデータ型のサイズでありより小さなバッファーに収まるようにデータが切り捨てられないことが前提としていますので。 場合は、アプリケーションより大きなバッファーを割り当て、余分なスペースは使用されません。  
  
 文字またはバイナリ データなどの可変長データがデータのバイト長が独立しており、バッファーのバイトの長さよりも多くの場合、別のことを認識する重要です。 これら 2 つの長さの関係については、「、[バッファー](../../../odbc/reference/develop-app/buffers.md)セクション。 データのバイト長が、バッファーのバイトの長さよりも大きい場合は、ドライバーは、バッファーのバイト長にフェッチされたデータが切り捨てられ、SQL_SUCCESS_WITH_INFO と SQLSTATE 01004 (データが切り捨てられます) を返します。 ただし、返されるバイトの長さが切り詰められていないデータの長さです。  
  
 たとえば、アプリケーションは、バイナリ データ バッファーの 50 バイトを割り当てます。 ドライバーが 10 バイトのバイナリ データを返す場合は、バッファーでその 10 バイトを返します。 データのバイト長は 10 で、バッファーのバイト長は 50 です。 ドライバーに 60 のバイトのバイナリのデータを返す場合は、バッファー内のそれらのバイトを返します、および、SQL_SUCCESS_WITH_INFO が返されます、50 バイトにデータが切り捨てられます。 データのバイトの長さは 60 (切り捨て前に長さ) と、バッファーのバイトの長さは 50 のままです。  
  
 診断レコードが切り捨てられている各列が作成されます。 これらのレコードを作成するドライバーとそれを処理するアプリケーション時間がかかるため、切り捨てによってパフォーマンスが低下することができます。 通常は、アプリケーションで回避できますこの問題のに十分な大きさのバッファーの割り当てできませんが、これが可能な長い形式のデータを使用する場合。 データの切り捨てが発生したときに、アプリケーションでことがあります大きなバッファーを確保およびは、データの再フェッチこれは、すべてのケースではありません。 呼び出しを使用してデータの取得中に切り捨てが発生した場合**SQLGetData**、アプリケーションを呼び出す必要がありますいない**SQLGetData**が既に返されたデータの詳細についてを参照してください[入門。長い形式のデータ](../../../odbc/reference/develop-app/getting-long-data.md)します。
