---
title: 変換の規則が |Microsoft Docs
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
helpviewer_keywords:
- numeric data type [ODBC], literals
- conversions with numeric literals [ODBC]
- numeric literals [ODBC]
- literals [ODBC], numeric
ms.assetid: 89f846a3-001d-496a-9843-ac9c38dc1762
author: MightyPen
ms.author: genemi
ms.openlocfilehash: 9ca64355a80ce8892f0ea0494e165d934d8d7a88
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/15/2019
ms.locfileid: "68057092"
---
# <a name="rules-for-conversions"></a>変換規則
数値リテラルを使用する変換のこのセクションでは、規則が適用されます。 これらの規則のためには、次の用語が定義されています。  
  
-   *割り当てを保存するには。* ときに、データベースのテーブルの列にデータを送信します。 呼び出し中に発生したこの**SQLExecute**、 **SQLExecDirect**、および**SQLSetPos**します。 ストアの割り当て中にデータベース列を参照して「ターゲット」と「ソース」アプリケーション バッファー内のデータを参照します。  
  
-   *取得の割り当て:* ときに、アプリケーションのバッファーにデータをデータベースから取得しています。 呼び出し中に発生したこの**SQLFetch**、 **SQLGetData**、 **SQLFetchScroll**、および**SQLSetPos**します。 取得の割り当て中にアプリケーション バッファーを指す"target"と「ソース」データベースの列を参照します。  
  
-   *CS:* 文字のコピー元の値。  
  
-   *NT:* 数値のターゲット内の値。  
  
-   *NS:* 数値のソースの値。  
  
-   *CT:* 文字ターゲット内の値。  
  
-   正確な数値リテラルの有効桁数: 以下の桁数が含まれています。  
  
-   正確な数値リテラルのスケール: 明示または黙示を問わず期間の右側にある数字の数。  
  
-   おおよその数値リテラルの有効桁数: の仮数部の有効桁数。  
  
## <a name="character-source-to-numeric-target"></a>対象の数値を文字のソース  
 以下は、文字のコピー元 (CS) から数値のターゲット (NT) への変換の規則です。  
  
1.  CS CS 内の先頭または末尾の空白を削除することで取得した値に置き換えます。 CS が、有効でない場合*数値リテラル*、SQLSTATE 22018 (キャストの無効な文字値) が返されます。  
  
2.  CS は、末尾のゼロ、小数点より後またはその両方、小数点の前に先頭のゼロを削除することで取得した値で置き換えます。  
  
3.  NT CS に変換します。 変換の結果の有効桁数の損失、SQLSTATE 22003 (数値が範囲外) が返されます。 変換を伴わない数字、SQLSTATE 01S07 の損失が発生する場合 (小数部の切り捨て) が返されます。  
  
## <a name="numeric-source-to-character-target"></a>数値のソースの文字のターゲットから  
 以下は、数値のソース (NS) から文字ターゲット (CT) への変換の規則です。  
  
1.  LT-2-x の文字の長さにすること 割り当ての取得、LT はこの文字セットの null 終端文字のバイト数を引いた数の文字内のバッファーの長さと同じです。  
  
2.  場合:  
  
    -   YP の定義に準拠している最短の文字の文字列と同じで、NS が正確な数値型の場合は、*正確な数値リテラル*YP の小数点以下桁数は、NS の小数点以下桁数と同じと YP の解釈された値になるよう、NS の絶対値。  
  
    -   NS が概数型の場合は、次のように文字列である YP をできます。  
  
         ケース:  
  
         NS 0 と等しい場合は、YP は 0 です。  
  
         YSN の正確な - 定義に準拠している最短の文字の文字列を指定できるように*数値リテラル*し、解釈された値が NS の絶対値。 YSN の長さがある場合より小さい (*精度*+ 1) NS のデータ型の YP YSN を等しきます。  
  
         YP の定義に準拠している最短の文字の文字列は、それ以外の場合、*おおよその数値リテラル*解釈される値を持つ、NS と元の絶対値*仮数*から成る、1 つ*桁*は '0' ではなく後に、*期間*と*符号なし整数*します。  
  
3.  ケース:  
  
    -   NS が 0 未満の場合は、結果である Y を使用します。  
  
         '-' &#124; &#124; YP  
  
         場所 '&#124;&#124;' 文字列連結演算子です。  
  
         それ以外の場合、Y YP と同じことができます。  
  
4.  LY Y 文字の長さにすることができます。  
  
5.  ケース:  
  
    -   LY と等しい場合 LT、CT は Y に設定されます。  
  
    -   LY が LT よりも小さい場合は、し CT は Y に設定、右側に拡張する適切な数のスペースが。  
  
         それ以外の場合 (LY > LT)、-2-x に Y の最初の LT 文字をコピー  
  
         ケース:  
  
         ストアの割り当ての場合は、エラーの SQLSTATE 22001 (文字列データの右側から切り捨てられます) を返します。  
  
         割り当てを取得する場合は、警告 SQLSTATE 01004 (文字列データの右側から切り捨てられます) を返します。 (後続のゼロ) 以外の小数部の桁数が失われる結果のコピーにはドライバーの定義は次のいずれかが発生するかどうか。  
  
         (1)、ドライバー (これも 0 にすることができます)、適切なスケールを Y で文字列の切り捨てし、-2-x に結果を書き込みます  
  
         (2)、ドライバー (これも 0 にすることができます)、適切なスケールを Y で文字列を四捨五入し変換して -2-x に結果を書き込みます  
  
         (3) ドライバーも切り捨てますも丸めますがだけ-2-x に Y の最初の LT 文字をコピー
