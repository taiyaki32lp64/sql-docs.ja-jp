---
title: DB2 スキーマ (DB2ToSQL) の変換 |Microsoft Docs
ms.prod: sql
ms.custom: ''
ms.date: 01/19/2017
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
ms.assetid: 7947efc3-ca86-4ec5-87ce-7603059c75a0
author: Shamikg
ms.author: Shamikg
ms.openlocfilehash: 7a16a28a163acece321cc2229e9988cf7ab01f9e
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/15/2019
ms.locfileid: "67989865"
---
# <a name="converting-db2-schemas-db2tosql"></a>DB2 スキーマ (DB2ToSQL) の変換
DB2 に接続すると後に、接続されている[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]、プロジェクトの設定とデータ マッピング オプションでは、DB2 データベース オブジェクトを変換できますと[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]データベース オブジェクト。  
  
## <a name="the-conversion-process"></a>変換プロセス  
DB2 からオブジェクトの定義は、データベース オブジェクトの変換と同様に変換して[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]オブジェクト、および SSMA メタデータにこの情報を読み込みます。 インスタンスに情報は読み込まれません[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]します。 使用して、オブジェクトとそのプロパティを表示することができますし、[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]メタデータ エクスプ ローラー。  
  
変換中は、SSMA は、出力ウィンドウに出力メッセージとエラー一覧 ウィンドウにエラー メッセージを出力します。 出力とエラー情報を使用して、DB2 データベースまたは必要な変換の結果を得るため、変換プロセスを変更しているかどうかを確認します。  
  
## <a name="setting-conversion-options"></a>変換オプションの設定  
オブジェクトを変換する前に、プロジェクトの変換オプションを確認して、**プロジェクト設定** ダイアログ ボックス。 このダイアログ ボックスを使用すると、SSMA が関数とグローバル変数に変換する方法を設定できます。 詳細については、次を参照してください。[プロジェクト設定&#40;変換&#41; &#40;DB2ToSQL&#41;](../../ssma/db2/project-settings-conversion-db2tosql.md)します。  
  
## <a name="conversion-results"></a>変換結果  
次の表は、変換されますが、DB2 のオブジェクトし、その結果[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]オブジェクト。  
  
|DB2 オブジェクト|SQL Server オブジェクトの結果として得られる|  
|-----------|----------------------------|  
|データ型|**SSMA は、以下に、次を除くすべての型をマップします。**<br /><br />CLOB:この種類の作業の一部のネイティブ関数 (例: CLOB_EMPTY()) のサポート<br /><br />BLOB:この種類の作業の一部のネイティブ関数 (例: BLOB_EMPTY()) のサポート<br /><br />DBLOB:この種類の作業の一部のネイティブ関数 (例: DBLOB_EMPTY()) のサポート|  
|ユーザー定義型|**SSMA は、次をマップ ユーザー定義します。**<br /><br />別個の型<br /><br />構造化型<br /><br />SQL PL のデータ型に注意してください。脆弱なカーソルの種類がサポートされていません。|  
|特別なレジスタ|**SSMA は、以下に示すレジスタのみを割り当てます。**<br /><br />現在のタイムスタンプ<br /><br />現在の日付<br /><br />現在の時刻<br /><br />現在のタイム ゾーン<br /><br />現在のユーザー<br /><br />SESSION_USER とユーザー<br /><br />SYSTEM_USER<br /><br />現在 CLIENT_APPLNAME<br /><br />現在 CLIENT_WRKSTNNAME<br /><br />現在のロック タイムアウト<br /><br />現在のスキーマ<br /><br />現在のサーバー<br /><br />現在の分離<br /><br />その他の特別な登録は、SQL server のセマンティックにはマップされません。|  
|CREATE TABLE|**SSMA は、次の例外が CREATE TABLE を割り当てます。**<br /><br />多次元 (MDC) をクラスター化テーブル<br /><br />範囲-クラスター化テーブル (RCT)<br /><br />パーティション テーブル<br /><br />デタッチされたテーブル<br /><br />データのキャプチャ句<br /><br />IMPLICITLY が非表示のオプション<br /><br />揮発性のオプション|  
|CREATE VIEW|SSMA は、' WITH ローカル CHECK OPTION' の CREATE VIEW をマップしますが、その他のオプションは、SQL server のセマンティクスにマップされていません。|  
|CREATE INDEX|**SSMA では、次の例外がインデックスの作成がマップされます。**<br /><br />XML インデックス<br /><br />オーバー ラップせず BUSINESS_TIME オプション<br /><br />パーティション分割された句<br /><br />オプションの指定のみ<br /><br />オプションの拡張を使用して<br /><br />MINPCTUSED オプション<br /><br />ページ分割オプション|  
|トリガー|**SSMA は、次のトリガー セマンティクスを割り当てます。**<br /><br />後/トリガーの各の行<br /><br />各ステートメントをトリガー/FOR 後<br /><br />前に各行しの代わりに、//トリガーの各の行|  
|シーケンス|マップされます。|  
|SELECT ステートメント|**次の例外が SSMA マップを選択します。**<br /><br />データ変更テーブル参照の句 - 部分的にマップするが最終的なテーブルはサポートされていません<br /><br />テーブル参照の句 - 部分的にマップされると、専用のテーブルの参照、外部テーブル参照、analyze_table 式がコレクション派生テーブル、xmltable 式は、SQL server のセマンティクスにマップされていません。<br /><br />期間仕様句にマップされていません。<br /><br />続行ハンドラー句にマップされていません。<br /><br />型指定された関連付け句にマップされていません。<br /><br />同時実行のアクセス-解像度句: マップされていません。|  
|VALUES ステートメント|マップされます。|  
|INSERT ステートメント|マップされます。|  
|UPDATE ステートメント|S**SMA マップ更新プログラムを次の例外。**<br /><br />テーブル参照の句 - 専用のテーブルの参照が SQL server のセマンティクスにマップされていません<br /><br />期間の句 - がマップされていません。|  
|MERGE ステートメント|**SSMA では、次の例外がマージがマップされます。**<br /><br />1 つの各句の複数の出現箇所を vs - 各句の出現回数を制限付きの SQL server のセマンティクスにマップされます<br /><br />シグナルの句 - SQL Server のセマンティクスにマップされません。<br /><br />混在モードの更新と削除の句 - SQL Server のセマンティクスにマップされません。<br /><br />期間句では、SQL Server のセマンティクスにマップされません。|  
|DELETE ステートメント|**SSMA マップは、次の例外を削除します。**<br /><br />テーブル参照の句 - 専用のテーブルの参照が SQL server のセマンティクスにマップされていません<br /><br />期間の句 - は、SQL Server のセマンティクスにはマップされません。|  
|分離レベルとロックの種類|マップされます。|  
|プロシージャ (SQL)|マップされます。|  
|プロシージャ (外部)|手動で更新が必要です。|  
|プロシージャ (ソース)|SQL Server のセマンティクスにはマップできません。|  
|代入ステートメント|マップされます。|  
|プロシージャの CALL ステートメント|マップされます。|  
|CASE ステートメント|マップされます。|  
|FOR ステートメント|マップされます。|  
|GOTO ステートメント|マップされます。|  
|IF ステートメント|マップされます。|  
|ステートメントを反復処理します。|マップされます。|  
|ステートメントのままにします|マップされます。|  
|LOOP ステートメント|マップされます。|  
|繰り返しステートメント|マップされます。|  
|ステートメントを送り返すため|条件はサポートされていません。 メッセージは省略可能にすることはできます。|  
|RETURN ステートメント|マップされます。|  
|シグナル ステートメント|条件はサポートされていません。 メッセージは省略可能にすることはできます。|  
|WHILE ステートメント|マップされます。|  
|GET ステートメントの診断|**SSMA では、次の例外診断の取得がマップされます。**<br /><br />ROW_COUNT - がマップされます。<br /><br />DB2_RETURN_STATUS - がマップされます。<br /><br />-テキストがマップされます。<br /><br />DB2_SQL_NESTING_LEVEL - は、SQL Server のセマンティクスにはマップされません。<br /><br />DB2_TOKEN_STRING - は、SQL Server のセマンティクスにはマップされません。|  
|カーソル|**SSMA は、次の例外がカーソルを割り当てます。**<br /><br />割り当てのカーソル ステートメントでは SQL Server のセマンティクスにマップされません。<br /><br />ロケーターの関連付けのステートメントでは SQL Server のセマンティクスにマップされません。<br /><br />DECLARE CURSOR ステートメント - Returnability 句は SQL server のセマンティクスにマップされていません<br /><br />FETCH ステートメントの部分的なマッピング。 ターゲットとしての変数がのみサポートされています。 指定された記述子は、SQL server のセマンティクスにマップされていません。|  
|変数:|マップされます。|  
|例外、ハンドラー、および条件|**SSMA は、次の例外「例外処理」を割り当てます。**<br /><br />ハンドラーの終了 - マップされます。<br /><br />ハンドラーを元に戻す - マップされます。<br /><br />ハンドラーの続行はマップされません。<br /><br />条件のことにマップされない SQL server のセマンティクスです。|  
|動的 SQL|マップされていません。|  
|エイリアス|マップされます。|  
|ニックネーム|部分的なマッピング。 手動で処理が基になるオブジェクトに必要です。|  
|シノニム|マップされます。|  
|DB2 での標準的な関数|SSMA では、同等の関数は、SQL Server で使用できるときに、DB2 の標準的な関数がマップされます。|  
|Authorization|マップされていません。|  
|述語|マップされます。|  
|SELECT INTO ステートメント|マップされていません。|  
|値 INTO ステートメント|マップされていません。|  
|トランザクション制御|マップされていません。|  
  
## <a name="converting-db2-database-objects"></a>DB2 データベース オブジェクトの変換  
DB2 データベース オブジェクトを変換する、変換するオブジェクトを選択し、SSMA 変換を実行します。 変換中に出力メッセージを表示する、**ビュー**メニューの **出力**します。  
  
**DB2 オブジェクトを SQL Server の構文に変換するには**  
  
1.  DB2 メタデータ エクスプ ローラーで、DB2 サーバーを展開し、展開**スキーマ**します。  
  
2.  変換するオブジェクトを選択します。  
  
    -   すべてのスキーマを変換する場合は、横にチェック ボックスを選択します**スキーマ**します。  
  
    -   変換または省略データベース、スキーマ名の横にあるチェック ボックスを選択します。  
  
    -   変換またはオブジェクトのカテゴリの省略は、スキーマを展開し、オンまたはカテゴリの横にあるチェック ボックスをオフにします。  
  
    -   変換または個々 のオブジェクトの省略は、カテゴリ フォルダーを展開し、オンまたはオブジェクトの横にチェック ボックスをオフにします。  
  
3.  右クリックし、選択したすべてのオブジェクトを変換する**スキーマ**選択**スキーマの変換**します。  
  
    オブジェクトまたはその親フォルダーを右クリックして選択し、個々 のオブジェクトまたはオブジェクトのカテゴリを変換することも**スキーマの変換**します。  
  
## <a name="viewing-conversion-problems"></a>変換の問題を表示します。  
いくつかの DB2 オブジェクトを変換しない場合があります。 変換の概要レポートを表示することによってコンバージョンの成功率を指定できます。  
  
**概要レポートを表示するには**  
  
1.  DB2 メタデータ エクスプ ローラーで選択**スキーマ**します。  
  
2.  右側のウィンドウで、選択、**レポート**タブ。  
  
    このレポートには、変換または評価されているすべてのデータベース オブジェクトの評価の概要レポートが表示されます。 個々 のオブジェクトの概要レポートを表示することもできます。  
  
    -   個々 のスキーマのレポートを表示するには、DB2 メタデータ エクスプ ローラーでスキーマを選択します。  
  
    -   個々 のオブジェクトのレポートを表示するには、DB2 メタデータ エクスプ ローラーで、オブジェクトを選択します。 変換の問題のあるオブジェクトは赤いエラー アイコンがあります。  
  
オブジェクトの変換に失敗した場合は、変換エラーを発生させた構文を表示することができます。  
  
**個々 の変換の問題を表示するには**  
  
1.  DB2 メタデータ エクスプ ローラーで、**スキーマ**します。  
  
2.  赤いエラー アイコンが表示されるスキーマを展開します。  
  
3.  スキーマの下に赤いエラー アイコンが付いているフォルダーを展開します。  
  
4.  赤いエラー アイコンを含むオブジェクトを選択します。  
  
5.  右側のウィンドウでをクリックして、**レポート**タブ。  
  
6.  上部にある、**レポート** タブは、ドロップダウン リスト。 一覧表示されている場合**統計**、選択範囲を変更**ソース**します。  
  
    SSMA は、ソース コードとコードのすぐ上のいくつかのボタンに表示されます。  
  
7.  をクリックして、**次の問題**ボタンをクリックします。 これは、右向き矢印の付いた赤いエラー アイコンです。  
  
    SSMA は、現在のオブジェクトで見つかった最初の問題のあるソース コードを強調表示されます。  
  
変換できなかった項目ごとにそのオブジェクトを決定する必要があります。  
  
-   プロシージャのソース コードを変更することができます、 **SQL**タブ。  
  
-   削除または問題のあるコードを変更する DB2 データベース内のオブジェクトを変更することができます。 SSMA に更新されたコードを読み込むには、メタデータを更新する必要があります。 詳細については、次を参照してください。 [DB2 データベースに接続する&#40;DB2ToSQL&#41;](../../ssma/db2/connecting-to-db2-database-db2tosql.md)します。  
  
-   オブジェクトは、移行から除外できます。 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]メタデータ エクスプ ローラーと DB2 メタデータ エクスプ ローラーにオブジェクトを読み込む前に、項目の横にあるチェック ボックスをオフに[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]と DB2 からデータを移行します。  
  
## <a name="next-step"></a>次の手順  
移行プロセスの次の手順が、 [SQL Server に変換されたオブジェクトを読み込む](https://msdn.microsoft.com/f4ea1ced-9f9f-4a9d-88ab-81dbab64adc3)します。  
  
## <a name="see-also"></a>参照  
[DB2 のデータを SQL Server に移行する&#40;DB2ToSQL&#41;](../../ssma/db2/migrating-db2-data-into-sql-server-db2tosql.md)  
  
