---
title: 方法:プロジェクトのスナップショットを作成する | Microsoft Docs
ms.custom:
- SSDT
ms.date: 02/09/2017
ms.prod: sql
ms.technology: ssdt
ms.reviewer: ''
ms.topic: conceptual
f1_keywords:
- sql.data.tools.SqlProjectImportSnapshotSummaryDialog.dialog
- sql.data.tools.SqlProjectImportSnapshotDialog.dialog
ms.assetid: bed670a3-13bd-4d88-91a1-58d5b9524a97
author: markingmyname
ms.author: maghan
ms.openlocfilehash: 3fad9b94c83a314ab252ed52377d6fb332e7029e
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/15/2019
ms.locfileid: "67897205"
---
# <a name="how-to-create-a-snapshot-of-a-project"></a>方法:プロジェクトのスナップショットを作成する
**データ層アプリケーション** ファイルは、データベース スキーマの作成時の読み取り専用表現です。 本質的にはデータベース スキーマとして扱われ、そのスキーマ オブジェクトを元のプロジェクトにインポートすることもできます。 データベースまたはプロジェクトのスキーマと比較することも、スナップショットで定義されているスキーマを反映してデータベースまたはプロジェクトを更新することもできます。  
  
ソース データベース プロジェクトでユーザー エラーが発生したときは、スナップショット作成時の状態にソース プロジェクトを戻すことができます。 開発のさまざまな段階で、ベースラインのためにスナップショットを作成することもできます。  
  
> [!WARNING]  
> 以下に示す手順では、「[接続されているデータベース開発](../ssdt/connected-database-development.md)」および「[プロジェクト指向のオフライン データベース開発](../ssdt/project-oriented-offline-database-development.md)」に示されているこれまでの手順で作成したエンティティを使用します。  
  
### <a name="to-create-a-snapshot"></a>スナップショットを作成するには  
  
1.  **ソリューション エクスプローラー**で **TradeDev** プロジェクトを右クリックし、 **[データ層アプリケーション (\*.dacpac)...]** をクリックします。  
  
2.  SSDT では、まずプロジェクトのビルドが試行されます。 ビルド エラーがなければ、**ソリューション エクスプローラー**に **[スナップショット]** フォルダーが作成されます。 フォルダー内には、"<Project Name>_YYYYMMDD_HH-MM-SS.dacpac" という形式の名前で .dacpac ファイルが作成されます。  
  
3.  .dacpac ファイルを右クリックして、 **[名前の変更]** をクリックします。 既定のファイル名を "TradeDev1.dacpac" に変更します。  
  
4.  **ソリューション エクスプローラー**で **GetProductsBySupplier** 関数を右クリックし、 **[削除]** をクリックして、この関数をプロジェクトから削除します。  
  
5.  これまでの手順に従い、**TradeDev2.dacpac** という新しいスナップショットを作成します。  
  
### <a name="to-import-a-snapshot"></a>スナップショットをインポートするには  
  
1.  **ソリューション エクスプローラー**で **TradeDev** プロジェクトを右クリックし、コンテキスト メニューの **[インポート]** をクリックして、 **[データ層アプリケーション (\*.dacpac)...]** をクリックします。  
  
2.  **[データ層アプリケーションのインポート]** ダイアログ ボックスで、 **[参照]** をクリックし、インポートのソースとして使用する **TradeDev1.dacpac** をクリックします。  
  
    現在のプロジェクトが既定のターゲットであるため、 **[ターゲット プロジェクト]** セクションは無効になっています。 **[開始]** をクリックしてインポートを開始します。  
  
3.  **[概要]** ページで **[完了]** をクリックします。 **ソリューション エクスプ ローラー**では、削除したテーブルがプロジェクトに復元されています。  
  
    > [!WARNING]  
    > スナップショットのインポートでは、スナップショット スキーマ内のデータベース エンティティがすべて、プロジェクトにインポートされます。 その結果、エンティティの複製が作成されることもあります。 たとえば、各テーブルとビューには、自身の余分なコピーが <ObjectName_1> という名前で含まれています。 **ソリューション エクスプローラー**でこれらの複製オブジェクトをそれぞれ右クリックし、 **[削除]** をクリックしてプロジェクトから削除します。  
  
### <a name="to-compare-snapshots"></a>スナップショットを比較するには  
  
1.  ソリューション エクスプローラーで **TradeDev1.dacpac** を右クリックし、 **[スキーマ比較]** をクリックします。 **[スキーマ比較]** ウィンドウが開きます。  
  
2.  このため、ソースとターゲットのスキーマを設定するために、 **[データ層アプリケーション ファイル]** のオプションを使用します。 **[データ層アプリケーション ファイル]** で、 **[ソース スキーマ]** が **TradeDev1.dacpac** に、 **[ターゲット スキーマ]** が **TradeDev2.dacpac** に設定されていることを確認します。  
  
3.  **[OK]** をクリックして比較を開始します。 古いスナップショットと新しいスナップショットの相違点として、削除した関数が強調表示されます。  
  
    スキーマ比較を使用すると、異なるスナップショット間の差分を容易に特定することができます。 この場合は、開発プロセスでプロジェクトがどのように進行するかを特定できます。  
  
## <a name="see-also"></a>参照  
[方法:スキーマ比較を使用して各種のデータベース定義を比較する](../ssdt/how-to-use-schema-compare-to-compare-different-database-definitions.md)  
  
