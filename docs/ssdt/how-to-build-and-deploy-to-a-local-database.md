---
title: 方法:ローカル データベースでビルドおよび配置を行う | Microsoft Docs
ms.custom:
- SSDT
ms.date: 02/09/2017
ms.prod: sql
ms.technology: ssdt
ms.reviewer: ''
ms.topic: conceptual
ms.assetid: ebca8ff8-9a09-4207-8979-9d577af7c1d5
author: markingmyname
ms.author: maghan
ms.openlocfilehash: 612ed6750946dfa5e77970bf6e3a4859cbb0045b
ms.sourcegitcommit: b2464064c0566590e486a3aafae6d67ce2645cef
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/15/2019
ms.locfileid: "67911873"
---
# <a name="how-to-build-and-deploy-to-a-local-database"></a>方法:ローカル データベースでビルドおよび配置を行う
Microsoft SQL Server 2012 では、ローカルのオンデマンド サーバー インスタンスが提供されます。これは SQL Server Express Local Database Runtime と呼ばれるもので、SQL Server データベース プロジェクトをデバッグする際にアクティブ化されます。 このローカル サーバー インスタンスは、プロジェクトのビルド、テスト、およびデバッグ用のサンドボックスとして使用できます。 インストールされているどの SQL Server インスタンスからも独立しており、SQL Server Data Tools (SSDT) の外ではアクセスできません。 運用データベースへのアクセスが制限または禁止されている開発者が、許可されたユーザーによってプロジェクトが運用環境に配置される前に、ローカルでプロジェクトをテストする場合、このような環境が最適です。 これに加えて、SQL Azure 用にデータベース ソリューションを開発する場合、このローカル サーバーで提供される便利さを利用して、データベース プロジェクトをクラウドに配置する前に、ローカルで開発およびテストできます。  
  
> [!WARNING]  
> SQL Server オブジェクト エクスプローラーのローカル データベース ノードの下のデータベースは、対応するデータベース プロジェクトのリフレクションであり、接続されているサーバー インスタンスにある同じ名前のデータベースとは関連していません。  
  
> [!WARNING]  
> 以下に示す手順では、「[接続されているデータベース開発](../ssdt/connected-database-development.md)」および「[プロジェクト指向のオフライン データベース開発](../ssdt/project-oriented-offline-database-development.md)」に示されているこれまでの手順で作成したエンティティを使用します。  
  
### <a name="to-use-the-local-database"></a>ローカル データベースを使用するには  
  
1.  **SQL Server オブジェクト エクスプローラー**の **SQL Server** ノードの下に、 **[ローカル]** という新しいノードが表示されます。 これは、ローカルのデータベース インスタンスです。  
  
2.  **[ローカル]** ノードおよび **[データベース]** ノードを展開します。 TradeDev プロジェクトと同じ名前のデータベースが表示されます。 このデータベースの下のノードを展開します。 **[データ ツール操作]** ウィンドウには、 **[ローカル]** ノードのいずれかのデータベースで進行中の展開/インポート操作の状況が表示されます。 前の手順で作成したテーブルやエンティティが含まれていないことに注意してください。  
  
3.  F5 キーを押して、TradeDev データベース プロジェクトのデバッグを実行します。  
  
    SSDT の既定では、データベース プロジェクトのデバッグに、ローカルのデータベース サーバー インスタンスが使用されます。 この場合、SSDT ではまずプロジェクトのビルドが試行され、エラーがなければ、プロジェクト (およびそのエンティティ) がローカル データベースに配置されます。 後で同じプロジェクトをデバッグすると、SSDT は直前のデバッグ セッション以降に生じた変更を検出し、これらのみをローカル データベースに配置します。  
  
4.  **[ローカル]** データベース サーバー内の **TradeDev** の下のノードを再度展開します。 今回は、ローカル データベース サーバーにテーブル、ビュー、および関数が配置されています。  
  
5.  **TradeDev** ノードを右クリックし、 **[新しいクエリ]** をクリックします。  
  
6.  スクリプト ペインに次のコードを貼り付け、 **[クエリの実行]** をクリックしてクエリを実行します。  
  
    ```  
    select * from dbo.GetProductsBySupplier(1)  
    ```  
  
7.  **メッセージ** ペインに "(0 行処理されました)" というメッセージが表示され、**結果**ペインには行が返されません。 これは、実データが格納されている接続されたデータベースではなく、ローカル データベースに対してクエリを実行しているためです。  
  
    このことは、ローカルの **TradeDev** データベースの下にある **Products** テーブルを右クリックし、 **[データの表示]** をクリックすると確認できます。 テーブルが空であることがわかります。  
  
### <a name="to-replicate-real-data-to-the-local-database"></a>実データをローカル データベースにレプリケートするには  
  
1.  **SQL Server オブジェクト エクスプローラー**で、接続されている SQL Server インスタンスを展開し、**TradeDev** データベースを探します。  
  
    **Suppliers** テーブルを右クリックして、 **[データの表示]** をクリックします。  
  
2.  データ エディターの最上部にある **[スクリプト]** (右から 2 番目のボタン) をクリックします。 スクリプトから `INSERT` ステートメントをコピーします。  
  
3.  **[ローカル]** サーバー インスタンスを展開し、**TradeDev** ノードを右クリックして、 **[新しいクエリ]** をクリックします。  
  
4.  このクエリ ウィンドウに `INSERT` ステートメントを貼り付けて、クエリを実行します。  
  
5.  これまでの手順を繰り返して、接続されている **TradeDev** データベースの **Products** テーブルおよび **Fruits** テーブルのデータをローカルの **TradeDev** データベースにレプリケートします。  
  
6.  **[ローカル]** サーバー インスタンスを右クリックして **[更新]** をクリックします。 **[データの表示]** でテーブルを調べて、ローカル データベースにデータが設定されたことを確認します。  
  
7.  [ローカル] サーバー インスタンスの **TradeDev** ノードを右クリックし、 **[新しいクエリ]** をクリックします。  
  
8.  スクリプト ペインに次のコードを貼り付け、 **[クエリの実行]** をクリックしてクエリを実行します。  
  
    ```  
    select * from dbo.GetProductsBySupplier(1)  
    ```  
  
9. Transact\-SQL エディター ペインの下にある**結果**ペインに、`Products` テーブルの Apples 行および Potato Chips 行が返されています。  
  
