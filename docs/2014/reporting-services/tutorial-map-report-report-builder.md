---
title: チュートリアル:マップ レポート (レポート ビルダー) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: reporting-services-native
ms.topic: conceptual
ms.assetid: 8d831356-7efa-40cc-ae95-383b3eecf833
author: maggiesMSFT
ms.author: maggies
manager: kfile
ms.openlocfilehash: 3b456d165ef9c4f09bb040cefb63644efb51c112
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66098861"
---
# <a name="tutorial-map-report-report-builder"></a>チュートリアル:マップ レポート (レポート ビルダー)
  このチュートリアルでは、地図を背景としてレポート データを表示するときに使用できるマップ機能について学習できます。  
  
 マップは、空間データに基づいています。空間データは通常、ポイント、線、および多角形で構成され (郡の輪郭を表す多角形、道路を表す線、市区町村の場所を表すポイントなど)、 種類ごとに異なるマップ レイヤーにマップ要素のセットとして表示されます。  
  
 マップ要素の表示を変化させるには、マップ要素をデータセットの分析データに対応付ける値を持つフィールドを指定します。 色やサイズなどのプロパティをデータの範囲に基づいて変化させるルールを定義することもできます。  
  
 このチュートリアルでは、New York 州の郡にある店舗の場所を表示するマップ レポートを作成します。  
  
##  <a name="BackToTop"></a> 学習内容  
 このチュートリアルでは、次の方法を学習します。  
  
1.  [マップ ウィザードからの多角形レイヤーでマップを作成します。](#Map)  
  
2.  [表示の店舗の場所にマップのポイント レイヤーを追加します。](#PointLayer)  
  
3.  [ルートを表示するマップの線レイヤーを追加します。](#LineLayer)  
  
4.  [Bing Maps のタイル背景を追加します。](#TileLayer)  
  
5.  [レイヤーを透明に](#Transparent)  
  
6.  [郡の色を売上に基づいて変化します。](#Vary)  
  
    1.  [空間データと分析データ間のリレーションシップを構築します。](#Relationship)  
  
    2.  [多角形の色ルールを指定します。](#ColorRules)  
  
    3.  [カラー スケールでデータを通貨として書式設定します。](#ColorScale)  
  
    4.  [新しい凡例を作成します。](#NewLegend)  
  
    5.  [関連付けの凡例と色のルール](#Associate)  
  
    6.  [データのない郡の色をクリアします。](#NoData)  
  
7.  [カスタム ポイントを追加します。](#CustomPoint)  
  
8.  [マップ ビューを中心します。](#CenterView)  
  
9. [レポート タイトルを追加します。](#Title)  
  
10. [レポートを保存します。](#Save)  
  
> [!NOTE]  
>  このチュートリアルでは、ウィザードに関する複数の手順を、データセットの作成とテーブルの作成の 2 つの手順にまとめて示します。 レポート サーバーの参照、データ ソースの選択、データセットの作成、およびウィザードの実行に関する詳細な手順については、このシリーズの最初のチュートリアルである「[チュートリアル: 基本的な表レポートの作成 &#40;レポート ビルダー&#41;](../reporting-services/tutorial-creating-a-basic-table-report-report-builder.md)」を参照してください。  
  
 このチュートリアルの推定所要時間:30 分。  
  
## <a name="requirements"></a>必要条件  
 要件の詳細については、[「チュートリアルの前提条件 (レポート ビルダー)」](../reporting-services/report-builder-tutorials.md) を参照してください。  
  
##  <a name="Map"></a> 1.マップ ウィザードを使用して多角形レイヤーを含むマップを作成する  
 マップをマップ ギャラリーからレポートに追加します。 このマップには、New York 州の郡を表示するレイヤーが含まれています。 各郡の図形は、マップ ギャラリーのマップに埋め込まれている空間データに基づく多角形です。  
  
#### <a name="to-add-a-map-with-the-map-wizard-in-a-new-report"></a>新しいレポートでマップ ウィザードを使用してマップを追加するには  
  
1.  クリックして**開始**、 をポイント**プログラム**、 をポイント[!INCLUDE[ssCurrentUI](../includes/sscurrentui-md.md)]**レポート ビルダー**、順にクリックします**レポート ビルダー**します。  
  
     [作業の開始] ダイアログ ボックスが表示されます。  
  
    > [!NOTE]  
    >  作業の開始 ダイアログ ボックスが表示されない場合、レポート ビルダーのボタン クリックして**新規**します。  
  
2.  左側のウィンドウであることを確認**レポート**が選択されています。  
  
3.  右ペインで、 **[マップ ウィザード]** をクリックします。  
  
4.  **[作成]** をクリックします。  
  
5.  **空間データのソースを選択**ことを確認します ページで、**マップ ギャラリー**が選択されています。  
  
6.  マップ ギャラリー] ペインで [**州を郡ごと**[ **USA**、] をクリック**ニューヨーク**します。  
  
     [マップ プレビュー] ペインに、New York の郡マップが表示されます。  
  
7.  **[次へ]** をクリックします。  
  
8.  **選択の空間データとマップ ビューのオプション** ページで、既定値を受け入れます。 既定では、マップ ギャラリーのマップ要素は自動的にレポート定義に埋め込まれます。  
  
9. **[次へ]** をクリックします。  
  
10. **[マップの視覚エフェクトを選択]** ページで、 **[基本マップ]** が選択されていることを確認し、 **[次へ]** をクリックします。  
  
11. **[配色テーマとデータの視覚エフェクトを選択]** ページで、 **[ラベルの表示]** チェック ボックスをオンにします。  
  
12. **[単色マップ]** チェック ボックスがオンになっている場合はオフにします。  
  
13. **データ フィールド**ドロップダウン一覧で #COUNTYNAME をクリックします。 ウィザードの [マップ プレビュー] ペインに次のアイテムが表示されます。  
  
    -   " **マップのタイトル**" というテキストを含むタイトル。  
  
    -   New York の郡を表示するマップ。各郡は異なる色で表示され、郡の領域に収まる場所に郡の名前が表示されます。  
  
    -   タイトルとアイテム 1 ～ 5 の一覧を含む凡例。  
  
    -   値 0 ～ 160 および色なしを含むカラー スケール。  
  
    -   キロメートル (km) およびマイル (mi) を表示する距離スケール。  
  
14. **[完了]** をクリックします。  
  
     デザイン画面にマップが追加されます。  
  
15. マップを選択し、表示をクリックして、**マップ レイヤー ペイン**します。 **マップ レイヤー ペイン**レイヤーの種類の 1 つの多角形レイヤーが表示されます**埋め込み**します。 各郡は、このレイヤー上の埋め込みマップ要素となります。  
  
    > [!NOTE]  
    >  表示されない場合、**マップ レイヤー**ウィンドウで、現在のビューの外に表示される可能性があります。 デザイン ビュー ウィンドウの下部にあるスクロール バーを使用して、ビューを変更してください。 または、**ビュー**タブで、、**プロパティ**または**レポート データ**デザイン サーフェス領域を提供するオプション。  
  
16. マップのタイトルを右クリックし、をクリックし、**のタイトルのプロパティ**します。  
  
17. タイトルのテキストを置き換える**Sales by Store**します。  
  
18. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
19. レポートをプレビューします。  
  
 表示されたレポートには、マップのタイトル、マップ、および距離スケールが表示されています。 郡はマップの多角形レイヤーにあります。 各郡は多角形で、カラー パレットからそれぞれ異なる色が割り当てられていますが、色はデータとは関連付けられていません。 距離スケールには、距離がキロメートル単位とマイル単位の両方で表示されます。  
  
 マップの凡例とカラー スケールは、各郡に分析データが関連付けられていないため、まだ表示されません。 このチュートリアルで後ほど分析データを追加します。  
  
##  <a name="PointLayer"></a> 2.店舗の場所を表示するマップのポイント レイヤーを追加する  
 マップ レイヤー ウィザードを使用して、店舗の場所を表示するポイント レイヤーを追加します。  
  
> [!NOTE]  
>  このチュートリアルのクエリにはデータ値が含まれているため、外部のデータ ソースを必要としません。 このため、クエリが非常に長くなっています。 ビジネス環境でクエリにデータを含めることはありません。 これは、学習に使用することのみを目的としています。  
  
#### <a name="to-add-a-point-layer-based-on-a-sql-server-spatial-query"></a>SQL Server 空間クエリに基づいてポイント レイヤーを追加するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。 ツールバーの **[レイヤーの新規作成]** ボタン ![rs_IconMapLayerWizard](../../2014/tutorials/media/rs-iconmaplayerwizard.gif "rs_IconMapLayerWizard") をクリックします。  
  
3.  **[空間データのソースを選択]** ページで、 **[SQL Server 空間クエリ]** を選択し、 **[次へ]** をクリックします。  
  
4.  **SQL Server 空間データを含むデータセットの選択**] ページで [ **SQL Server 空間データを含む新しいデータセットを追加**、順にクリックします**次**。  
  
5.  **[SQL Server 空間データ ソースへの接続の選択]** ページで、既存のデータ ソースを選択するか、レポート サーバーを参照してデータ ソースを選択します。  
  
6.  **[次へ]** をクリックします。  
  
7.  デザイン クエリ ページで、次のようにクリックします。**テキストとして編集**します。  
  
8.  クエリ ペインに次のテキストを貼り付けます。  
  
    ```  
    Select 114 as StoreKey, 'Contoso Albany Store' as StoreName, 1125 as SellingArea, 'Albany' as City, 'Albany' as County,   
     CAST(1000000 as money) as Sales, CAST('POINT(-73.7472924218681 42.6564617079878)' as geography) AS SpatialLocation  
    UNION ALL SELECT 115 AS StoreKey, 'Contoso New York No.1 Store' AS  StoreName, 500 as SellingArea, 'New York' AS City, 'New York City' as County,  
     CAST('2000000' as money) as Sales, CAST('POINT(-73.9922069374483 40.7549638237402)' as geography) AS SpatialLocation  
    UNION ALL Select 116 as StoreKey, 'Contoso Rochester No.1 Store' as StoreName, 462 as SellingArea, 'Rochester' as City,  'Monroe' as County,    
     CAST(3000000 as money) as Sales, CAST('POINT(-77.624041566786 43.1547066024338)' as geography)  AS SpatialLocation  
    UNION ALL Select 117 as StoreKey, 'Contoso New York No.2 Store' as StoreName, 700 as SellingArea, 'New York' as City,'New York City' as County,    
      CAST(4000000 as money) as Sales, CAST('POINT(-73.9712488 40.7830603)' as geography) AS SpatialLocation  
    UNION ALL Select 118 as StoreKey, 'Contoso Syracuse Store' as StoreName, 680 as SellingArea, 'Syracuse' as City, 'Onondaga' as County,  
     CAST(5000000 as money) as Sales, CAST('POINT(-76.1349120532546 43.0610223535974)' as geography) AS SpatialLocation  
    UNION ALL Select 120 as StoreKey, 'Contoso Plattsburgh Store' as StoreName, 560 as SellingArea, 'Plattsburgh' as City,  'Clinton' as County,  
     CAST(6000000 as money) as Sales, CAST('POINT(-73.4728622833178 44.7028831413324)' as geography) AS SpatialLocation  
    UNION ALL Select 121 as StoreKey, 'Contoso Brooklyn Store' as StoreName, 1125 as SellingArea, 'Brooklyn' as City, 'New York City' as County,  
     CAST(7000000 as money) as Sales, CAST('POINT (-73.9638533447143 40.6785123489351)' as geography) AS SpatialLocation  
    UNION ALL Select 122 as StoreKey, 'Contoso Oswego Store' as StoreName, 500 as SellingArea, 'Oswego' as City, 'Oswego' as County,    
     CAST(8000000 as money) as Sales, CAST('POINT(-76.4602850815536 43.4353224527794)' as geography) AS SpatialLocation  
    UNION ALL Select 123 as StoreKey, 'Contoso Ithaca Store' as StoreName, 460 as SellingArea, 'Ithaca' as City, 'Tompkins' as County,  
     CAST(9000000 as money) as Sales, CAST('POINT(-76.5001866085881 42.4310489934743)' as geography) AS SpatialLocation  
    UNION ALL Select 124 as StoreKey, 'Contoso Rochester No.2 Store' as StoreName, 700 as SellingArea, 'Rochester' as City, 'Monroe' as County,    
     CAST(100000 as money) as Sales, CAST('POINT(-77.6240415667866 43.1547066024338)' as geography) AS SpatialLocation  
    UNION ALL Select 125 as StoreKey, 'Contoso Queens Store' as StoreName, 700 as SellingArea,'Queens' as City, 'New York City' as County,  
     CAST(500000 as money) as Sales, CAST('POINT(-73.7930979029883 40.7152781765927)' as geography) AS SpatialLocation  
    UNION ALL Select 126 as StoreKey, 'Contoso Elmira Store' as StoreName, 680 as SellingArea, 'Elmira' as City, 'Chemung' as County,  
     CAST(800000 as money) as Sales, CAST('POINT(-76.7397414783301 42.0736492742663)' as geography) AS SpatialLocation  
    UNION ALL Select 127 as StoreKey, 'Contoso Poestenkill Store' as StoreName, 455 as SellingArea, 'Poestenkill' as City, 'Rensselaer' as County,    
    CAST(1500000 as money) as Sales, CAST('POINT(-73.5626737425063 42.6940551238618)' as geography) AS SpatialLocation  
    ```  
  
9. クエリ デザイナーのツール バーで、 **[実行]** ( **!** ) をクリックします。  
  
     結果セットには、7 つの列が表示されます。StoreKey、StoreName、SellingArea、City、County、Sales、および SpatialLocation します。 このデータは、消費者向けの商品を販売している New York 州内の店舗を表しています。 結果セットの各行には、店舗識別子、店舗名、商品の展示に使用できる面積、店舗の所在地の市および郡、売上合計、および所在地の経度と緯度が含まれています。 展示面積の範囲は 455 ～ 1125 平方フィートです。  
  
10. **[次へ]** をクリックします。  
  
     DataSet1 という名前のレポート データセットが作成されます。 ウィザードを完了した後、レポート データを使用して、このデータセットのフィールド コレクションを表示できます。  
  
11. **空間データを選択し、マップ ビューのオプション** ページで、いることを確認、**空間フィールド**は`SpatialLocation`ことと、**レイヤーの種類**は**ポイント**. このページの他の項目は、既定の設定をそのまま使用します。  
  
     マップ ビューに、各店舗の場所を示す円が表示されます。  
  
12. **[次へ]** をクリックします。  
  
13. 分析データによって異なるマーカーを表示するマップの種類を指定します。 マップの視覚エフェクトの選択 ページで、をクリックして**分析マーカー マップ**、 をクリックし、**次**します。  
  
14. **分析データセットの選択** ページで、DataSet1 をクリックします。 このデータセットには、新しいポイント レイヤーに表示される分析データと空間データの両方が含まれています。  
  
15. **[次へ]** をクリックします。  
  
16. **配色テーマとデータの視覚エフェクトを選択** ページで、クリア、**マーカーの色を使用してデータを視覚化する**オプション、およびオプションを選択し、 **データを視覚化するマーカーの種類を使用して**.  
  
17. **データ フィールド**を選択します`[Sum(SellingArea)]`にマーカーの種類を展示、製品を表示する領域のサイズによって異なります。  
  
18. **[完了]** をクリックします。  
  
     マップ レイヤーがレポートに追加されます。 凡例には、SellingArea の値に基づくマーカーの種類が表示されます。  
  
     マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。 **[マップ レイヤー]** ペインに、空間データ ソースの種類が **DataRegion**である新しいレイヤー PointLayer1 が表示されます。  
  
19. 凡例のタイトルを追加します。 凡例のタイトルを右クリックし、をクリックし、**凡例のタイトルのプロパティ**します。  
  
20. Delete、タイトル、および種類**Display Area (Square Feet)** します。  
  
21. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
22. ウィザードによって設定された既定値を確認します。 **マップ レイヤー] ペイン**、ポイント レイヤーを右クリックし、[クリックして**マーカーの種類のルール**します。  
  
     **全般** タブで、凡例に表示される順序でマーカーが表示されています。 **配布** タブで、部分範囲の数は 5 です。 **凡例** タブで、各範囲の開始と終了値を表示する凡例のテキストが設定されています。  
  
23. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
24. レポートをプレビューします。  
  
 マップには、New York 州にある店舗の場所が表示されます。 各店舗のマーカーの種類は展示面積に基づいています。 展示面積の 5 つの範囲が自動的に計算されます。  
  
##  <a name="LineLayer"></a> 3.ルートを表示するマップの線レイヤーを追加する  
 マップ レイヤー ウィザードを使用して、2 つの店舗間のルートを表示するマップ レイヤーを追加します。 このチュートリアルではパスを 3 つの店舗の場所から作成しますが、 ビジネス アプリケーションでは店舗間の最適なルートにすることができます。  
  
#### <a name="to-add-a-line-layer-to-map"></a>マップに線レイヤーを追加するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。 ツールバーの**レイヤーの新規作成ウィザード**します。  
  
3.  **[空間データのソースを選択]** ページで、 **[SQL Server 空間クエリ]** を選択し、 **[次へ]** をクリックします。  
  
4.  **[SQL Server 空間データを含むデータセットの選択]** ページで、 **[SQL Server 空間データを含む新しいデータセットの追加]** をクリックし、 **[次へ]** をクリックします。  
  
5.  **SQL Server の空間データ ソースへの接続の選択**DataSource1、最初の手順で作成したデータ ソースを選択します。  
  
6.  **[次へ]** をクリックします。  
  
7.  **[クエリのデザイン]** ページで、 **[テキストとして編集]** をクリックします。 クエリ デザイナーがテキスト ベース モードに切り替わります。  
  
8.  クエリ ペインに次のテキストを貼り付けます。  
  
    ```  
    SELECT N'Path' AS Name, CAST('LINESTRING(  
       -76.5001866085881 42.4310489934743,  
       -76.4602850815536 43.4353224527794,  
       -73.4728622833178 44.7028831413324)' AS geography) as Route  
    ```  
  
9. **[次へ]** をクリックします。  
  
     3 つの店舗を接続するパスがマップに表示されます。  
  
10. **[空間データとマップ ビューのオプションを選択]** ページで、 **[空間フィールド]** が **Route** であり、 **[レイヤーの種類]** が **[線]** であることを確認します。 他の項目は既定の設定をそのまま使用します。  
  
     マップ ビューに、New York 州の北部にある店舗から New York 州の南部にある店舗へのパスが表示されます。  
  
11. **[次へ]** をクリックします。  
  
12. **[マップの視覚エフェクトを選択]** ページで、 **[基本線マップ]** をクリックし、 **[次へ]** をクリックします。  
  
13. **[配色テーマとデータの視覚エフェクトを選択]** で、 **[単色マップ]** オプションを選択します。 選択したテーマに基づく 1 つの色でパスが表示されます。  
  
14. **[完了]** をクリックします。  
  
 マップには、空間データ ソースの種類である新しい線レイヤーが表示されます。**データセット**します。 この例では、空間データがデータセットから得られますが、線に分析データは関連付けられていません。  
  
##  <a name="TileLayer"></a> 4.Bing Maps のタイル背景を追加する  
 Bing Maps のタイル背景を表示するマップ レイヤーを追加します。  
  
#### <a name="to-add-a-virtual-earth-tile-background"></a>Virtual Earth タイル背景を追加するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。 ツールバーの**レイヤーの追加**![rs_IconMapAddLayer](../../2014/tutorials/media/rs-iconmapaddlayer.gif "rs_IconMapAddLayer")します。  
  
3.  ドロップダウン リストで、 **[タイル レイヤー]** をクリックします。  
  
     **[マップ レイヤー]** ペインの最後のレイヤーは TileLayer1 です。 既定では、タイル レイヤーには道路地図スタイルが表示されます。  
  
    > [!NOTE]  
    >  ウィザードでも、 **[空間データとマップ ビューのオプションを選択]** ページでタイル レイヤーを追加できます。 そのためには、 **[このマップ ビューに Bing Maps の背景を追加する]** を選択します。 表示されるレポートのタイルの背景では、現在のマップ ビューポートの中心およびズーム レベルに基づいて Bing Maps のタイルが表示されます。  
  
4.  、TileLayer1 の下向き矢印をクリックし、**タイル プロパティ**します。  
  
5.  **型**、 **[航空写真]** します。 航空写真ビューには、テキストは含まれません。  
  
6.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
##  <a name="Transparent"></a> 5.レイヤーを透明にする  
 レイヤー上のアイテムが別のレイヤーを通して見えるようにするには、レイヤーの順序と各レイヤーの透明度を、目的の効果が得られるように調整します。  
  
#### <a name="to-set-the-transparency-of-a-layer"></a>レイヤーの透明度を設定するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。  
  
3.  、PolygonLayer1 の下向き矢印をクリックし、**レイヤー データ**します。 **[マップの多角形レイヤーのプロパティ]** ダイアログ ボックスが表示されます。  
  
4.  **[表示]** をクリックします。  
  
5.  **透明度 (%)** 、型**30**します。  
  
6.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
 デザイン画面に郡が半透明で表示されます。  
  
##  <a name="Vary"></a> 6.郡の色を売上に基づいて変化させる  
 レポート プロセッサにより、マップ ウィザードの最後のページで選択したテーマに基づいてカラー パレットから色値が自動的に割り当てられるため、多角形レイヤー上の各郡は異なる色で表示されます。  
  
 以降の手順では、各郡の店舗売上の範囲に特定の色を関連付ける色ルールを指定します。 赤、黄、緑の各色は、売上高が相対的に高い、中程度、または低いことを示します。 カラー スケールを通貨形式に変更します。 新しい凡例に年間売上高の範囲を表示します。 店舗のない郡については、どの色も使用しないことで、関連付けられたデータがないことを示します。  
  
###  <a name="Relationship"></a> 6a. 空間データと分析データの間にリレーションシップを構築する  
 分析データに基づいて郡の図形を色分けするには、まず分析データを空間データに関連付けておく必要があります。 このチュートリアルでは、郡の名前を使用してデータを対応させます。  
  
##### <a name="to-build-a-relationship-between-spatial-data-and-analytical-data"></a>空間データと分析データの間にリレーションシップを構築するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。  
  
3.  、PolygonLayer1 の下向き矢印をクリックし、**レイヤー データ**します。 **[マップの多角形レイヤーのプロパティ]** ダイアログ ボックスが表示されます。  
  
4.  **[分析データ]** をクリックします。  
  
5.  ドロップダウン リストから [DataSet1] を選択します。 このデータセットは、郡の空間データ クエリを指定したときにウィザードによって作成されたものです。  
  
6.  **一致させるフィールド**、 をクリックして**追加**します。 新しい行が追加されます。  
  
7.  **空間データセットから**、ドロップダウン リストから [COUNTYNAME] をクリックします。  
  
8.  **分析データセットから**、ドロップダウン リストから、[County] をクリックします。  
  
9. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
10. レポートをプレビューします。  
  
 空間データ ソースおよび分析データセットから対応フィールドを指定することで、レポート プロセッサではマップ要素に基づいて分析データをグループ化できます。 データバインド マップ要素には、指定した値の適切な対応が含まれています。  
  
 店舗がある各郡には、ウィザードで選択したスタイルのカラー パレットに基づく色が割り当てられています。  
  
###  <a name="ColorRules"></a> 6b します。 多角形の色ルールを指定する  
 各郡の色を店舗売上に基づいて変化させるルールを作成するには、範囲の値、その範囲内で表示する部分範囲の数、および使用する色を指定する必要があります。  
  
##### <a name="to-specify-color-rules-for-all-polygons-that-have-associated-data"></a>データが関連付けられているすべての多角形の色ルールを指定するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  、PolygonLayer1 の下向き矢印をクリックし、**多角形の色のルール**します。 **[マップの色のルールのプロパティ]** ダイアログ ボックスが表示されます。 色ルールのオプションとして **[色パレットを使用してデータを表示する]** が選択されています。 このオプションは、ウィザードによって設定されたものです。  
  
3.  **[色の範囲を使用してデータを表示する]** を選択します。 パレット オプションが、開始色、中間色、および終了色のオプションで置き換えられます。  
  
4.  郡の売上高について値の範囲を定義します。 **[データ フィールド]** のドロップダウン リストで `[Sum(Sales)]`を選択します。  
  
5.  通貨が 1,000 単位で表示されるようにするために、式を次のように変更します。 `=Sum(Fields!Sales.Value)/1000`  
  
6.  **[最初の色]** を **[赤]** に変更します。  
  
7.  **[最後の色]** を **[緑]** に変更します。  
  
     **[赤]** は低い売上高、 **[黄]** は中程度の売上高、 **[緑]** は高い売上高を表します。 レポート プロセッサでは、これらの値と、 **[分布]** ページで選択したオプションに基づいて、色の範囲が計算されます。  
  
8.  **[分布]** をクリックします。  
  
9. 分布の種類が **[最適]** であることを確認します。 手順 5 の式の場合、最適な分布では、各範囲のアイテム数と各範囲の大きさとのバランスが取れるような部分範囲に値が分布されます。  
  
10. このページの他のオプションについては、既定の値をそのまま使用します。 最適な分布タイプを選択した場合は、レポートを実行すると部分範囲の数が計算されます。  
  
11. **[凡例]** をクリックします。  
  
12. **[カラー スケールのオプション]** で、 **[カラー スケールに表示]** が選択されていることを確認します。  
  
13. **[この凡例に表示]** のドロップダウン リストで、空白行を選択します。 ここでは、色の範囲をカラー スケールだけで表示します。  
  
14. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
 カラー スケールには、赤、橙、黄、黄緑、緑の 5 色が表示されます。 各色は、郡別の売上に基づいて自動的に計算された売上範囲を表しています。  
  
###  <a name="ColorScale"></a> 6 c。 カラー スケールのデータを通貨形式に変更する  
 既定では、一般的な形式がデータに適用されますが、 形式をカスタマイズすることもできます。  
  
##### <a name="to-set-the-format-for-the-color-scale"></a>カラー スケールの形式を設定するには  
  
1.  カラー スケールを右クリックし、をクリックし、**カラー スケールのプロパティ**します。  
  
2.  クリックして**数**します。  
  
3.  **カテゴリ**、 をクリックして**通貨**します。  
  
4.  **小数点**、型**0**します。 この形式は、通貨に小数点以下を表示しないことを指定します。  
  
5.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
6.  レポートをプレビューします。  
  
 カラー スケールで、各範囲の年間売上高が通貨形式で表示されます。  
  
###  <a name="NewLegend"></a> 6 d。 新しい凡例を作成する  
 既定では、すべてのルールが最初の凡例に表示されますが、 マップをより見やすく表示するために凡例を追加することもできます。  
  
 既定の表示を変更するには、2 つの手順を実行する必要があります。まず新しい凡例を作成し、次に、その新しい凡例にマップ レイヤーのルールの結果を関連付けます。  
  
##### <a name="to-create-a-new-legend"></a>新しい凡例を作成するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  マップ ビューポートの外を右クリックし、**凡例の追加**します。 マップの既定の位置に凡例が追加されます。  
  
3.  凡例を右クリックし、クリックして**凡例のプロパティ**します。  
  
4.  **位置オプション**凡例はビューポートを基準と表示をすることを指定する場所をクリックします。 選択した位置に合わせてデザイン画面上のマップが変化します。  
  
5.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
6.  クリックして**タイトル**の凡例の凡例のタイトルを選択します。  
  
7.  クリックして**タイトル**テキストの挿入モードを入力するには、もう一度です。 置換**タイトル**によって**Sales (Thousands)** テキストの外側をクリックします。  
  
 タイトルが表示されるように凡例が拡張されます。  
  
###  <a name="Associate"></a> 6e します。 凡例と色ルールを関連付ける  
 各凡例には、ルールの結果セットを 1 つ以上表示できます。  
  
##### <a name="to-associate-a-legend-with-color-rules"></a>凡例を色ルールに関連付けるには  
  
1.  マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。  
  
2.  、PolygonLayer1 の下向き矢印をクリックし、**多角形の色のルール**します。 **[マップの色のルールのプロパティ]** ダイアログ ボックスが表示されます。  
  
3.  **[凡例]** をクリックします。  
  
4.  **カラー スケールのオプション**, clear**カラー スケールに表示**します。  
  
5.  **凡例オプション**、ドロップダウン リストから Legend2 を選択します。 凡例テキストのオプションが表示されます。 既定では、[!INCLUDE[dnprdnshort](../includes/dnprdnshort-md.md)] の一般的な書式設定文字列が凡例テキストに対して使用されます。 N0 の 0 は、小数部がないことを示します。  
  
6.  **凡例テキスト**、次の形式を使用して、通貨小数部のないを指定します。 `#FROMVALUE {C0} - #TOVALUE {C0}`  
  
7.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
     デザイン画面で、通貨形式のサンプル データを含む色の範囲が凡例に表示されます。  
  
8.  レポートをプレビューします。  
  
 店舗と売上が関連付けられている郡が、色のルールに従って表示されます。 売上が関連付けられていない郡の色はありません。  
  
###  <a name="NoData"></a> 6f します。 データがない郡の色を変更する  
 レイヤー上のすべてのマップ要素の既定の表示オプションを設定することができます。 これらの表示オプションよりも色ルールが優先されます。  
  
##### <a name="to-set-the-display-properties-for-all-elements-on-a-layer"></a>レイヤー上のすべての要素に対して表示プロパティを設定するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。  
  
3.  PolygonLayer1 の下向き矢印をクリックし、 **[多角形のプロパティ]** をクリックします。 **[マップの多角形のプロパティ]** ダイアログ ボックスが表示されます。 このダイアログ ボックスで設定した表示オプションは、ルールに基づく表示オプションが適用される前にレイヤー上のすべての多角形に適用されます。  
  
4.  クリックして**入力**します。  
  
5.  塗りつぶしのスタイルが**点灯します。** になっていることを確認します。グラデーションやパターンはすべての色に適用されます。  
  
6.  **色**、下向きの矢印をクリックし、**薄いスチール ブルー**します。  
  
7.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
8.  レポートをプレビューします。  
  
 データが関連付けられていない郡が青で表示されます。 分析データが関連付けられている郡のみが表示される、 **Red**を通じて**緑**指定した色のルールの色。  
  
##  <a name="CustomPoint"></a> 7.カスタム ポイントを追加する  
 まだ組み込まれていない新しい店舗を表す、ポイントを指定し、使用、**プッシュピン**マーカーの種類。  
  
#### <a name="to-add-a-custom-point"></a>カスタム ポイントを追加するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  マップをダブルクリックして **[マップ レイヤー]** ペインを表示します。 ツールバーの**レイヤーの追加**、 をクリックし、**ポイント レイヤー**します。  
  
     新しいポイント レイヤーがマップに追加されます。 既定では、ポイント レイヤーの空間データの種類は **[埋め込み]** になります。  
  
3.  Pointlayer2、下矢印をクリックし、**ポイントの追加**します。  
  
4.  マップ ビューポートにポインターを移動します。 カーソルが十字に変化します。  
  
5.  マップ上でポイントを追加する場所をクリックします。 このチュートリアルでは、ルートの始点の隣の場所をクリックします。 レイヤー上のクリックした場所に、円で示されるポイントが追加されます。 既定では、ポイントが選択された状態になります。  
  
6.  追加したポイントを右クリックし、 **[埋め込みポイントのプロパティ]** をクリックします。  
  
7.  オプションを選択**このレイヤーのポイント オプションをオーバーライド**します。 ダイアログ ボックスに追加のページが表示されます。 ここで設定したオプションは、レイヤーまたは色ルールの表示オプションよりも優先されます。  
  
8.  クリックして**マーカー**します。  
  
9. **マーカーの種類**、**スター**します。  
  
10. [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
11. レポートをプレビューします。  
  
 として追加した新しいポイントが表示されます、**スター**します。  
  
#### <a name="to-add-a-label-for-the-custom-point"></a>カスタム ポイントに対してラベルを追加するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  追加したポイントを右クリックし をクリックし、**埋め込みポイントのプロパティ**します。  
  
3.  クリックして**ラベル**します。  
  
4.  **テキスト ラベルを付ける**、型**New Store**します。  
  
5.  **[位置]** で **[上]** をクリックします。  
  
6.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
7.  レポートをプレビューします。  
  
 店舗の場所の上にラベルが表示されます。  
  
##  <a name="CenterView"></a> マップ ビューを中心します。  
 マップ ビューポートの中心とズーム レベルを変更します。  
  
#### <a name="to-change-the-viewport"></a>ビューポートを変更するには  
  
1.  マップ ビューポートを右クリックし をクリックし、**ビューポートのプロパティ**します。  
  
2.  クリックして**中心し、ズーム**します。  
  
3.  いることを確認オプション**ビューの中心とズーム レベル設定**が選択されています。  
  
4.  [!INCLUDE[clickOK](../includes/clickok-md.md)]  
  
5.  マップ ビューポートをクリックして、ビューポートの中心を目的の場所までドラッグします。  
  
6.  マウス ホイールを使用してビューポートのズーム レベルを変更します。  
  
7.  レポートをプレビューします。  
  
 デザイン ビューでは、デザイン画面やビューのマップはサンプル データに基づいています。 表示されたレポートでは、指定したビューがマップ ビューの中心になります。  
  
##  <a name="Title"></a> レポート タイトルを追加します。  
  
#### <a name="to-add-a-report-title"></a>レポート タイトルを追加するには  
  
1.  デザイン画面で、 **[クリックしてタイトルを追加]** をクリックします。  
  
2.  「 **Sales in New York Stores** 」と入力し、テキスト ボックスの外側をクリックします。  
  
 このタイトルは、レポートの最上部に表示されます。 ページ ヘッダーが定義されていない場合は、レポート本文の最上部にあるアイテムがレポート ヘッダーに相当します。  
  
##  <a name="Save"></a> レポートを保存します。  
  
#### <a name="to-save-the-report"></a>レポートを保存するには  
  
1.  デザイン ビューに切り替えます。  
  
2.  レポート ビルダーのボタンの **[名前を付けて保存]** をクリックします。  
  
3.  **[名前]** に、「 **Store Sales in New York**」と入力します。  
  
 **[保存]** をクリックします。  
  
## <a name="next-steps"></a>次の手順  
 これで、レポートにマップを追加する方法のチュートリアルは終了です。  
  
 詳細については、次を参照してください。[マップ&#40;レポート ビルダーおよび SSRS&#41; ](report-design/maps-report-builder-and-ssrs.md)とブログ エントリ[地図的調整の空間データを SQL Server Reporting Services](https://go.microsoft.com/fwlink/?LinkId=152771) blogs.msdn.com します。  
  
 詳細なチュートリアルについては、次を参照してください。[チュートリアル&#40;レポート ビルダー&#41;](report-builder-tutorials.md)します。  
  
## <a name="see-also"></a>参照  
 [チュートリアル&#40;レポート ビルダー&#41;](report-builder-tutorials.md)   
 [SQL Server 2014 のレポート ビルダー](report-builder/report-builder-in-sql-server-2016.md)   
 [マップ ウィザードおよびマップ レイヤー ウィザードのページ &#40;レポート ビルダーおよび SSRS&#41;](report-design/map-wizard-and-map-layer-wizard-report-builder-and-ssrs.md)   
 [ルールおよび分析データを使用した多角形、線、およびポイントの表示の変更 &#40;レポート ビルダーおよび SSRS&#41;](report-design/vary-polygon-line-and-point-display-by-rules-and-analytical-data.md)  
  
  
