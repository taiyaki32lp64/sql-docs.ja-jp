---
title: メモリ最適化テーブルのストレージの構成 | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: in-memory-oltp
ms.topic: conceptual
ms.assetid: 6e005de0-3a77-4b91-b497-14cc0f9f6605
author: CarlRabeler
ms.author: carlrab
manager: craigg
ms.openlocfilehash: 93698be4738ef2a28c79581d0957f695b036c911
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "62990637"
---
# <a name="configuring-storage-for-memory-optimized-tables"></a>メモリ最適化テーブルのストレージの構成
  記憶域の容量と 1 秒間の入出力操作 (IOPS) を構成する必要があります。  
  
## <a name="storage-capacity"></a>記憶域の容量  
 [メモリ最適化テーブルのメモリ必要量の推定](memory-optimized-tables.md) の情報を使用して、データベースの持続性のあるメモリ最適化テーブルのメモリ内サイズを推定します。 インデックスはメモリ最適化テーブルに対して永続化されないため、インデックスのサイズは含めません。 サイズを確認した後には、持続性のあるメモリ内テーブルのサイズの 4 倍のディスク領域を提供する必要があります。  
  
## <a name="storage-performance"></a>記憶域のパフォーマンス  
 [!INCLUDE[hek_2](../../includes/hek-2-md.md)] は、ワークロードのスループットを大幅に上げることができます。 したがって、IO がボトルネックになっていないことを確認してください。  
  
-   ディスク ベース テーブルをメモリ最適化テーブルに移行するときは、トランザクション ログ アクティビティの増加をサポートできる記憶メディアにトランザクション ログがあることを確認してください。 たとえば、記憶メディアが 100 MB/秒のトランザクション ログの処理をサポートし、その結果としてメモリ最適化テーブルが 5 倍優れたパフォーマンスをもたらす場合、トランザクション ログ アクティビティがパフォーマンスのボトルネックになることを防ぐために、トランザクション ログの記憶メディアでも、5 倍のパフォーマンス向上をサポートできる必要があります。  
  
-   メモリ最適化テーブルは、1 つまたは複数のコンテナーに分散されたファイルに保存されます。 各コンテナーは、通常、独自のスピンドルにマップする必要があり、増加する記憶域容量とパフォーマンスの向上の両方のために使用されます。 記憶域メディアのシーケンシャル IOPS が、3 をサポートできるようにする必要があるトランザクション ログのスループットで時間が増大します。  
  
     たとえば、メモリ最適化テーブルでは、トランザクション ログで 500 MB/秒のアクティビティを生成するメモリ最適化テーブルのストレージは 1.5 GB/秒をサポートする必要があります。3 倍をサポートする必要があるトランザクション ログのスループット向上するには、監視データとデルタ ファイル ペアは、まず初期データと共に書き込まし、読み取り/再書き込みされる必要がありますからマージ操作の一部として。  
  
     記憶域のスループットを見積もる際のもう 1 つの要因は、メモリ最適化テーブルの復旧時間です。 持続性のあるテーブルからのデータは、データベースがアプリケーションで使用される前にメモリに読み込む必要があります。 一般的に、メモリ最適化テーブルへのデータの読み込みは IOPS の速度で実行できます。 それで、持続性のあるメモリ最適化テーブルの合計の記憶域が 60 GB で、1 分でこのデータを読み込めるようにする場合は、記憶域の IOPS を 1 GB/秒に設定する必要があります。  
  
-   偶数個のスピンドルを使用している場合、コンテナー数の 2 倍を作成し、各ペアを同じスピンドルにマップする必要があります。 これは、IOPS および記憶域を分散するために必要です。 詳細については、次を参照してください。[メモリ最適化ファイルグループ](the-memory-optimized-filegroup.md)します。  
  
## <a name="see-also"></a>参照  
 [メモリ最適化オブジェクト用ストレージの作成と管理](creating-and-managing-storage-for-memory-optimized-objects.md)  
  
  
