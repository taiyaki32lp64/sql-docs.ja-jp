---
title: トレース結果の表示の変更 |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
ms.assetid: 860a80dc-bac0-4ef0-bf7f-7a9b430d7aa3
author: mashamsft
ms.author: mathoma
manager: craigg
ms.openlocfilehash: 780772f7703e4499c13eb9373ccad4252097b536
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66089434"
---
# <a name="modify-the-trace-results-view"></a>トレース結果の表示の変更
  このトピックでは、次のタスクを実行して [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)] の拡張イベント セッションのトレース結果ビューを変更する方法について説明します。  
  
1.  [追加または列の削除](#AddRemoveColumns)  
  
2.  [作成、編集、またはマージされた列の削除](#ChangeColumns)  
  
3.  [結果を並べ替え](#SortResults)  
  
4.  [結果をグループ化します。](#GroupResults)  
  
5.  [集計結果](#AggregateResults)  
  
6.  [結果をフィルター処理します。](#Filter)  
  
7.  [列のテキストの検索](#Search)  
  
8.  [表示設定を変更します。](#ChangeDisplay)  
  
##  <a name="AddRemoveColumns"></a> 追加または列の削除  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックして、 **[ライブ データの監視]** をクリックしてもかまいません。  
  
2.  トレース結果ウィンドウで、列見出しを右クリックして、 **[列の選択]** をクリックします。  
  
3.  **[列の選択]** ダイアログ ボックスの **[使用可能な列]** で、追加する列の名前を選択し、右矢印をクリックします。  
  
    > [!NOTE]  
    >  既定では、列は名前順に表示されます。 列をイベント順に表示するには、 **[イベントで並べ替え]** をクリックします。  
  
     列を削除するには、 **[選択した列]** セクションで、削除する列を選択し、左矢印をクリックします。  
  
4.  列の表示順序を変更するには、 **[選択した列]** セクションで **[上へ移動]** または **[下へ移動]** をクリックします。 複数行を移動することはできません。  
  
5.  **[OK]** をクリックします。  
  
##  <a name="ChangeColumns"></a> 作成、編集、またはマージされた列の削除  
  
#### <a name="to-create-merged-columns"></a>結合列を作成するには  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックして、 **[ライブ データの監視]** をクリックしてもかまいません。  
  
2.  トレース結果ウィンドウで、列見出しを右クリックして、 **[列の選択]** をクリックします。  
  
3.  **[列の選択]** ダイアログ ボックスで **[新規作成]** をクリックします。  
  
4.  **[新しい結合列]** ダイアログ ボックスの **[結合列の名前]** ボックスに結合列の名前を入力します。  
  
5.  **[結合元の列]** ボックスの一覧で、結合する列を 2 つ以上選択します。  
  
    > [!NOTE]  
    >  拡張イベントは最大 5 列までの結合をサポートします。  
  
6.  **[OK]** をクリックします。  
  
#### <a name="to-edit-merged-columns"></a>結合列を編集するには  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックして、 **[ライブ データの監視]** をクリックしてもかまいません。  
  
2.  トレース結果ウィンドウで、列見出しを右クリックして、 **[列の選択]** をクリックします。  
  
3.  **[列の選択]** ダイアログ ボックスで **[編集]** をクリックします。  
  
4.  結合列の名前を変更するには、 **[新しい結合列]** ダイアログ ボックスの **[結合列の名前]** ボックスに新しい名前を入力します。  
  
     結合する列を変更するには、 **[結合元の列]** ボックスの一覧で、結合する列を選択し、 **[OK]** をクリックします。  
  
#### <a name="to-delete-merged-columns"></a>結合列を削除するには  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックして、 **[ライブ データの監視]** をクリックしてもかまいません。  
  
2.  トレース結果ウィンドウで、列見出しを右クリックして、 **[列の選択]** をクリックします。  
  
3.  **[列の選択]** ダイアログ ボックスで、削除する結合列の名前を選択し、 **[削除]** をクリックします。  
  
##  <a name="SortResults"></a> 結果を並べ替え  
  
#### <a name="to-sort-the-results-in-ascending-or-descending-order"></a>結果を昇順または降順に並べ替えるには  
  
-   .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックし、 **[ライブ データの監視]** をクリックして、ツール バーの **[データ フィードの停止]** ボタンをクリックします。  
  
-   トレース結果ウィンドウで、並べ替える列見出しを右クリックします。 **[昇順で並べ替え]** または **[降順で並べ替え]** をクリックして、列をそれぞれ昇順または降順に並べ替えます。  
  
     列がグループ化されている場合、データはグループ内のみで並べ替えられます。  
  
##  <a name="GroupResults"></a> グループの結果  
  
#### <a name="to-group-the-results-by-a-single-column"></a>結果を 1 つの列でグループ化するには  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックし、 **[ライブ データの監視]** をクリックして、[拡張イベント] ツール バーの **[データ フィードの停止]** ボタンをクリックします。  
  
2.  トレース結果ウィンドウで、グループ化する列ヘッダーを右クリックし、 **[この列でグループ化]** をクリックします。  
  
#### <a name="to-group-the-results-by-multiple-columns"></a>結果を複数の列でグループ化するには  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックし、 **[ライブ データの監視]** をクリックして、ツール バーの **[データ フィードの停止]** ボタンをクリックします。  
  
2.  [拡張イベント] ツール バーの **[グループ化]** ボタンをクリックします。  
  
3.  **[グループ化]** ダイアログ ボックスの **[使用可能な列]** で、グループ化する列を選択し、右矢印をクリックします。  
  
     グループ化の順序を変更するには、 **[次の条件でグループ化される列]** セクションで上矢印または下矢印をクリックします。  
  
     グループ化から列を削除するには、 **[次の条件でグループ化される列]** ボックスで、削除する列を選択し、左矢印をクリックします。  
  
4.  **[OK]** をクリックします。  
  
##  <a name="AggregateResults"></a> 集計結果  
 拡張イベントは次の 5 つの集計関数をサポートします。  
  
-   Sum  
  
-   Min  
  
-   Max  
  
-   平均  
  
-   Count  
  
 Sum、Min、Max、および Average は、これらの関数を使用可能な数値列のみで使用できます。 count は、グループ内の選択した列に存在する NULL 以外の値の数を表します。  
  
#### <a name="to-aggregate-results"></a>結果を集計するには  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックし、 **[ライブ データの監視]** をクリックして、ツール バーの **[データ フィードの停止]** ボタンをクリックします。  
  
    > [!NOTE]  
    >  集計はグループに対して実行されるため、集計を実行する前に結果をグループ化する必要があります。  
  
2.  [拡張イベント] ツール バーの **[集計]** ボタンをクリックします。  
  
     集計に使用できる列が **[集計]** ダイアログ ボックスに表示されます。  
  
3.  **[集計の種類]** ボックスの一覧で、対応する列の集計方法を選択します。  
  
4.  **[集計の並べ替え]** ボックスの一覧で、並べ替えの基準となる列を選択します。  
  
5.  集計結果を昇順に並べ替えるには、 **[昇順]** をクリックします。  
  
6.  集計結果を降順に並べ替えるには、 **[降順]** をクリックします。  
  
7.  **[OK]** をクリックします。  
  
##  <a name="Filter"></a> 結果をフィルター処理します。  
 フィルターを適用することで、トレース ウィンドウに表示されるトレース結果を絞り込むことができます。 表示フィルターには、時間フィルターと高度なフィルターが含まれています。 時間フィルターではトレース結果をイベントのタイムスタンプでフィルター処理し、高度なフィルターではイベントのフィールドとアクションを使用してフィルター条件を作成します。 時間フィルターと高度なフィルターとの間には論理 AND 関係があります。  
  
#### <a name="to-create-a-filter"></a>フィルターを作成するには  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックして、 **[ライブ データの監視]** をクリックしてもかまいません。  
  
2.  トレース結果ウィンドウでフィルターを選択し、[拡張イベント] ツール バーの **[フィルター]** ボタンをクリックします。  
  
3.  **[フィルター]** ダイアログ ボックスで **[時間フィルターの設定]** をクリックし、スライダー バーをドラッグしてタイムラインを設定することにより時間フィルターを設定します。 スライダー バーを移動すると、それに応じた時間値が時間ボックスに表示されます。 時間を時間ボックスに入力するか、ドロップダウン リストから選択することもできます。 時間を入力すると、その値に応じて左の時間スライダーが移動します。  
  
4.  **[追加のフィルター]** セクションでフィルター条件を適用し、 **[適用]** をクリックします。 フィルターの作成が完了したら、 **[OK]** をクリックします。  
  
 特殊な状況として、イベント フィールドがアクションと同じ名前を持つ場合があります。 session_id がこの例に該当します。 session_id フィールドを含むイベントがいくつかあり、session_id アクションを追加することもできます。 両方の種類の情報が収集されますが、拡張イベント プロファイラーの表示グリッドでは次のロジックが使用されます。  
  
-   グリッド表示には、1 つの列 (この場合は session_id) だけが表示されます。  
  
-   フィールドとアクションの両方がデータに存在する場合は、フィールド値が表示されます。  
  
-   フィールドとアクションの一方のみがデータに存在する場合は、フィールドまたはアクションが表示されます。  
  
-   フィールドとアクションのどちらも存在しない場合は、NULL が表示されます。  
  
##  <a name="Search"></a> 列のテキストの検索  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックして、 **[ライブ データの監視]** をクリックしてもかまいません。  
  
2.  [拡張イベント] ツール バーの **[検索]** ボタンをクリックします。  
  
3.  **[拡張イベントで検索]** ダイアログ ボックスの **[検索する文字列]** ボックスに、検索するテキストを入力します。  
  
     ドロップダウン リストから直前の 20 回の検索文字列の 1 つを選択することができます。  
  
4.  **[検索対象]** ボックスで、ドロップダウン リストから、指定したテキストを検索する場所を選択します。 次の検索オプションを使用できます。  
  
    -   **[テーブル列]** 。 トレース ウィンドウに表示されているすべての列を検索するには、このオプションを使用します。  
  
    -   **[詳細]** 。 このオプションを使用して開始する前に選択されたトレース ウィンドウに (昇格および未昇格の) すべての列を検索、**拡張イベントで検索** ダイアログ ボックス。  
  
    -   **\<イベント列の名前 >** します。 ドロップダウン リストから特定のイベント列で検索するには、このオプションを使用します。  
  
5.  検索の定義方法を指定するには、次のオプションを使用します。  
  
    1.  **[大文字と小文字を区別する]** 。 **[検索する文字列]** で入力したテキストに大文字と小文字の違いを含めて完全に一致する検索結果を表示するには、このオプションを使用します。  
  
    2.  **[単語単位]** 。 入力したテキストに単語単位で一致する検索結果のみを表示するには、このオプションを使用します。  
  
    3.  **[上へ検索]** 。 カーソル位置から先頭までを検索するには、このオプションを使用します。  
  
    4.  **[使用]** 。 **[検索する文字列]** ボックスに入力された特殊文字および正規表現を解釈するには、このオプションを使用します。 特殊文字には 1 文字以上を表すワイルドカード文字 (*) および (?) が含まれます。 正規表現は、検索テキストのパターンを定義する特殊な表記です。  
  
6.  **[次を検索]** をクリックすると、 **[検索する文字列]** で入力したテキストの次の箇所が検索されます。  
  
##  <a name="ChangeDisplay"></a> 表示設定を変更します。  
 トレース結果の列情報 (列の順番、結合列、および列幅) とフィルター情報は、拡張イベント表示設定ファイル (.viewsetting ファイル) に保存することができます。 ファイルを保存した後、トレース結果に適用することによって、ビューを変更することができます。  
  
#### <a name="to-change-the-display-settings"></a>表示設定を変更するには  
  
1.  .XEL ファイルを開いてトレース結果を表示します  
  
    > [!NOTE]  
    >  セッション名を右クリックして、 **[ライブ データの監視]** をクリックしてもかまいません。  
  
2.  トレース結果ウィンドウの [拡張イベント] ツール バー (またはメニュー) で、 **[表示設定]** をクリックします。  
  
3.  ドロップダウン リストから次のいずれかのオプションを選択します。  
  
    -   **[名前を付けて保存]** 。 トレース結果の列情報とフィルター情報を .viewsetting ファイルに保存します。  
  
    -   **[開く]** 。 既存の .viewsetting ファイルを開きます。  
  
    -   **[最近使用した項目を開く]** 。 最近保存した .viewsetting ファイルを開きます。  
  
  
