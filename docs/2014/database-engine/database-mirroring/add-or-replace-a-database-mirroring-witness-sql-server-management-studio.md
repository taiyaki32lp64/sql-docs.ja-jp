---
title: データベース ミラーリング監視サーバーを追加または置き換える方法 (SQL Server Management Studio) | Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- witness [SQL Server], establishing
- database mirroring [SQL Server], witness
ms.assetid: 4b5ecffd-f025-4ab7-b69d-8958c6477127
author: MikeRayMSFT
ms.author: mikeray
manager: craigg
ms.openlocfilehash: d4bc9f0865ed5ff00099f121f254d17aafc298f5
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "62807460"
---
# <a name="add-or-replace-a-database-mirroring-witness-sql-server-management-studio"></a>データベース ミラーリング監視サーバーを追加または置き換える方法 (SQL Server Management Studio)
  データベース ミラーリング エンドポイントで Windows 認証を使用している場合、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] を使用してミラーリング監視サーバーを追加または置き換えることができます。 また、 [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] でミラーリング監視サーバーを追加すると、動作モードが自動フェールオーバーを伴う高い安全性モードに変更されます。  
  
> [!NOTE]  
>  ミラーリング監視サーバーは、どちらのパートナーにも属さない別のコンピューターに常駐させることを強くお勧めします。 ミラーリング監視サーバーで使用するサービス アカウントのドメインは、プリンシパル サーバー インスタンスおよびミラー サーバー インスタンスで使用するサービス アカウントのドメインと同じであるか、信頼関係のあるドメインのアカウントである必要があります。  
  
### <a name="to-add-or-replace-a-witness"></a>ミラーリング監視サーバーを追加または置き換えるには  
  
1.  プリンシパル サーバー インスタンスに接続した後、オブジェクト エクスプローラーでサーバー名をクリックして、サーバー ツリーを展開します。  
  
2.  **[データベース]** を展開し、ミラーリング監視サーバーを追加または置き換えるセッションのプリンシパル データベースを選択します。  
  
3.  データベースを右クリックして **[タスク]** を選択し、 **[ミラー]** をクリックします。 **[データベースのプロパティ]** ダイアログ ボックスの **[ミラーリング]** ページが開きます。  
  
4.  **[セキュリティの構成]** をクリックします。  
  
5.  **[データベース ミラーリング セキュリティ構成ウィザード]** 開始ページが表示されたら、 **[次へ]** をクリックします。  
  
6.  **[ミラーリング監視サーバーを含める]** ページで **[はい]** をクリックし、 **[次へ]** をクリックします。  
  
7.  **[構成するサーバーを選択する]** ページでは、 **[ミラーリング監視サーバー インスタンス]** チェック ボックスが自動的にオンになっています。 **[次へ]** をクリックします。  
  
8.  **[プリンシパル サーバー インスタンス]** ページで、既定で設定されているポートとエンドポイントをそのままにしておきます。 **[次へ]** をクリックします。  
  
9. **[ミラーリング監視サーバー インスタンス]** ページで、 **[接続]** をクリックします。  
  
10. **[サーバーへの接続]** ページの **[サーバー名]** フィールドでミラーリング監視サーバー インスタンスを指定し、既定の Windows 認証を使用します。 **[接続]** をクリックします。  
  
11. 接続が確立されると、ミラーリング監視サーバー インスタンスのリスナー ポートとデータベース ミラーリング エンドポイントが **[ミラーリング監視サーバー インスタンス]** ページに表示されます。 **[次へ]** をクリックします。  
  
12. **[サービス アカウント]** ページには、プリンシパル サーバー インスタンス、ミラー サーバー インスタンス、およびミラーリング監視サーバー インスタンスのドメイン サービス アカウントの各フィールドがあります。  
  
    -   すべてのサーバー インスタンスで同じサービス アカウントを使用する場合は、これらのフィールドを空白のままにします。  
  
    -   ミラーリング監視サーバー インスタンスで、どちらかのパートナーと異なるサービス アカウントを使用する場合は、 **[プリンシパル]** 、 **[ミラー]** 、および **[ミラーリング監視]** の各フィールドに、次のようにしてアカウント名を指定します。  
  
         *DOMAINNAME* **\\** *username*  
  
         ドメイン名は大文字にする必要があります。  
  
     **[次へ]** をクリックします。  
  
13. **[ウィザードの完了]** 概要ページで必要に応じてミラーリング監視サーバーの構成を確認し、 **[完了]** をクリックします。  
  
14. 完了時に、ウィザードによって **[データベースのプロパティ]** ダイアログ ボックスが表示されます。このダイアログ ボックスの **[ミラーリング監視]** フィールドには、ミラーリング監視サーバーのサーバー ネットワーク アドレスが表示されます。 また、ミラーリング監視サーバーに必要な **[自動フェールオーバーを伴う高い安全性 (同期)]** が自動的に選択されます。  
  
     ミラーリング監視サーバーを有効にし、自動フェールオーバーを伴う高い安全性モードにセッションを変更するには、 **[OK]** をクリックします。  
  
## <a name="see-also"></a>関連項目  
 [データベース ミラーリング監視サーバー](database-mirroring-witness.md)   
 [データベース ミラーリング &#40;SQL Server&#41;](database-mirroring-sql-server.md)   
 [データベース プロパティ &#40;[ミラーリング] ページ&#41;](../../relational-databases/databases/database-properties-mirroring-page.md)   
 [Windows 認証を使用してデータベース ミラーリング セッションを確立する &#40;SQL Server Management Studio&#41;](establish-database-mirroring-session-windows-authentication.md)   
 [データベース ミラーリング監視サーバー](database-mirroring-witness.md)  
  
  
