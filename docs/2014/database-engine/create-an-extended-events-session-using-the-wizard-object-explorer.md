---
title: ウィザード (オブジェクト エクスプ ローラー) を使用して拡張イベント セッションの作成 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- Sql12.ssms.XeWizard.Summary.f1
- Sql12.ssms.XeWizard.SetSessionProperties.f1
- Sql12.ssms.XeWizard.CaptureAddFields.f1
- Sql12.ssms.XeWizard.SelectEvents.f1
- Sql12.ssms.XeWizard.SpecifySessionTargets.f1
- Sql12.ssms.XeWizard.Welcome.f1
- sql12.ssms.XeWizard.Welcome.f1
- Sql12.ssms.XeWizard.ChooseTemplate.f1
- Sql12.ssms.XeWizard.SetSessionEventFilters.f1
- Sql12.ssms.XeWizard.Results.f1
helpviewer_keywords:
- Sql11.ssms.XeWizard.CaptureAddFields.f1
- Sql11.ssms.XeWizard.SetSessionEventFilters.f1
- Sql11.ssms.XeWizard.SpecifySessionTargets.f1
- Sql11.ssms.XeWizard.Results.f1
- Sql11.ssms.XeWizard.ChooseTemplate.f1
- Sql11.ssms.XeWizard.SetSessionProperties.f1
- Sql11.ssms.XeWizard.Welcome.f1
- Sql11.ssms.XeWizard.Summary.f1
- Sql11.ssms.XeWizard.SelectEvents.f1
ms.assetid: 80c0456f-17c0-41d8-b2aa-502a2f3bb6de
author: mashamsft
ms.author: mathoma
manager: craigg
ms.openlocfilehash: cdc50e81bcc58722a3c04fc8516b9158072533cf
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66065059"
---
# <a name="create-an-extended-events-session-using-the-wizard-object-explorer"></a>ウィザードを使用した拡張イベント セッションの作成 (オブジェクト エクスプローラー)
  サーバー上の特定のイベントを選んでキャプチャできるように、拡張イベントには、一連の手順に従って拡張イベント セッションを作成できる新規セッション ウィザードが導入されました。 新しいセッション ウィザードでは、拡張イベントのほとんどの機能を使用できます。 [[新しいセッション] ダイアログ](../../2014/database-engine/create-an-extended-events-session-using-the-new-session-dialog.md)では、データのキャプチャ、表示、および分析を行う拡張イベント セッションも定義できます。 [新しいセッション] ダイアログでは、拡張イベントのすべての機能を使用できます。  
  
### <a name="to-open-the-new-session-wizard"></a>新規セッション ウィザードを開くには  
  
1.  オブジェクト エクスプローラーで **[管理]** ノードを展開し、 **[拡張イベント]** を展開します。  
  
2.  **[セッション]** を右クリックし、 **[新規セッション ウィザード]** をクリックします。  
  
### <a name="use-the-following-new-session-wizard-pages-to-create-an-event-session"></a>新規セッション ウィザードの各ページを使用してイベント セッションを作成する  
  
-   [概要](#BKMK_Welcome)  
  
-   [セッションのプロパティを設定します。](#BKMK_SetSessionProperties)  
  
-   [テンプレートを選択します。](#BKMK_ChooseTemplate)  
  
-   [キャプチャするイベントを選択します。](#BKMK_SelectEventsToCapture)  
  
-   [グローバル フィールドをキャプチャします。](#BKMK_CaptureGlobalFields)  
  
-   [セッション イベント フィルターを設定します。](#BKMK_SetSessionEventFilters)  
  
-   [セッション データ ストレージを指定します。](#BKMK_SpecifySessionDataOutput)  
  
-   [まとめ](#BKMK_Summary)  
  
-   [イベント セッションを作成します。](#BKMK_CreateEventSession)  
  
##  <a name="BKMK_Welcome"></a> 概要  
 **[説明]** ページで、次の手順に従います。  
  
-   新規セッション ウィザードの **[説明]** ページで、 **[次へ]** をクリックします。  
  
     このウィザードを複数回使用する場合で、なおかつウィザードの起動時に毎回同じ説明を読む必要がない場合は、 **[次回からこのページを表示しない]** チェック ボックスをオンにします。  
  
##  <a name="BKMK_SetSessionProperties"></a> セッションのプロパティを設定します。  
 **[セッションのプロパティの設定]** ページで、次の手順に従います。  
  
-   **[セッション名]** ボックスに、イベント セッションのわかりやすい名前を入力します。  
  
     サーバーの起動時にセッションを開始する場合は、 **[サーバーの起動時にイベント セッションを開始する]** チェック ボックスをオンにし、 **[次へ]** をクリックします。  
  
##  <a name="BKMK_ChooseTemplate"></a> テンプレートを選択します。  
 **[テンプレートの選択]** ページで、次の手順に従います。  
  
-   共通の問題を想定してあらかじめ構成された一連のテンプレートから選ぶには、 **[このイベント セッション テンプレートを使用する]** オプションをオンにします。 使用するテンプレートをドロップダウン リストから選択し、 **[次へ]** をクリックします。  
  
     -または-  
  
-   事前構成済みのテンプレートを使用しない場合は、 **[テンプレートを使用しない]** オプションをオンにして **[次へ]** をクリックします。  
  
##  <a name="BKMK_SelectEventsToCapture"></a> キャプチャするイベントを選択します。  
 **[キャプチャするイベントの選択]** ページで、次の手順に従います。  
  
1.  キャプチャするイベントを **[イベント ライブラリ]** から選択し、右矢印をクリックします。 Shift キーまたは Ctrl キーを押しながらクリックすることにより、[イベント ライブラリ] で複数のイベントを選択できます。  
  
     キャプチャするイベントの検索方法をドロップダウン リスト ボックスから選択できます。 たとえば、イベント名を検索する以外にも、イベント名とその説明を検索することができます。 検索する文字列を **[イベント ライブラリ]** ボックスに入力することによって、テーブル内から任意の単語を検索できます。 たとえば、 **lock_acquired** イベントを検索するには、「 **lock**」または「 **lock acquire**」のように入力できます。  
  
     選択したイベントが **[選択したイベント]** ボックスに表示されます。 **[選択したイベント]** ボックスからイベントを削除するには、左矢印をクリックします。  
  
2.  キャプチャするイベントを選択したら、 **[次へ]** をクリックします。  
  
    > [!NOTE]  
    >  **[デバッグ]** チャネルのイベントは、既定では表示されません。 デバッグ イベントを表示するには、 **[チャネル]** ボックスの一覧の **[デバッグ]** を選択します。  
  
##  <a name="BKMK_CaptureGlobalFields"></a> グローバル フィールドをキャプチャします。  
 グローバル フィールドは "アクション" とも呼ばれ、選択したイベントに対し 1 つまたは複数のアクションを関連付ける目的で使用します。 **[テンプレートの選択]** ページでテンプレートを選択した場合、そのテンプレートに定義されているすべてのグローバル フィールドがこのページに表示されます。  
  
 **[グローバル フィールドのキャプチャ]** ページで、次の手順に従います。  
  
-   イベント セッションに対してキャプチャするグローバル フィールドを選択し、 **[次へ]** をクリックします。  
  
     グローバル フィールドは、その横にあるチェック ボックスをオンまたはオフにすることによって追加したり削除したりすることができます。  
  
    > [!NOTE]  
    >  選択したアクションは **[名前]** で並べ替えられ、関連するアクションがアルファベット順に表示されます。 フィールド名の横の列見出しをクリックすると、説明や有効/無効の状態で並べ替えることができます。  
  
##  <a name="BKMK_SetSessionEventFilters"></a> セッション イベント フィルターを設定します。  
 キャプチャするイベントは、フィルターを適用することによって制限することができます。フィルターは "述語" と呼ばれることもあります。 **[セッション イベント フィルターの設定]** ページで、次の手順に従います。  
  
1.  事前構成済みのテンプレートを使用していない場合は、フィルターの条件を自分で作成し、 **[次へ]** をクリックします。  
  
     事前構成済みのテンプレートを使用している場合、 **[テンプレートのフィルター (読み取り専用)]** セクションには、そのテンプレートから作成されたフィルターが新規セッション ウィザードによって一覧表示されます。  
  
2.  **[追加のフィルター]** セクションでは、イベント セッション用に追加のフィルターを構成することができます。  
  
     構成したフィルターは、選択したすべてのイベントに適用されます。 新規セッション ウィザードでは、イベントごとにフィルターを構成することはできません。  
  
    > [!NOTE]  
    >  フィルターのグループ句を構成した場合、結果が保存された後で、冗長なかっこがフィルターから削除されます。 たとえば、 **Clause 1** と **Clause 2**をグループ化するフィルターを作成した場合、これらの句を囲むかっこが表示されます。 フィルターを保存すると、冗長なかっこが削除されます。 かっこを削除しても、フィルターのロジックには影響しません。  
  
##  <a name="BKMK_SpecifySessionDataOutput"></a> セッション データ ストレージを指定します。  
 分析に必要なデータの収集方法は、 **[セッション データ ストレージの指定]** ページで指定します。 SQL Server 拡張イベントでは、データの出力に "ターゲット" が使用されます。 ターゲットは、イベント データを格納するほか、ファイルへの書き込み、イベント データの集計などの操作を実行できます。 分析に必要なデータの収集方法を決め、 **[セッション データ ストレージの指定]** ページで、次の手順に従います。  
  
1.  データセットが大きい場合や、履歴レコードを作成する場合は、 **[後で分析を行うためにデータをファイルに保存する]** チェック ボックスをオンにして、次の手順に従います。  
  
    1.  **[サーバー上のファイル名]** ボックスに、パスとファイル名を入力するか、 **[参照]** をクリックして、データの保存先のサーバー上にあるファイル ディレクトリを指定します。  
  
    2.  **[ファイルの最大サイズ]** ボックスに、ファイル ターゲットに使用するファイルの最大サイズを指定します。 ファイルの最大サイズを指定しない場合、ファイルはディスクがいっぱいになるまで拡張されます。 既定のファイル サイズは 1 GB です。  
  
    3.  ファイル ターゲットに対してファイル ロールオーバーを有効にするには、 **[ファイル ロールオーバーを有効にする]** チェック ボックスをオンにします。  
  
    4.  ファイル システムに保持する最大ファイル数を **[ファイルの最大数]** ボックスに指定します。  
  
2.  最新のデータを収集する場合は、 **[最新のデータのみを使用する (ring_buffer ターゲット)]** チェック ボックスをオンにして、次の手順に従います。  
  
    1.  **[保持するイベントの数]** ボックスで、保持するイベントの数を入力するか、上矢印と下矢印を使用して選択します。  
  
    2.  **[バッファー メモリの最大サイズ]** ボックスに、使用するバッファー メモリの最大サイズを指定します。 この値に達すると、既存のイベントが破棄されます。  
  
    3.  種類ごとに特定の数のイベントをバッファーに保持する場合は、 **[バッファーがいっぱいになったときには指定された数のイベント (種類ごと) を保持する]** チェック ボックスをオンにします。  
  
    4.  **[保持するイベントの数 (種類ごと)]** ボックスで、種類ごとに保持するイベントの数を入力するか、上矢印と下矢印を使用して選択します。  
  
##  <a name="BKMK_Summary"></a> 概要  
 **[概要]** ページで、次の手順に従います。  
  
1.  選択した内容が正しいかどうかを確認します。 イベント セッション ノードを展開し、選択したすべての項目がイベント セッションへの追加対象になっていることを確認します。  
  
2.  **[スクリプト]** をクリックして、新しいクエリ エディター ウィンドウにセッション作成スクリプトをエクスポートします。  
  
3.  イベント セッションを作成するには、 **[完了]** をクリックします。  
  
##  <a name="BKMK_CreateEventSession"></a> イベント セッションを作成します。  
 イベント セッションが正常に作成されたら、 **[イベント セッションの作成]** ページで次の手順に従います。  
  
1.  ウィザードの終了後にセッションを開始するには、 **[セッションの作成後すぐにイベント セッションを開始する]** をクリックします。 ライブ データを監視するには、セッションの作成後すぐにイベント セッションを開始する必要があります。  
  
2.  イベント セッションのライブ データを表示するには、 **[ライブ データのキャプチャ時に画面でライブ データを監視する]** をクリックします。 セッションの作成直後からライブ データにトレース結果が表示されます。  
  
## <a name="see-also"></a>参照  
 [[新しいセッション] ダイアログを使用した拡張イベント セッションの作成](../../2014/database-engine/create-an-extended-events-session-using-the-new-session-dialog.md)  
  
  
