---
title: マイニング構造 (SQL Server データ マイニング アドイン) の作成 |Microsoft Docs
ms.custom: ''
ms.date: 12/29/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining structures, creating
ms.assetid: b8b1eedc-4d6d-4429-a578-e629ec573934
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: ae5244110e6b95434f9008fd7dc99cee259acf8c
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66086817"
---
# <a name="create-mining-structure-sql-server-data-mining-add-ins"></a>マイニング構造の作成 (SQL Server データ マイニング アドイン)
  ![マイニング構造の作成 ボタン、データ マイニング リボン](media/dmc-createstruct.gif "Create Mining Structure ボタン、データ マイニング リボン")  
  
 使用して、 **[詳細設定]** オプション、**データ モデリング**分析モデルを作成する必要なしに使用するデータ セットを作成するときにグループ化します。 この方法は、さまざまなアルゴリズムをテストする場合に便利です。  
  
 使用して、マイニング構造を作成したら、[構造にモデルの追加](add-model-to-structure-data-mining-add-ins-for-excel.md)その構造に基づくモデルを作成するウィザード。 使用して、新しいモデルを作成することも、**データ マイニング詳細クエリ エディター**します。  
  
 また、[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] でサポートされているがウィザードでは使用できない、線形回帰、シーケンス クラスターなどの高度なアルゴリズムやカスタム アルゴリズムを使用してモデルを作成する場合に、このオプションを使用することもできます。  
  
> [!NOTE]  
>  マイニング構造を作成すると、すべてのモデルの検証に使用できる、ランダムに選択されるテスト データを設定することもできます。 この方法は、共通のデータセットに対するモデルの精度を簡単に比較できるため便利です。 オプションを選択した**データをトレーニング セットとテスト セットに分割**に予約するデータ テストは、通常は約 30% の適切な割合を指定するとします。  
  
## <a name="use-the-wizard-to-create-a-mining-structure"></a>ウィザードを使用したマイニング構造の作成  
  
1.  **データ マイニング**リボンで、をクリックして**詳細**を選択し、**構造の作成**です。  
  
2.  **ソース データの選択** ダイアログ ボックスで、Excel 範囲、Excel データ テーブル、または分析のために使用するデータを含む外部データ ソースを指定します。  
  
     **[次へ]** をクリックします。  
  
3.  **列の選択** ダイアログ ボックスで、選択したデータ ソースで利用可能な列の一覧を確認します。  
  
4.  変更する列名の右側の矢印をクリックして、**使用状況**の列では、これらの値から選択。  
  
    -   **[キー]** 各モデルに少なくとも 1 つのキーが必要です。  
  
    -   **キー時刻**します。 このオプションは、予測モデルが必要な場合にのみ使用できます。  
  
    -   **含める**します。 列をマイニング構造で使用できるが、キー列ではありません。  
  
    -   **使用しない**します。 列はマイニング構造に含まれません。  
  
     モデルを作成する際はいつでも列を無視できますが、後で列を追加するには、構造とモデルを再処理する必要があることに注意してください。  
  
5.  [参照] をクリックして **([...])** コンテンツの種類、データ型、およびモデリング フラグを設定するボタンをクリックします。  
  
    > [!NOTE]  
    >  列に数値データが含まれている場合は、必ずこのダイアログ ボックスを開いて、正しいデータ型が選択されていることを確認してください。 入力データが数値であっても、カテゴリ変数として処理したり、連続する数値ではなく不連続値として処理する場合があります。  
    >   
    >  たとえば、郵便番号列は既定では連続する long データ型として一覧表示されますが、より良い結果を得るために、不連続のテキスト値として処理するように指定することができます。  
    >   
    >  詳細については、コンテンツの種類に関するセクションをご覧ください。[データ マイニングのデータを選択する](choosing-data-for-data-mining.md)します。  
  
     **[OK]** をクリックしてダイアログ ボックスを閉じます。  
  
6.  **[次へ]** をクリックします。  
  
     使用するデータ型に応じて、この手順を行った後にウィザードを完了することもできます。 その場合は、先に進み、**完了**ページに、マイニング構造の名前します。  
  
     その他のモデルの場合は、追加のオプションを選択してテスト データ セットを作成します。  
  
7.  **データをトレーニング セットとテスト データ セットに分割** ダイアログ ボックスで、データをパーティション分割する方法を指定します。 既定では、データの 30% がテストに使用されます。  
  
     必要に応じて、テストに使用する最大行数を入力します。  
  
     **[次へ]** をクリックします。  
  
8.  **完了**ダイアログ ボックスで、名前と、新しいマイニング構造の説明を入力します。  
  
9. **[完了]** をクリックします。  
  
### <a name="related-options"></a>関連するオプション  
  
|オプション|コメント|  
|------------|--------------|  
|**ソース データの選択** ダイアログ ボックス|Excel テーブルを選択したとき、データに既にヘッダーがあるかどうかを指定する必要があります。 これを省略した場合、データの最初の行は列名として使用されます。<br /><br /> オプションを使用する場合**外部データ ソース**、あらゆる種類のデータで定義できるを使用することができます、[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)]データ ソース。 ただし、新しいデータ ソースを作成するためのアドインのダイアログ ボックスには、Analysis Services でサポートされているデータ ソースの一部が表示されないため、[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] サーバーでデータ ソースを事前に作成してから、アドインを使用して接続することをお勧めします。|  
|**データ ソース クエリ エディター**  ダイアログ ボックス|指定したデータ ソースに接続した後、列を追加したり、カスタム クエリを作成してカスタム列を生成することができます。|  
|**データをトレーニング セットとテスト データ セットに分割します。**|トレーニングとテスト セットの推奨値は 70% がトレーニング用とテストを 30% です。ただし、大量のデータがある場合は、テスト用の行の最大数を指定できます。|  
|[完了] ダイアログ ボックス|ドリルスルーのオプションは一部のモデルの種類で使用できます。特に、マイニング構造に詳細列が含まれる場合に便利です。 たとえば、クラスター モデルを作成した場合、特定のクラスター内の顧客に簡単に連絡できるように、分析ではなく、ドリルスルー用に名前や電子メール アドレスなどの詳細を含めることができます。|  
  
###  <a name="Bkmk_strctcolumn"></a> 列の使用法の設定、マイニング構造のウィザードの作成  
 新しいマイニング構造を作成する場合は、データ ソースのどの列をマイニング構造に含めるかと、それらの列の使用方法を指定できます。 1 つのマイニング構造には、複数のマイニング モデルを含めることができます。  
  
|値|説明|  
|------------|-----------------|  
|**含まれます**|列に格納されているデータは、分析または予測に使用されます。|  
|**[キー]**|列にトランザクション ID、系列 ID など、処理に必要なキーが格納されていることを表します。<br /><br /> すべてのアルゴリズムには、Key 列が必要です。 ただし、キーが 1 つのみ許可されるアルゴリズムと複数のキーが許可されるアルゴリズムがあります。<br /><br /> 列では、キーが含まれていて、処理のために必要でない、選択**使用しない**します。|  
|**[キー時刻]**|タイム シリーズのアイテムを一意に識別するために使用できる日付などの数値が列に格納されていることを表します。|  
|**使用しないでください。**|列が無視されます。 列のデータは処理されません。|  
  
 モデルを正しく処理するには、各行を一意に識別するキー列はどれなのか、予測可能モデルを作成する場合に予測を作成するための対象列はどれなのか、および対象列を予測するリレーションシップを作成するために入力列として使用する列はどれなのかをアルゴリズムに理解させる必要があります。  
  
-   列として指定されている**使用しないでください**はマイニング構造で表示されません。  
  
     不要な列や不適切な値を含む列を追加すると、分析の結果に悪影響を及ぼす可能性があります。 そのため、適切な列だけを含めるようにしてください。 ただし、マイニング構造で使用しない列は、クエリに使用できないことに注意してください。  
  
-   として指定されている列、 **Include**型は、マイニング構造に含まれます、後で、分析または予測マイニング モデルで使用できます。  
  
     列を使用する必要があるかどうか不明な場合は、その列をマイニング構造に含めておき、後でその列を使用しないマイニング モデルを作成できます。 たとえば、後で参照できるように電話番号列をデータに含めたものの、電話番号を無視するクラスター モデルを作成することもできます。 クラスターが作成された後、特定のクラスターに属する人の電話番号を返すクエリを作成できます。  
  
-   すべてのアルゴリズムが必要です、**キー**列。 Key 列の値は一意でなければなりません。 A **Key Time**列が予測のみに必要またはタイム シリーズ モデル。 .  
  
### <a name="requirements"></a>必要条件  
 データ マイニング構造を作成するには、[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] のインスタンスに接続する必要があります。 一時的な構造を操作する場合も同様です。 作成または接続を変更する方法の詳細については、次を参照してください。[ソース データへの接続&#40;Excel 用データ マイニング クライアント&#41;](connect-to-source-data-data-mining-client-for-excel.md)します。  
  
## <a name="see-also"></a>参照  
 [データ マイニング モデルの作成](creating-a-data-mining-model.md)  
  
  
