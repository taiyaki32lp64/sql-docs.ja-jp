---
title: データ ソース ビュー (Analysis Services) で論理リレーションシップの定義 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- adding relationships
- relationships [Analysis Services], data source views
- data source views [Analysis Services], relationships
ms.assetid: a20d6dae-e769-4131-8a59-7ef56f174220
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: caa1b9ee8af054f7fcc5f10869553343d50a9c2d
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66075619"
---
# <a name="define-logical-relationships-in-a-data-source-view-analysis-services"></a>データ ソース ビューでの論理リレーションシップの定義 (Analysis Services)
  データ ソース ビュー ウィザードとデータ ソース ビュー デザイナーでは、データ ソース ビュー (DSV) に追加されたテーブル間のリレーションシップが、基になるデータベース リレーションシップまたは指定した名前一致条件に基づき、自動的に定義されます。  
  
 複数のデータ ソースのデータを使用する場合は、データ ソース ビューの論理リレーションシップを手動で定義して、自動的に定義されたリレーションシップを補完する必要があることもあります。 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] では、ファクト テーブルやディメンション テーブルの識別、基になるデータ ソースからデータやメタデータを取得するためのクエリの作成、および高度なビジネス インテリジェンス機能の利用において、リレーションシップが必要となります。  
  
 データ ソース ビュー デザイナーでは、次の種類のリレーションシップを定義できます。  
  
-   同じデータ ソース内のテーブル間のリレーションシップ  
  
-   親子リレーションシップのように、あるテーブルからそのテーブル自体へのリレーションシップ  
  
-   データ ソース内のテーブルから別のデータ ソース内のテーブルへのリレーションシップ  
  
> [!NOTE]  
>  データ ソース ビューで定義されているリレーションシップは論理的なもので、基になるデータ ソースで定義されている実際のリレーションシップを反映していない場合があります。 データ ソース ビュー デザイナーでは、基になるデータ ソースに存在しないリレーションシップを作成できます。また、データ ソース ビュー デザイナーで作成したリレーションシップを、基になるデータ ソースの既存の外部キー リレーションシップから削除することができます。  
  
 リレーションシップには方向があります。 基になる列のそれぞれの値に対して、対象になる列に対応する値が存在します。 **[ダイアグラム]** ペインに表示されるダイアグラムなどのデータ ソース ビュー ダイアグラムでは、2 つのテーブル間の線上にある矢印が、リレーションシップの方向を示します。  
  
 このトピックのセクションは次のとおりです。  
  
 [テーブル、名前付きクエリ、またはビュー間のリレーションシップを追加するには](#bkmk_addRel)  
  
 [[ダイアグラム] ペインでリレーションシップを表示または変更するには](#bkmk_diagrampane)  
  
 [[テーブル] ペインでリレーションシップを表示または変更するには](#bkmk_tablespane)  
  
##  <a name="bkmk_addRel"></a> テーブル、名前付きクエリ、またはビュー間のリレーションシップを追加するには  
  
1.  [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]でプロジェクトを開くか、論理リレーションシップを追加するデータ ソース ビューが含まれているデータベースに接続します。  
  
2.  ソリューション エクスプローラーで **[データ ソース ビュー]** フォルダーを展開し、データ ソース ビューをダブルクリックして **データ ソース ビュー デザイナー**を開きます。  
  
3.  **[テーブル]** ペインで、リレーションシップの追加先のテーブル、名前付きクエリ、またはビューを右クリックし、 **[新しいリレーションシップ]** をクリックします。  
  
    > [!NOTE]  
    >  テーブル、ビュー、または名前付きクエリを検索するには、 **[データ ソース ビュー]** メニューをクリックするか、 **テーブル** ペインまたは **ダイアグラム** ペインの空いている領域を右クリックして、 **[テーブルの検索]** をクリックします。  
  
4.  **[リレーションシップの指定]** ダイアログ ボックスで、次の操作を行います。  
  
    1.  **[作成元 (外部キー) テーブル]** の一覧で、該当するテーブル、名前付きクエリ、またはビューを選択します。  
  
    2.  **[作成元 (主キー) テーブル]** の一覧で、該当するテーブル、名前付きクエリ、またはビューを選択します。  
  
    3.  **[基になる列]** および **[対象になる列]** 一覧から列を選択して、2 つのテーブル間のリレーションシップを作成します。  
  
         基になるテーブル、ビュー、または名前付きクエリのデータをサンプリングすることで、誤った方向 (外部キーから主キーではなく、主キーから外部キー) にリレーションシップを定義したことが [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] によって検出された場合は、順序を逆にするように要求されます。 順序を逆にするには、 **[反転]** をクリックします。  
  
         選択した列にリレーションシップが既に存在することが [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] によって検出された場合は、メッセージが表示されます。 リレーションシップを重複して定義することはできません。  
  
    4.  必要に応じて、 **[説明]** ボックスにリレーションシップの説明を入力します。  
  
##  <a name="bkmk_diagrampane"></a> [ダイアグラム] ペインでリレーションシップを表示または変更するには  
  
-   **データ ソース ビュー デザイナー** の **[ダイアグラム]** ペインで、表示するリレーションシップを右クリックし、 **[リレーションシップの編集]** をクリックするか、リレーションシップの矢印をダブルクリックします。  リレーションシップを変更するには、 **[リレーションシップの編集]** ダイアログ ボックスを使用します。  
  
##  <a name="bkmk_tablespane"></a> [テーブル] ペインでリレーションシップを表示または変更するには  
  
1.  **データ ソース ビュー デザイナー** の **[テーブル]** ペインで、表示または変更するリレーションシップを含むテーブル、ビュー、または名前付きクエリを検索し、展開します。  
  
2.  **[リレーションシップ]** フォルダーを展開します。  選択したテーブル、ビュー、または名前付きクエリと他のテーブル、ビュー、および名前付きクエリ間のリレーションシップが、リレーションシップ列と共に表示されます。  
  
3.  変更するリレーションシップを右クリックし、 **[リレーションシップの編集]** をクリックします。  
  
## <a name="see-also"></a>参照  
 [「多次元モデルのデータ ソース ビュー」](data-source-views-in-multidimensional-models.md)  
  
  
