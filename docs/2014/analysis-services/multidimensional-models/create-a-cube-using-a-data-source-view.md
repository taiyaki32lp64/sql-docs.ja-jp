---
title: データ ソース ビューを使用してキューブを作成する |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
ms.assetid: bec845a1-d10c-4d45-9acf-0a302adfee47
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 84e134854770f0096cc99c94698cfd8d7e3e818a
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66076555"
---
# <a name="create-a-cube-using-a-data-source-view"></a>データ ソース ビューを使用したキューブの作成
  既存のデータ ソース ビューを使用する場合、新しいキューブを構築するには、ここで説明する方法を使用します。 この方法では、データ ソース ビューを指定して、データ ソース ビューで使用するファクト テーブルとディメンション テーブルを選択します。 次に、キューブに含めるディメンションとメジャーを選択します。  
  
 データ ソースを使用してキューブを作成するには、ソリューション エクスプローラーで **[キューブ]** を右クリックして、 **[新しいキューブ]** をクリックします。 キューブ ウィザードが開きます。  
  
## <a name="selecting-the-build-method"></a>構築方法の選択  
 ウィザードの **[構築方法の選択]** ページで、 **[データ ソースを使用してキューブを構築する]** をクリックします。  
  
 **[自動構築]** チェック ボックスをオンにすると、データ ソース ビューが分析され、キューブとそのディメンションが構成されます。 ウィザードでは、ファクト テーブルとディメンション テーブルを識別し、キューブに含めるメジャーを選択し、階層を構築します。 **[自動構築]** がオンの場合にウィザードで選択された内容は、ウィザードの各ページで確認および変更できます。 **[自動構築]** がオフの場合は、これらの設定をすべて手動で行う必要があります。  
  
 **[自動構築]** がオンの場合、ウィザードの任意のページで **[完了]** をクリックして最後のページに移動し、ウィザードの残りのページについて既定の構成を受け入れることもできます。 ウィザードの最後のページでは、ウィザードを終了する前にキューブの構造を確認できます。  
  
 **[自動構築]** がオフの場合、ファクト テーブルとディメンション テーブルを手動で選択する必要があります。 ユーザーが作成対象に選択したディメンションはウィザードによって構築されますが、ディメンションのユーザー定義の階層は、ディメンション デザイナーを使用して手動で構築する必要があります。 キューブ ウィザードを実行する前にキューブで使用するディメンションが作成されている場合、この要件は無視してもかまいません。  
  
## <a name="selecting-the-data-source-view"></a>データ ソース ビューの選択  
 既存のデータ ソースを使用してキューブを作成する場合、最初にキューブの基になるデータ ソース ビューを指定します。 ウィザードの **[データ ソース ビューの選択]** ページで、既存のデータ ソース ビューを選択します。 プレビュー ペインに、選択したデータ ソース ビューでテーブルを表示できます。 選択したデータ ソース ビューのスキーマを表示するには、 **[参照]** をクリックします。  
  
 使用するデータ ソース ビューが一覧に表示されない場合は、キューブ ウィザードで **[キャンセル]** をクリックし、データ ソース ビュー ウィザードを開きます。 また、 **[ファイル]** メニューの **[新しい項目の追加]** をクリックして、別のデータベース (または他の場所) の既存のデータ ソース ビューを追加することもできます。 データ ソース ビューの作成方法の詳細については、「 [多次元モデルのデータ ソース ビュー](data-source-views-in-multidimensional-models.md)」をご覧ください。  
  
> [!NOTE]  
>  データ ソース ビューには、このページに表示されるテーブルが少なくとも 1 つ含まれている必要があります。 テーブルが含まれていないデータ ソース ビューに基づいてキューブを作成することはできません。  
  
## <a name="identify-fact-and-dimension-tables"></a>ファクト テーブルとディメンション テーブルの識別  
 キューブ ウィザードでは、ウィザードの **[ファクト テーブルとディメンション テーブルの識別]** ページを使用して、キューブの作成に必要なファクト テーブルとディメンション テーブルを選択します。 キューブを作成する **[自動構築]** チェック ボックスがオンの場合、このページには最初、ウィザードで検出されたファクト テーブルまたはディメンション テーブルが選択されて表示されます。 ウィザードによってファクト テーブルとディメンション テーブルの両方のテーブルが検出された場合は、両方の列が選択されます。 検出されたテーブルがどちらでもない場合は、どちらの列も選択されません。 キューブのデザインにテーブルが不要な場合は、 **[ファクト]** チェック ボックスと **[ディメンション]** チェック ボックスをオフにします。  
  
 **[自動構築]** チェック ボックスがオフの場合、すべての選択を手動で行う必要があります。 **[テーブル]** タブまたは **[ダイアグラム]** タブを使用します。  
  
-   **[テーブル]** タブには、テーブルがテーブル形式で表示されます。 **[ファクト]** 列または **[ダイアグラム]** 列のチェック ボックスをオンにします。  
  
-   **[ダイアグラム]** タブには、データ ソース ビュー スキーマが表示されます。 テーブルは、ファクトまたはディメンションを示すために色分け表示されています。 スキーマでテーブルをクリックし、 **[ファクト]** または **[ディメンション]** をクリックして、テーブルの設定を選択または選択を解除します。 倍率を変更するには、 **[ズーム]** ボタンを使用します。  
  
> [!NOTE]  
>  **[ダイアグラム]** タブでは、スキーマを表示するウィザード ウィンドウを拡大または最大化できます。  
  
 データ ソース ビューに時間ディメンション テーブルがある場合は、 **[時間ディメンション テーブル]** の一覧でテーブルを選択します。 項目がない場合のままに **\<None >** 選択します。 これは一覧の既定の項目です。 時間ディメンション テーブルとして選択されたテーブルは、 **[テーブル]** タブおよび **[ダイアグラム]** タブでもディメンション テーブルとして選択されます。  
  
## <a name="defining-time-periods"></a>時間間隔の定義  
 テーブル型を選択するときに時間ディメンション テーブルを指定した場合、ウィザードの **[時間間隔の定義]** ページを使用して、テーブルで標準時間間隔に対応する列を指定します。 **[Time プロパティ名]** で標準的な間隔を見つけます。 時間ディメンション テーブルに対応する列が存在する行ごとに、 **[Time テーブル列]** で適切な列を選択します。 ウィザードは指定したアソシエーションを使用して、属性を作成し、データに有効な時間階層を提案します。 これらのアソシエーションによって、新しい時間ディメンションの対応する属性の **Type** プロパティも設定されます。 次に、ウィザードによって時間ディメンション テーブルに基づいて時間ディメンションが作成されます。  
  
 キューブを作成すると、ビジネス インテリジェンス ウィザードを使用してタイム インテリジェンス拡張機能をキューブに追加できます。 これらの拡張機能には、期間対日付ビュー、ローリング平均値ビュー、および期間対期間ビューがあります。  
  
## <a name="selecting-dimensions"></a>ディメンションの選択  
 ウィザードの **[既存のディメンションの選択]** ページを使用して、キューブに既存のディメンションを追加します。 このページは、新しいキューブのディメンション テーブルに対応する共有ディメンションが既に存在する場合にのみ表示されます。  
  
 既存のディメンションを追加するには、 **[共有ディメンション]** の一覧で 1 つ以上のディメンションを選択し、右矢印ボタン ( **>** ) をクリックして、 **[キューブ ディメンション]** の一覧に移動します。 二重矢印ボタン ( **>>** ) をクリックすると、一覧のすべてのディメンションを移動できます。  
  
 表示されるはずの既存のディメンションが一覧に表示されない場合、 **[戻る]** をクリックし、1 つ以上のテーブルについてテーブル型の設定を変更します。 また、既存のディメンションは、 **[共有ディメンション]** の一覧に表示されるキューブの 1 つ以上のファクト テーブルに関連付けられている必要があります。  
  
## <a name="selecting-measures"></a>メジャーの選択  
 ウィザードの **[メジャーの選択]** ページを使用して、キューブに含めるメジャーを選択します。 ファクト テーブルとしてマークされたすべてのテーブルは、この一覧にメジャー グループとして表示され、キー列以外のすべての数値列は、一覧にメジャーとして表示されます。 既定では、すべてのメジャー グループのすべてのメジャーが選択されます。 キューブに含めないメジャーは、その横のチェック ボックスをオフにしてください。 キューブからメジャー グループのすべてのメジャーを削除するには、 **[メジャー グループ/メジャー]** チェック ボックスをオフにします。  
  
 **[メジャー グループ/メジャー]** の下に表示されるメジャーの名前には、列の名前が反映されます。 名前を編集するには、名前を含んでいるセルをクリックします。  
  
 メジャーのデータを表示するには、一覧で目的のメジャー行を右クリックし、 **[サンプル データの表示]** をクリックします。 **データ サンプル ビューアー** が開き、対応するファクト テーブルのレコードが最初の 1000 個まで表示されます。  
  
## <a name="reviewing-new-dimensions"></a>新しいディメンションの確認  
 ウィザードの **[新しいディメンションの確認]** ページを使用して、ウィザードで作成されたディメンションの構造を確認します。 ディメンションは、ウィザードのこのページの **[新しいディメンション]** ツリー ビューに表示されます。 ディメンションは、次の方法で確認できます。  
  
-   ディメンションを展開して、その属性と階層を表示します。  
  
-   ディメンションの下の **[属性]** フォルダーを展開して、ディメンションの属性を表示します。  
  
-   ディメンションの下の **[階層]** フォルダーを展開して、ディメンションの階層を表示します。  
  
-   階層を展開して、そのレベルを表示します。  
  
> [!NOTE]  
>  ツリーを見やすいようにウィザード ウィンドウを拡大または最大化できます。  
  
 キューブからツリーのオブジェクトを削除するには、その横にあるチェック ボックスをオフにします。 オブジェクトの横にあるチェック ボックスをオフにすると、その下にあるすべてのオブジェクトも削除されます。 オブジェクト間の依存関係は適用されるので、属性を削除すると、属性に依存する階層レベルも削除されます。 たとえば、階層の横にあるチェック ボックスをオフにすると、階層のすべてのレベルの横にあるチェック ボックスもオフになり、レベルと階層が削除されます。 ディメンションのキー属性は削除できません。  
  
 いずれか、名前をクリックしてまたは名前を右クリックし、ショートカット メニューをクリックして、ディメンション、属性、階層またはレベルを変更できる**の名前を変更\<オブジェクト >** ここで、  **\<オブジェクト >** は**ディメンション**、**属性**、または**レベル**します。  
  
 ウィザードの **[ファクト テーブルとディメンション テーブルの識別]** ページで定義したディメンション テーブルの数とウィザードのこのページに表示されるディメンションの数は 1 対 1 で対応する必要はありません。 ウィザードでは、データ ソース ビューのテーブル間のリレーションシップに応じて、2 つ以上のテーブルを使用してディメンションを構築できます (たとえば、スノーフレーク スキーマにより要求された場合など)。  
  
## <a name="completing-the-cube-wizard"></a>キューブ ウィザードの完了  
 ウィザードの **[ウィザードの完了]** ページでは、新しいキューブのメジャー グループ、メジャー、およびディメンションを表示できます。 **[キューブ名]** ボックスには、キューブの名前を入力します。 キューブに問題がなければ、 **[完了]** をクリックします。 ウィザードの前のページに戻って変更を加える場合は、 **[戻る]** をクリックします。  
  
  
