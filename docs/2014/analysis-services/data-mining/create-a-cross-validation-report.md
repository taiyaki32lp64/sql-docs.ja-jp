---
title: クロス検証レポートの作成 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- validating data mining models
- mining structures [Analysis Services], how-to topics
- cross-validation [data mining]
- statistical standard deviation
ms.assetid: 7b1fec4c-7053-41eb-b030-5179257967a4
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 29a60a5b14b1d9a73e0a9a1bdc84a314b55cd1f0
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66085524"
---
# <a name="create-a-cross-validation-report"></a>クロス検証レポートの作成
  このトピックでは、データ マイニング デザイナーの [精度チャート] タブを使用してクロス検証レポートを作成する方法を順を追って説明します。 クロス検証レポートの外観およびレポートに含まれる統計メジャーに関する一般的な情報については、「[相互検証 (Analysis Services - データ マイニング)](cross-validation-analysis-services-data-mining.md)」を参照してください。  
  
 クロス検証レポートは、リフト チャートや分類マトリックスなどの精度チャートとは基本的に異なります。  
  
-   クロス検証では、モデルまたは構造で使用されるデータの全体的な分布を評価します。したがって、テスト データ セットは指定しません。 クロス検証では、モデルまたはマイニング構造のトレーニングに使用された元のデータのみ常に使用されます。  
  
-   クロス検証は、1 つの予測可能な結果に対してのみ実行できます。 構造で異なる予測可能属性を持つモデルがサポートされる場合は、予測可能な出力ごとに異なるレポートを作成する必要があります。  
  
-   クロス検証に使用できるのは、現在選択されている構造に関連するモデルだけです。  
  
-   現在選択されている構造でクラスター モデルと非クラスター モデルの組み合わせがサポートされる場合、 **[結果の取得]** をクリックすると、クロス検証ストアド プロシージャによって、同じ予測可能列を持つモデルが自動的に読み込まれ、同じ予測可能な属性を共有しないクラスター モデルは無視されます。  
  
-   予測可能属性を持たないクラスター モデルに対するクロス検証レポートは、マイニング構造で他の予測可能な属性がサポートされない場合にのみ作成できます。  
  
### <a name="select-a-mining-structure"></a>マイニング構造の選択  
  
1.  [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]でデータ マイニング デザイナーを開きます。  
  
2.  ソリューション エクスプローラーで、レポートを作成する構造またはモデルを含んだデータベースを開きます。  
  
3.  マイニング構造をダブルクリックして、構造とその関連モデルをデータ マイニング デザイナーで開きます。  
  
4.  **[マイニング精度チャート]** タブをクリックします。  
  
5.  **[クロス検証]** タブをクリックします。  
  
### <a name="set-cross-validation-options"></a>クロス検証オプションの設定  
  
1.  **[クロス検証]** タブの **[フォールド カウント]** で、下矢印をクリックして 1 ～ 10 の数字を選択します。 既定値は 10 です。  
  
     **[フォールド カウント]** は、元のデータセット内に作成されるパーティションの数を表します。 [フォールド カウント] を 1 に設定すると、パーティション分割を行わずにトレーニング セットが使用されます。  
  
2.  **[対象の属性]** で、下矢印をクリックし、一覧から列を選択します。 モデルがクラスター モデルである場合は、モデルに予測可能な属性がないことを示す **[#クラスター]** を選択します。 **[#クラスター]** という値は、マイニング構造で他の種類の予測可能な属性がサポートされない場合にのみ使用できます。  
  
     予測可能な属性は、レポートごとに 1 つしか選択できません。 既定では、予測可能な属性が同じであるすべての関連モデルがレポートの対象となります。  
  
3.  データが指定した数のフォールドに分割される場合に、データの代表的なサンプルを提供できるだけの数を **[ケースの最大数]** に入力します。 この数値がモデルのトレーニング セットのケース数を上回る場合は、すべてのケースが使用されます。  
  
     トレーニング データセットが非常に大きい場合は、 **[ケースの最大数]** に値を設定することで、処理されるケースの総数が制限され、レポートを早く完了できます。 ただし、クロス検証のためのデータが不十分となる可能性があるので、 **[ケースの最大数]** をあまり小さな値に設定しないでください。  
  
4.  必要に応じて、 **[対象の状態]** にモデル化する予測可能な属性の値を入力します。 たとえば、[Bike Buyer] 列の設定可能な値が 1 (Yes) と 2 (No) の 2 つである場合は、「1」を入力することで目的の結果のモデルの精度を評価できます。  
  
    > [!NOTE]  
    >  値を入力しなかった場合は、 **[対象のしきい値]** オプションを指定できなくなり、予測可能な属性の設定可能なすべての値についてモデルが評価されます。  
  
5.  必要に応じて、 **[対象のしきい値]** に 0 ～ 1 の小数を入力して、予測が正確であると見なされるために必要な最小確率を指定します。  
  
     確率のしきい値の設定方法に関するその他のヒントについては、「 [相互検証レポートのメジャー](measures-in-the-cross-validation-report.md)」を参照してください。  
  
6.  **[結果の取得]** をクリックします。  
  
### <a name="print-the-cross-validation-report"></a>相互検証レポートの印刷  
  
1.  **[クロス検証]** タブで、完了したレポートを右クリックします。  
  
2.  ショートカット メニューの **[印刷]** をクリックするか、先にレポートを確認する場合は **[印刷プレビュー]** をクリックします。  
  
### <a name="create-a-copy-of-the-report-in-microsoft-excel"></a>Microsoft Excel でのレポートのコピーの作成  
  
1.  **[クロス検証]** タブで、完了したレポートを右クリックします。  
  
2.  ショートカット メニューの **[すべて選択]** をクリックします。  
  
3.  選択したテキストを右クリックし、 **[コピー]** をクリックします。  
  
4.  選択した内容を、開いている Excel ブックに貼り付けます。 **[貼り付け]** オプションを使用すると、レポートが HTML として Excel に貼り付けられ、行と列の形式が維持されます。 **[形式を選択して貼り付け]** オプションを使用して、テキストまたは Unicode テキストとしてレポートを貼り付けると、行で区切られた形式でレポートが貼り付けられます。  
  
## <a name="see-also"></a>参照  
 [相互検証レポートのメジャー](measures-in-the-cross-validation-report.md)  
  
  
