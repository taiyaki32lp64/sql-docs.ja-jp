---
title: 新規の OLAP マイニング構造の作成 |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining structures [Analysis Services], OLAP
- mining structures [Analysis Services], creating
- OLAP [Analysis Services], mining models
ms.assetid: 368f4273-a016-4748-bcb6-505a3e745af3
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: 62f8fc247986609e3822168bff5aace34f3d1aa9
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66085459"
---
# <a name="create-a-new-olap-mining-structure"></a>新規の OLAP マイニング構造の作成
  [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のデータ マイニング ウィザードを使用して、多次元モデルのデータを使用するマイニング構造を作成できます。 OLAP キューブに基づくマイニング モデルでは、ファクト テーブルの列と値、ディメンション、およびメジャー グループを分析の属性として使用できます。  
  
### <a name="to-create-a-new-olap-mining-structure"></a>新規の OLAP マイニング構造を作成するには  
  
1.  [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]のソリューション エクスプローラーで、 **プロジェクトの** [マイニング構造] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] フォルダーを右クリックし、 **[新しいマイニング構造]** をクリックして、データ マイニング ウィザードを開きます。  
  
2.  **[データ マイニング ウィザードへようこそ]** ページで **[次へ]** をクリックします。  
  
3.  **[定義方法の選択]** ページで、 **[既存のキューブを使用する]** を選択して **[次へ]** をクリックします。  
  
     [サポートされているデータ マイニング アルゴリズムの一覧を取得できません] というエラーが表示される場合は、 **[プロジェクトのプロパティ]** ダイアログ ボックスを開き、多次元モデルをサポートする Analysis Services インスタンスの名前を指定したことを確認します。 テーブル モデリングをサポートする [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] のインスタンスにマイニング モデルを作成することはできません。  
  
4.  **[データ マイニング構造の作成]** ページで、マイニング構造のみを作成するか、マイニング構造および関連するマイニング モデルを 1 つ作成するかを決定します。 一般には、必要な列を含めるよう求めるプロンプトが表示されるように、マイニング モデルを同時に作成する方が簡単です。  
  
     マイニング モデルを作成する場合は、使用するデータ マイニング アルゴリズムを選択して、 **[次へ]** をクリックします。 アルゴリズムの選択方法の詳細については、「[データ マイニング アルゴリズム (Analysis Services - データ マイニング)](data-mining-algorithms-analysis-services-data-mining.md)」を参照してください。  
  
5.  **[ソース キューブ ディメンションの選択]** ページの **[ソース キューブ ディメンションの選択]** で、ケース データの大半を含むディメンションを探します。  
  
     たとえば、顧客グループを識別しようとしている場合は、Customer ディメンションを選択できます。複数の取引の購買を分析しようとしている場合は、Internet Sales Order Details ディメンションを選択できます。 このディメンションのデータのみ使用するように制限はされませんが、分析で使用する重要属性を含める必要があります。  
  
     **[次へ]** をクリックします。  
  
6.  **[ケース キーの選択]** ページの **[属性]** で、マイニング構造のキーにする属性を選択して、 **[次へ]** をクリックします。  
  
     通常、マイニング構造のキーとして使用する属性は、ディメンションのキーにもなり、事前に選択されます。  
  
7.  **[ケース レベル列の選択]** ページの **[関連する属性およびメジャー]** で、マイニング構造にケース データとして追加する値が格納された属性とメジャーを選択します。 **[次へ]** をクリックします。  
  
8.  **[マイニング モデル列の使用法の指定]** ページの **[マイニング モデル構造]** で、最初に予測可能列を設定してから、入力として使用する列を選択します。  
  
    -   一番左の列のチェック ボックスをオンにして、データをマイニング構造に含めます。 参照に使用する構造に列を含めることができますが、分析に使用することはできません。  
  
    -   **[入力]** 列のチェック ボックスをオンにして、分析で属性を変数として使用します。  
  
    -   予測可能な属性についてのみ、 **[予測]** 列のチェック ボックスをオンにします。  
  
     キーとして指定した列を入力または予測に使用することはできません。  
  
     **[次へ]** をクリックします。  
  
9. **[マイニング モデル列の使用法の指定]** ページの **[入れ子になっているテーブルの追加]** および **[入れ子になったテーブル]** を使用して、入れ子になったテーブルをマイニング構造に対して追加または削除することもできます。  
  
     OLAP マイニング モデルでは、入れ子になったテーブルとは、ケース属性を表すディメンションとの間に一対多リレーションシップがあるキューブ内のデータの別のセットです。 したがって、ダイアログ ボックスが開いたときに、ケース テーブルとして選択したディメンションに既に関連しているメジャー グループが事前に選択されています。 この時点で、分析に役立つ追加情報を格納している別のディメンションを選択します。  
  
     たとえば、顧客を分析している場合は、[Customer] ディメンションをケース テーブルとして使用します。 入れ子になったテーブルでは、購入を行うときに顧客が示した理由を追加できます。これは [Sales Reason] ディメンションに含まれています。  
  
     入れ子になったデータを追加する場合は、次の 2 つの列を追加で指定する必要があります。  
  
    -   入れ子になったテーブルのキー:ページで、事前選択されている必要があります**入れ子になったテーブル キーの選択**します。  
  
    -   属性または分析に使用する属性の場合:このページでは、**入れ子になったテーブル列の選択**入れ子になったテーブルの選択の属性やメジャーの一覧を示します。  
  
        -   モデルに含める属性ごとに、左の列のボックスをオンにします。  
  
        -   属性を分析にのみ使用する場合は、 **[入力]** をオンにします。  
  
        -   列をモデルの予測可能属性の 1 つとして含める場合は、 **[予測]** を選択します。  
  
        -   構造に含め、入力または予測可能属性として指定しないアイテムは、`Ignore` フラグ付きで構造に追加されます。これは、データがモデルの作成時に処理され、分析には使用されず、ドリルスルーにのみ使用できることを意味します。 これは、顧客名などの詳細を含めるが分析でそれらを使用したくない場合に役立ちます。  
  
     **[終了]** をクリックして、入れ子になったテーブルを処理するウィザードの部分を終了します。 プロセスを繰り返して、複数の入れ子になった列を追加できます。  
  
10. **[列のコンテンツおよびデータ型の指定]** ページの **[マイニング モデル構造]** で、各列のコンテンツの種類とデータ型を設定します。  
  
    > [!NOTE]  
    >  OLAP マイニング モデルでは、 **[検出]** 機能を使用して、連続したデータと連続しないデータのどちらが列に含まれているかを自動的に検出することはできません。  
  
     **[次へ]** をクリックします。  
  
11. **[ソース キューブのスライス]** ページでは、マイニング構造の作成に使用されるデータをフィルター選択できます。  
  
     キューブをスライスすると、モデルの作成に使用されるデータを制限できます。 たとえば、Geography 階層と以下のアイテムでスライスすることにより、地域ごとに異なるモデルを作成できます。  
  
    -   **ディメンション**:ドロップダウン リストから、関連するディメンションを選択します。  
  
    -   **階層**:フィルターを適用するディメンション階層のレベルを選択します。 たとえば、[Geography] ディメンションでスライスする場合は、[Region Country Name] などの階層レベルを選択します。  
  
    -   **演算子**:一覧から演算子を選択します。  
  
    -   **フィルター式**:値またはフィルター条件として使用する式を入力するか、ドロップダウン リストを使用して、階層の指定したレベルのメンバーの一覧から値を選択します。  
  
         たとえば、[Geography] をディメンションとして選択し、[Region Country Name] を階層レベルとして選択した場合、ドロップダウン リストには、フィルター条件として使用できる有効な国がすべて含まれます。 複数選択することができます。 その結果、マイニング構造内のデータは、これらの地域のキューブ データに制限されます。  
  
    -   **パラメーター**:このチェック ボックスは無視されます。 このダイアログ ボックスでは複数のキューブ フィルター シナリオがサポートされ、このオプションはマイニング構造の作成に関係しません。  
  
     **[次へ]** をクリックします。  
  
12. **[トレーニング セットとテスト セットにデータを分割します]** ページで、テスト用に予約するマイニング構造データの割合を指定するか、テスト ケースの最大数を指定します。 **[次へ]** をクリックします。  
  
     両方の値を指定した場合、それらの制限のうちの低い方が使用されます。  
  
13. **[ウィザードの完了]** ページで、新しい OLAP マイニング構造と初期マイニング モデルの名前を指定します。  
  
14. **[完了]** をクリックします。  
  
15. **[ウィザードの完了]** ページで、マイニング モデル ディメンションまたはマイニング モデル ディメンションを使用するキューブ、あるいはその両方を作成することもできます。 これらのオプションは、次のアルゴリズムを使用して作成されるモデルに対してのみサポートされます。  
  
    -   Microsoft クラスタリング アルゴリズム  
  
    -   Microsoft デシジョン ツリー アルゴリズム  
  
    -   Microsoft アソシエーション ルール アルゴリズム  
  
     **マイニング モデル ディメンションを作成**:このチェック ボックスを選択し、マイニング モデル ディメンションの種類名を指定します。 このオプションを使用すると、マイニング構造の作成に使用された元のキューブ内に新しいディメンションが作成されます。 このディメンションを使用してドリル ダウンし、さらに分析を実行できます。 ディメンションはキューブ内にあるため、ディメンションは自動的にケース データ ディメンションにマップされます。  
  
     **マイニング モデル ディメンションを使用してキューブを作成する**:このチェック ボックスを選択し、新しいキューブの名前を指定します。 このオプションを使用する場合、構造の作成に使用された既存のディメンションと、モデルからの結果を格納する新しいデータ マイニング ディメンションを含む新しいキューブが作成されます。  
  
## <a name="see-also"></a>参照  
 [マイニング構造のタスクと操作方法](mining-structure-tasks-and-how-tos.md)  
  
  
