---
title: マイニング モデル コンテンツ (Analysis Services - データ マイニング) |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- algorithms [data mining]
- standard deviation
- confidence scores [data mining]
- mining models [Analysis Services]
- variance
- machine learning algorithms [Analysis Services]
- model content
- support [data mining]
- node distribution
ms.assetid: e7c039f6-3266-4d84-bfbd-f99b6858acf4
author: minewiskan
ms.author: owend
manager: craigg
ms.openlocfilehash: d09f32cb21762ca56eab156701ee013ef2c03ec3
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66083777"
---
# <a name="mining-model-content-analysis-services---data-mining"></a>Mining Model Content (Analysis Services - Data Mining)
  基になるマイニング構造のデータを使用してマイニング モデルをデザインおよび処理したら、マイニング モデルが完成し、そのモデルには *マイニング モデル コンテンツ*が含まれます。 このコンテンツを使用して、予測やデータの分析を行うことができます。  
  
 マイニング モデル コンテンツには、モデルに関するメタデータ、データに関する統計、およびマイニング アルゴリズムによって検出されたパターンが含まれます。 使用されたアルゴリズムに応じて、モデル コンテンツには、回帰式、ルールとアイテムセットの定義、または重みやその他の統計情報が含まれます。  
  
 使用されたアルゴリズムに関係なく、マイニング モデル コンテンツは標準の構造で表されます。 この構造は、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]で提供されている Microsoft 汎用コンテンツ ツリー ビューアーで参照でき、いずれかのカスタム ビューアーに切り替えて情報がモデルの種類ごとにどのように解釈およびグラフィカル表示されるかを確認できます。 また、MINING_MODEL_CONTENT スキーマ行セットをサポートするクライアントを使用して、マイニング モデル コンテンツに対するクエリを作成することもできます。 詳しくは、「 [データ マイニングのクエリ タスクと操作方法](data-mining-query-tasks-and-how-tos.md)」をご覧ください。  
  
 ここでは、すべての種類のマイニング モデルに対して提供されているコンテンツの基本構造について説明します。 また、すべてのマイニング モデル コンテンツに共通するノードの種類、および情報を解釈する方法について説明します。  
  
 [マイニング モデル コンテンツの構造](#bkmk_Structure)  
  
 [モデル コンテンツ内のノード](#bkmk_Nodes)  
  
 [アルゴリズムの種類別のマイニング モデル コンテンツ](#bkmk_AlgoType)  
  
 [マイニング モデル コンテンツを表示するためのツール](#bkmk_Viewing)  
  
 [マイニング モデル コンテンツにクエリを実行するためのツール](#bkmk_Querying)  
  
##  <a name="bkmk_Structure"></a> マイニング モデル コンテンツの構造  
 各モデルのコンテンツは、一連の *ノード*として表示されます。 ノードは、モデルの一部に関するメタデータおよび情報を含むマイニング モデル内のオブジェクトです。 ノードは階層として配置されます。 階層内でのノードの正確な配置および階層の意味は、使用したアルゴリズムによって異なります。 たとえば、デシジョン ツリー モデルを作成した場合は、モデルには、モデル ルートにすべて接続された複数のツリーが含まれます。ニューラル ネットワーク モデルを作成した場合は、モデルには、1 つ以上のネットワークと統計ノードが含まれます。  
  
 各モデルの最初のノードは、 *ルート ノード*または *モデルの親* ノードと呼ばれます。 すべてのモデルにルート ノード (NODE_TYPE = 1) があります。 通常、ルート ノードには、モデルや子ノード数に関する一部のメタデータが含まれていますが、モデルで検出されたパターンに関する追加情報はほとんど含まれません。  
  
 ルート ノードに含まれる子ノードの数は、モデルの作成に使用したアルゴリズムによって異なります。 アルゴリズムやデータの深さおよび複雑さによって子ノードの意味は異なり、子ノードに含まれるコンテンツも異なります。  
  
##  <a name="bkmk_Nodes"></a> マイニング モデル コンテンツ内のノード  
 マイニング モデルでは、ノードは、モデルの全体または一部に関する情報を格納する汎用コンテナーです。 各ノードの構造は常に同じで、この構造にはデータ マイニング スキーマ行セットで定義される列が含まれます。 詳しくは、「 [DMSCHEMA_MINING_MODEL_CONTENT 行セット](https://docs.microsoft.com/bi-reference/schema-rowsets/data-mining/dmschema-mining-model-content-rowset)」をご覧ください。  
  
 各ノードには、各モデル内で一意な識別子、親ノードの ID、ノードに含まれている子ノードの数などのノードに関するメタデータが含まれています。 メタデータによって、ノードが属しているモデルおよびその特定のモデルが格納されているデータベース カタログが識別されます。 ノードに含まれる追加コンテンツは、モデルの作成に使用したアルゴリズムの種類によって異なります。追加コンテンツには次のようなものがあります。  
  
-   トレーニング データ内のケースのうち、特定の予測値をサポートするケースの数  
  
-   平均、標準偏差、分散などの統計情報  
  
-   係数と数式  
  
-   ルールおよびラテラル ポインターの定義  
  
-   モデルの一部を記述する XML フラグメント  
  
### <a name="list-of-mining-content-node-types"></a>マイニング コンテンツ ノードの種類の一覧  
 次の表に、データ マイニング モデルで出力されるさまざまな種類のノードを示します。 アルゴリズムごとに情報の処理方法が異なるので、各モデルでは特定の数種類のノードのみが生成されます。 アルゴリズムを変更すると、ノードの種類も変更されることがあります。 また、モデルを再処理すると、各ノードのコンテンツが変更されることがあります。  
  
> [!NOTE]  
>  [!INCLUDE[ssASCurrent](../../includes/ssascurrent-md.md)]で提供されるものとは異なるデータ マイニング サービスを使用する場合、または独自のプラグイン アルゴリズムを作成する場合は、他の種類のカスタム ノードを利用できることがあります。  
  
|NODE_TYPE ID|ノード ラベル|ノードのコンテンツ|  
|-------------------|----------------|-------------------|  
|1|[モデル]|メタデータおよびルート コンテンツ ノード。 すべての種類のモデルに適用されます。|  
|2|ツリー|分類ツリーのルート ノード。 デシジョン ツリー モデルに適用されます。|  
|3|Interior|ツリーの内部分割ノード。 デシジョン ツリー モデルに適用されます。|  
|4|Distribution|ツリーの末端のノード。 デシジョン ツリー モデルに適用されます。|  
|5|クラスター|アルゴリズムにより検出されたクラスター。 クラスター モデルとシーケンス クラスター モデルに適用されます。|  
|6|Unknown|不明なノードの種類。|  
|7|ItemSet|アルゴリズムにより検出されたアイテムセット。 アソシエーション モデルまたはシーケンス クラスター モデルに適用されます。|  
|8|AssociationRule|アルゴリズムにより検出されたアソシエーション ルール。 アソシエーション モデルまたはシーケンス クラスター モデルに適用されます。|  
|9|PredictableAttribute|予測可能な属性。 すべての種類のモデルに適用されます。|  
|10|InputAttribute|入力属性。 デシジョン ツリーと Naïve Bayes モデルに適用されます。|  
|11|InputAttributeState|入力属性の状態の統計。 デシジョン ツリーと Naïve Bayes モデルに適用されます。|  
|13|Sequence|シーケンス クラスターの Markov モデル コンポーネントの最上位ノード。 シーケンス クラスター モデルに適用されます。|  
|14|Transition|Markov 遷移マトリックス。 シーケンス クラスター モデルに適用されます。|  
|15|TimeSeries|時系列ツリーの非ルート ノード。 タイム シリーズ モデルだけに適用されます。|  
|16|TsTree|予測可能な時系列に対応する、時系列ツリーのルート ノード。 タイム シリーズ モデルに適用されます。また、モデルが MIXED パラメーターを使用して作成された場合にのみ適用されます。|  
|17|NNetSubnetwork|1 つのサブネットワーク。 ニューラル ネットワーク モデルに適用されます。|  
|18|NNetInputLayer|入力層のノードが含まれているグループ。 ニューラル ネットワーク モデルに適用されます。|  
|19|NNetHiddenLayer|非表示の層を示すノードが含まれているグループ。 ニューラル ネットワーク モデルに適用されます。|  
|21|NNetOutputLayer|出力層のノードが含まれているグループ。 ニューラル ネットワーク モデルに適用されます。|  
|21|NNetInputNode|入力属性とそれに対応する状態に一致する入力層のノード。 ニューラル ネットワーク モデルに適用されます。|  
|22|NNetHiddenNode|非表示の層のノード。 ニューラル ネットワーク モデルに適用されます。|  
|23|NNetOutputNode|出力層のノード。 このノードは、通常、出力属性とそれに対応する状態に一致します。 ニューラル ネットワーク モデルに適用されます。|  
|24|NNetMarginalNode|トレーニング セットのマージナル統計。 ニューラル ネットワーク モデルに適用されます。|  
|25|RegressionTreeRoot|回帰ツリーのルート。 線形回帰モデル、および連続する入力属性が含まれているデシジョン ツリー モデルに適用されます。|  
|26|NaiveBayesMarginalStatNode|トレーニング セットのマージナル統計。 Naïve Bayes モデルに適用されます。|  
|27|ArimaRoot|ARIMA モデルのルート ノード。 ARIMA アルゴリズムを使用するタイム シリーズ モデルだけに適用されます。|  
|28|ArimaPeriodicStructure|ARIMA モデルの周期構造。 ARIMA アルゴリズムを使用するタイム シリーズ モデルだけに適用されます。|  
|29|ArimaAutoRegressive|ARIMA モデルの 1 つの項の自己回帰係数。<br /><br /> ARIMA アルゴリズムを使用するタイム シリーズ モデルだけに適用されます。|  
|30|ArimaMovingAverage|ARIMA モデルの 1 つの項の移動平均係数。 ARIMA アルゴリズムを使用するタイム シリーズ モデルだけに適用されます。|  
|1000|CustomBase|カスタム ノード型の開始位置。 カスタム ノード型は、この定数より値の大きい整数でなければなりません。 カスタム プラグイン アルゴリズムを使用して作成されたモデルに適用されます。|  
  
### <a name="node-id-name-caption-and-description"></a>ノード ID、名前、キャプション、および記述  
 モデルのルート ノードの一意な ID (**NODE_UNIQUE_NAME**) は、常に 0 です。 ノード ID はすべて Analysis Services によって自動的に割り当てられ、変更することはできません。  
  
 また、各モデルのルート ノードには、モデルに関するいくつかの基本的なメタデータが含まれています。 このメタデータには、モデルが格納されている Analysis Services データベース (**MODEL_CATALOG**)、スキーマ (**MODEL_SCHEMA**)、モデルの名前 (**MODEL_NAME**) などがあります。 ただし、この情報はモデルのすべてのノードで重複するので、ルート ノードに対してクエリを行ってこのメタデータを取得する必要はありません。  
  
 各ノードには、一意識別子として使用される名前以外にも " *名前* " (**NODE_NAME**) があります。 この名前は表示目的でアルゴリズムによって自動的に作成され、編集することはできません。  
  
> [!NOTE]  
>  Microsoft クラスタリング アルゴリズムを使用すると、ユーザーは各クラスターに表示名を割り当てることができます。 ただし、この表示名はサーバーに保存されないので、モデルを再処理するとアルゴリズムによって新しいクラスター名が生成されます。  
  
 各ノードの *キャプション* と *説明* は、アルゴリズムによって自動的に生成され、ノードのコンテンツの把握に役立つラベルとして機能します。 フィールドごとに生成されるテキストは、モデルの種類によって異なります。 名前、キャプション、および説明がまったく同じ文字列である場合もありますが、モデルによっては、説明に追加情報が示される場合もあります。 実装の詳細については、各種モデルに関するトピックを参照してください。  
  
> [!NOTE]  
>  Analysis Services サーバーでは、名前の変更を実装するカスタム プラグイン アルゴリズムを使用してモデルを構築する場合にのみノード名の変更がサポートされます。 名前の変更を有効にするには、プラグイン アルゴリズムの作成時にメソッドをオーバーライドする必要があります。  
  
### <a name="node-parents-node-children-and-node-cardinality"></a>親ノード、子ノード、およびノードのカーディナリティ  
 ツリー構造での親ノードと子ノードのリレーションシップは、PARENT_UNIQUE_NAME 列の値によって決まります。 この値は子ノードに格納されており、親ノードの ID を示します。 次に、この情報の使用方法の例を示します。  
  
-   PARENT_UNIQUE_NAME が NULL の場合、ノードはモデルの最上位ノードです。  
  
-   PARENT_UNIQUE_NAME の値が 0 の場合、ノードはモデルの最上位ノードの直接の子孫である必要があります。 これは、ルート ノードの ID が常に 0 であるためです。  
  
-   データ マイニング拡張機能 (DMX) クエリ内で関数を使用して、特定のノードの子孫または親を検出することができます。 クエリでの関数の使用の詳細については、「 [データ マイニング クエリ](data-mining-queries.md)」をご覧ください。  
  
 *カーディナリティ* は、セット内の項目数を指します。 処理済みのマイニング モデルのコンテキストでは、カーディナリティは特定のノードの子の数を表します。 たとえば、デシジョン ツリー モデルに [年収] というノードがあり、そのノードに条件 [年収] = 高と条件 [年収] = 低という 2 つの子ノードがある場合、[年収] ノードの CHILDREN_CARDINALITY の値は 2 になります。  
  
> [!NOTE]  
>  [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] では、ノードのカーディナリティの計算時には直接の子ノードのみがカウントされます。 ただし、カスタム プラグイン アルゴリズムを作成する場合は、CHILDREN_CARDINALITY をオーバーロードして異なる方法でカーディナリティをカウントすることができます。 これは、直接の子だけでなく子孫の総数をカウントする場合などに役立ちます。  
  
 カーディナリティはすべてのモデルで同様にカウントされますが、カーディナリティの値の解釈方法または使用方法はモデルの種類によって異なります。 たとえば、クラスター モデルでは、最上位ノードのカーディナリティは検出されたクラスターの総数を示します。 その他の種類のモデルでは、ノードの種類によってはカーディナリティが常に設定値である場合があります。 カーディナリティの解釈方法の詳細については、各種モデルに関するトピックを参照してください。  
  
> [!NOTE]  
>  モデル全体のトレーニング データに関する説明的な統計情報を提供する特殊なノードが追加で含まれるモデルもあります (Microsoft ニューラル ネットワーク アルゴリズムによって作成されたモデルなど)。 定義上、このようなノードに子ノードはありません。  
  
### <a name="node-distribution"></a>node distribution  
 NODE_DISTRIBUTION 列には、アルゴリズムで検出されたパターンに関する重要な詳細情報を多くのノードで示す入れ子になったテーブルが含まれています。 このテーブルに示される正確な統計は、モデルの種類、ツリー内のノードの位置、および予測可能な属性が連続する数値か不連続値かによって異なりますが、統計には、属性の最小値と最大値、値に割り当てられた重み、ノード内のケース数、回帰式で使用される係数、標準偏差や分散のような統計的尺度などが含まれます。 ノード分布の解釈方法の詳細については、扱っている特定の種類のモデルに関するトピックを参照してください。  
  
> [!NOTE]  
>  NODE_DISTRIBUTION テーブルは、ノードの種類によっては空の場合もあります。 たとえば、詳細な統計を含む子ノードのコレクションを整理するためだけのノードもあります。  
  
 入れ子になったテーブル NODE_DISTRIBUTION には、常に次の列が含まれています。 各列のコンテンツは、モデルの種類によって異なります。 特定の種類のモデルの詳細については、「 [アルゴリズムの種類別のマイニング モデル コンテンツ](#bkmk_AlgoType)」を参照してください。  
  
 ATTRIBUTE_NAME  
 コンテンツは、アルゴリズムによって異なります。 予測可能な属性などの列、ルール、アイテムセット、または数式の一部などのアルゴリズムの内部情報の名前を指定できます。  
  
 この列には、属性と値のペアも格納できます。  
  
 ATTRIBUTE_VALUE  
 ATTRIBUTE_NAME で指定した属性の値。  
  
 属性名が列の場合、最も簡単な例では、ATTRIBUTE_VALUE にはその列の不連続値のいずれかが格納されます。  
  
 アルゴリズムによる値の処理方法によっては、ATTRIBUTE_VALUE には、属性の値が存在するかどうかを示すフラグ (`Existing`) または値が NULL かどうかを示すフラグ (`Missing`) も格納できます。  
  
 たとえば、特定の品目を 1 回以上購入したことがある顧客を検出するようにモデルが設定されている場合、ATTRIBUTE_NAME 列には `Model = 'Water bottle'` などの目的の品目を定義する属性と値のペアが格納され、ATTRIBUTE_VALUE 列にはキーワード `Existing` または `Missing` のみが格納されます。  
  
 SUPPORT  
 この属性と値のペアを含むケースまたはこのアイテムセットまたはルールを含むケースの数。  
  
 一般に、各ノードのサポート値は、現在のノードに含まれるトレーニング セット内のケースの数を示します。 ほとんどの種類のモデルでは、サポートは正確なケース数を表します。 サポート値は、トレーニング データに対してクエリを実行しなくてもトレーニング ケース内のデータの分布を確認できるので便利です。 Analysis Services サーバーでも、この格納された値を使用して、格納された確率と前の確率の比較を計算することで、推定が強いか弱いかが判断されます。  
  
 たとえば、分類ツリーでは、サポート値は記述された属性の組み合わせを含むケースの数を表します。  
  
 デシジョン ツリーでは、ツリーの各レベルのサポートの合計は、その親ノードのサポートになります。 たとえば、1200 個のケースを含むモデルが性別、均等に分割し、ノード (4) (5) であるノード (2) の収入低、中、高、子ノードの 3 つの値で均等に分割し、(6)、常にノード (2) と同じ数のケースの合計します。  
  
|ノード ID およびノード属性|サポート数|  
|---------------------------------|-------------------|  
|(1) モデル ルート|1200|  
|(2) Gender = Male<br /><br /> (3) Gender = Female|600<br /><br /> 600|  
|(4) Gender = Male かつ Income = High<br /><br /> (5) Gender = Male かつ Income = Medium<br /><br /> (6) Gender = Male かつ Income = Low|200<br /><br /> 200<br /><br /> 200|  
|(7) Gender = Female かつ Income = High<br /><br /> (8) Gender = Female かつ Income = Medium<br /><br /> (9) Gender = Female かつ Income = Low|200<br /><br /> 200<br /><br /> 200|  
  
 クラスター モデルの場合は、サポート数に重み付けして複数のクラスターに属する確率を含めることができます。 複数のクラスター メンバーシップは、既定のクラスタリング手法です。 この場合は、各ケースが 1 つのクラスターだけに属するとは限らないので、このようなモデルのサポートを合計しても、すべてのクラスターで 100% にはならない場合があります。  
  
 PROBABILITY  
 モデル全体におけるこの特定のノードの確率を示します。  
  
 一般に、確率は、この特定の値のサポートをノード内のケースの総数 (NODE_SUPPORT) で除算した値を表します。  
  
 ただし、確率を多少調整して、データの不足値が原因で生じるバイアスを回避します。  
  
 たとえば、[子供の総数] の現在の値が 1 および 2 である場合に、子供がいないこと、または子供が 3 人いることが起こり得ないと予測するモデルを作成しないようにするとします。 不足値がありそうにないがあり得なくはないという状態にするために、アルゴリズムによって、属性の実際の値の数に常に 1 が加算されます。  
  
 例:  
  
 [子供の総数 = 1] の確率 = [子供の総数 = 1 であるケースの数] + 1/[すべてのケースの数] + 3  
  
 [子供の総数 = 2] の確率 = [子供の総数 = 2 であるケースの数] + 1/[すべてのケースの数] + 3  
  
> [!NOTE]  
>  調整値 3 は、既存の値の総数 n に 1 を加算して算出したものです。  
  
 調整後も、すべての値の確率を合計すると 1 になります。 データがない値の確率 (この例では [子供の総数 = 0、3、またはその他の値]) は、非常に低い 0 以外のレベルから始まり、ケースの追加に合わせて緩やかに増加します。  
  
 variance  
 ノード内の値の分散を示します。 不連続値の場合は、定義上、分散は常に 0 になります。 モデルで連続値がサポートされる場合、分散は、分母 n またはノード内のケースの数を使用して σ (シグマ) として計算されます。  
  
 一般に、標準偏差 (`StDev`) を表すために使用される定義は 2 つあります。 一方の標準偏差の計算方法ではバイアスが考慮され、他方ではバイアスを使用せずに標準偏差が計算されます。 通常、Microsoft データ マイニング アルゴリズムでは、標準偏差の計算時にバイアスは使用されません。  
  
 NODE_DISTRIBUTION テーブルに示される値は、すべての不連続属性と分離された属性の実際の値、および連続値の平均です。  
  
 VALUE_TYPE  
 値または属性のデータ型、および値の使用法を示します。 特定の値の型は、特定の種類のモデルにのみ適用されます。  
  
|VALUE_TYPE ID|値のラベル|値の型名|  
|--------------------|-----------------|---------------------|  
|1|Missing|ケース データにこの属性の値が含まれていないことを示します。 `Missing` 状態は、値を持つ属性とは別に計算されます。|  
|2|Existing|ケース データにこの属性の値が含まれていることを示します。|  
|3|Continuous|属性の値が連続する数値であるため、分散および標準偏差と共に平均で表すことができることを示します。|  
|4|Discrete|不連続値として扱われる値 (数値またはテキスト) を示します。<br /><br /> **注** 不連続値は不足値にすることもできます。ただし、計算時の処理方法は異なります。 詳細については、「[Missing 値 &#40;Analysis Services - データ マイニング&#41;](missing-values-analysis-services-data-mining.md)」をご覧ください。|  
|5|Discretized|属性に分離された数値が含まれていることを示します。 値は、分離するためのバケットを示す書式設定された文字列です。|  
|6|Existing|属性の値が連続する数値で、値がデータで指定されていることを示します (不足値または推定値と比較)。|  
|7|Coefficient|係数を表す数値を示します。<br /><br /> 係数は、従属変数の値の計算時に適用される値です。 たとえば、年齢に基づいて収入を予測する回帰式をモデルで作成する場合は、年齢を収入に関連付ける式で係数が使用されます。|  
|8|Score gain|属性のスコア ゲインを表す数値を示します。|  
|9|統計|リグレッサーの統計を表す数値を示します。|  
|10|Node unique name|値を数値または文字列として扱わずに、モデルの別のコンテンツ ノードの一意識別子として扱うことを示します。<br /><br /> たとえば、ニューラル ネットワーク モデルでは、ID によって、出力層のノードから非表示層のノード、および非表示層のノードから入力層のノードへのポインターが提供されます。|  
|11|Intercept|回帰式における切片を表す数値を示します。|  
|12|Periodicity|値がモデルの周期構造を表すことを示します。<br /><br /> ARIMA モデルを含むタイム シリーズ モデルだけに適用されます。<br /><br /> 注:Microsoft タイム シリーズ アルゴリズムでは、周期構造はトレーニング データに基づいて自動的に検出されます。 したがって、最終的なモデルの周期性には、モデルの作成時にパラメーターとして指定しなかった周期性の値が含まれる場合があります。|  
|13|Autoregressive order|値が自己回帰系列の数を表すことを示します。<br /><br /> ARIMA アルゴリズムを使用するタイム シリーズ モデルに適用されます。|  
|14|Moving average order|系列の移動平均の数を表す値を表します。<br /><br /> ARIMA アルゴリズムを使用するタイム シリーズ モデルに適用されます。|  
|15|Difference order|系列が区別される回数を示す値を表します。<br /><br /> ARIMA アルゴリズムを使用するタイム シリーズ モデルに適用されます。|  
|16|ブール値|Boolean 型を表します。|  
|17|その他|アルゴリズムで定義されたカスタム値を表します。|  
|18|Prerendered string|アルゴリズムによって文字列として表示されるカスタム値を表します。 オブジェクト モデルによって書式設定は適用されませんでした。|  
  
 値の型は、ADMOMD.NET 列挙体から派生します。 詳しくは、「 <xref:Microsoft.AnalysisServices.AdomdServer.MiningValueType>が含まれます。  
  
### <a name="node-score"></a>ノード スコア  
 ノード スコアの意味はモデルの種類によって異なり、ノードの種類によっても変わる可能性があります。 各種モデルおよびノードに関する NODE_SCORE の計算方法の詳細については、「 [アルゴリズムの種類別のマイニング モデル コンテンツ](#bkmk_AlgoType)」をご覧ください。  
  
### <a name="node-probability-and-marginal-probability"></a>ノードの確率と周辺確率  
 マイニング モデル スキーマ行セットには、すべての種類のモデルで列 NODE_PROBABILITY および MARGINAL_PROBABILITY が含まれます。 これらの列には、確率値に意味があるノードの値のみが格納されます。 たとえば、モデルのルート ノードに確率スコアが格納されることはありません。  
  
 確率スコアを提供するノードでは、ノードの確率と周辺確率は異なる計算を表します。  
  
-   **周辺確率** は、親からそのノードに到達する確率です。  
  
-   **ノードの確率** は、ルートからそのノードに到達する確率です。  
  
-   **ノードの確率** は、常に **周辺確率**以下になります。  
  
 たとえば、デシジョン ツリー内のすべての顧客が性別に基づいて均等に分割される場合 (不足値はないものとする)、子ノードの確率は 0.5 になります。 ただし、各性別のノードの収入レベルによってが均等に分割があるとします-High、Medium、および Low です。 この場合、各子ノードの MARGINAL_PROBABILITY のスコアは常に 0.33 になりますが、NODE_PROBABILTY の値はそのノードに到達するすべての確率の積になるので、常に MARGINAL_PROBABILITY の値より小さくなります。  
  
|ノードまたは属性と値のレベル|周辺確率|ノードの確率|  
|----------------------------------------|--------------------------|----------------------|  
|モデル ルート<br /><br /> すべての対象顧客|1|1|  
|性別に基づいて分割された対象顧客|.5|.5|  
|性別に基づいて分割され、収入に基づいて 3 つの方法で再度分割された対象顧客|.33|.5 * .33 = .165|  
  
### <a name="node-rule-and-marginal-rule"></a>ノード ルールとマージナル ルール  
 マイニング モデル スキーマ行セットには、すべての種類のモデルで列 NODE_RULE および MARGINAL_RULE も含まれます。 これらの列には、モデルをシリアル化するため、またはモデル構造の一部を表すために使用できる XML フラグメントが格納されます。 ノードによっては、これらの列は空白になる場合もあります (値が無意味である場合)。  
  
 確率値が 2 種類あるのと同様に、XML ルールも 2 種類用意されています。 MARGINAL_RULE の XML フラグメントでは現在のノードの属性と値を定義し、NODE_RULE の XML フラグメントではモデル ルートから現在のノードへのパスを示します。  
  
##  <a name="bkmk_AlgoType"></a> アルゴリズムの種類別のマイニング モデル コンテンツ  
 各アルゴリズムには、コンテンツ スキーマの一部としてさまざまな種類の情報が格納されます。 たとえば、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] クラスタリング アルゴリズムでは多数の子ノードが生成され、それぞれが有効なクラスターを表します。 各クラスター ノードには、クラスター内のアイテムによって共有される特性を記述するルールが含まれます。 一方、 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 線形回帰アルゴリズムには子ノードがありません。代わりに、モデルの親ノードには、分析で検出された線形の関係を表す式が含まれます。  
  
 次の表に、各種アルゴリズムのトピックへのリンクを示します。  
  
-   **モデル コンテンツのトピック。** 各アルゴリズムの種類の各ノードの意味を説明し、ノードが特定のモデルの種類で最も重要なについてのガイダンスを提供します。  
  
-   **クエリのトピック。** 結果の解釈方法については、特定のモデルの種類とガイダンスに対するクエリの例を提供します。  
  
|アルゴリズムまたはモデルの種類|model content|マイニング モデルのクエリ|  
|-----------------------------|-------------------|----------------------------|  
|アソシエーション ルール モデル|[アソシエーション モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-association-models-analysis-services-data-mining.md)|[結合モデルのクエリ例](association-model-query-examples.md)|  
|クラスター モデル|[デシジョン ツリー モデルのマイニング モデル コンテンツ (Analysis Services - データ マイニング)](mining-model-content-for-decision-tree-models-analysis-services-data-mining.md)|[クラスタリング モデルのクエリ例](clustering-model-query-examples.md)|  
|デシジョン ツリー モデル|[デシジョン ツリー モデルのマイニング モデル コンテンツ (Analysis Services - データ マイニング)](mining-model-content-for-decision-tree-models-analysis-services-data-mining.md)|[デシジョン ツリー モデルのクエリ例](decision-trees-model-query-examples.md)|  
|線形回帰モデル|[線形回帰モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-linear-regression-models-analysis-services-data-mining.md)|[線形回帰モデルのクエリ例](linear-regression-model-query-examples.md)|  
|ロジスティック回帰モデル|[ロジスティック回帰モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-logistic-regression-models.md)|[線形回帰モデルのクエリ例](linear-regression-model-query-examples.md)|  
|Naïve Bayes モデル|[Naive Bayes モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-naive-bayes-models-analysis-services-data-mining.md)|[Naive Bayes Model Query Examples](naive-bayes-model-query-examples.md)|  
|ニューラル ネットワーク モデル|[ニューラル ネットワーク モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-neural-network-models-analysis-services-data-mining.md)|[Neural Network Model Query Examples](neural-network-model-query-examples.md)|  
|シーケンス クラスター|[シーケンス クラスター モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-sequence-clustering-models.md)|[Sequence Clustering Model Query Examples](sequence-clustering-model-query-examples.md)|  
|タイム シリーズ モデル|[タイム シリーズ モデルのマイニング モデル コンテンツ &#40;Analysis Services - データ マイニング&#41;](mining-model-content-for-time-series-models-analysis-services-data-mining.md)|[タイム シリーズ モデルのクエリ例](time-series-model-query-examples.md)|  
  
##  <a name="bkmk_Viewing"></a> マイニング モデル コンテンツを表示するためのツール  
 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]でモデルを参照または調査する場合、 **Microsoft 汎用コンテンツ ツリー ビューアー**で情報を表示できます。このビューアーは、 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] と [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]の両方で使用できます。  
  
 [!INCLUDE[msCoName](../../includes/msconame-md.md)] 汎用コンテンツ ビューアーは、マイニング モデルのコンテンツ スキーマ行セットで使用できる同じ情報を使用して、列、ルール、プロパティ、属性、ノードなどのモデルのコンテンツを表示します。 コンテンツ スキーマ行セットは、データ マイニング モデルのコンテンツに関する詳細情報を表すための汎用フレームワークです。 モデル コンテンツは、階層的な行セットをサポートしているすべてのクライアントで表示できます。 [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] のビューアーは、すべてのモデルを一貫した形式で示す HTML テーブル ビューアーにこの情報を表示して、作成するモデルの構造をわかりやすくしています。 詳細については、「 [Microsoft 汎用コンテンツ ツリー ビューアーを使用したモデルの参照](browse-a-model-using-the-microsoft-generic-content-tree-viewer.md)」をご覧ください。  
  
##  <a name="bkmk_Querying"></a> マイニング モデル コンテンツにクエリを実行するためのツール  
 マイニング モデル コンテンツを取得するには、データ マイニング モデルに対するクエリを作成する必要があります。  
  
 コンテンツ クエリを作成する最も簡単な方法は、 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]で次の DMX ステートメントを実行することです。  
  
```  
SELECT * FROM [<mining model name>].CONTENT  
```  
  
 詳細については、「 [データ マイニング クエリ](data-mining-queries.md)」をご覧ください。  
  
 マイニング モデル コンテンツに対するクエリは、データ マイニング スキーマ行セットを使用して実行することもできます。 スキーマ行セットは、マイニング構造およびモデルに関する情報の検出、参照、およびクエリのためにクライアントで使用される標準の構造です。 スキーマ行セットに対するクエリは、XMLA、Transact-SQL、または DMX ステートメントを使用して実行することができます。  
  
 また、 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]では、 [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] インスタンスへの接続を開き、システム テーブルにクエリを実行することにより、データ マイニング スキーマ行セットの情報にアクセスできます。 詳細については、次を参照してください。[データ マイニング スキーマ行セットのクエリを実行する&#40;Analysis Services - データ マイニング&#41;](data-mining-schema-rowsets-ssas.md)します。  
  
## <a name="see-also"></a>参照  
 [Microsoft 汎用コンテンツ ツリー ビューアー &#40;データ マイニング&#41;](../microsoft-generic-content-tree-viewer-data-mining.md)   
 [データ マイニング アルゴリズム &#40;Analysis Services - データ マイニング&#41;](data-mining-algorithms-analysis-services-data-mining.md)  
  
  
