---
title: フルテキスト検索アップグレード オプション |Microsoft Docs
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: database-engine
ms.topic: conceptual
f1_keywords:
- Full-Text Search
- Upgrade options, Full-Text Search
ms.assetid: 16c9376b-5fbb-4495-a429-06a2493849c9
author: craigg-msft
ms.author: craigg
manager: craigg
ms.openlocfilehash: 575105d61446f2fd272e4087457e7762c1abb2e8
ms.sourcegitcommit: 3026c22b7fba19059a769ea5f367c4f51efaf286
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/15/2019
ms.locfileid: "66095084"
---
# <a name="full-text-search-upgrade-options"></a>フルテキスト検索アップグレード オプション
  [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] インストール ウィザードの [フルテキスト検索アップグレード オプション] ページを使用すると、ここでアップグレードするデータベースに対して使用するフルテキスト検索のアップグレード オプションを選択できます。  
  
 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] では、各フルテキスト インデックスは、ファイル グループに属するフルテキスト カタログに存在し、物理パスを持ち、データベース ファイルとして扱われます。 ここで、フルテキスト カタログは、論理概念では仮想オブジェクト-フルテキスト インデックスのグループを参照します。 したがって、新しいフルテキスト カタログは、物理パスを持つデータベース ファイルとしては扱われません。 ただし、データ ファイルを含むフルテキスト カタログのアップグレード時に、新しいファイル グループが同じディスク上に作成されます。 これにより、アップグレード後も以前のディスク I/O 動作が維持されます。 ルート パスが存在する場合、そのカタログのフルテキスト インデックスは、すべて新しいファイル グループに配置されます。 前のフルテキスト カタログのパスが無効の場合、フルテキスト インデックスは、ベース テーブルと同じファイル グループで保持されるか、パーティション テーブルの場合にはプライマリ ファイル グループで保持されます。  
  
## <a name="options"></a>および  
 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]にアップグレードする場合、次のフルテキスト アップグレード オプションのいずれかを選択します。  
  
 **[インポート]**  
 フルテキスト カタログがインポートされます。 通常、インポートの方が再構築よりもかなり高速に処理されます。 たとえば、CPU を 1 つだけ使用している場合、インポートは、再構築の約 10 倍の速さで実行されます。 ただし、 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] からインポートされたフルテキスト カタログでは、新しい強化されたワード ブレーカーが使用されません。そのため、最終的にはフルテキスト カタログの再構築が必要になることがあります。  
  
> [!NOTE]  
>  再構築はマルチスレッド モードで実行できます。10 を超える CPU が使用可能な場合に、再構築でそれらの CPU をすべて使用できるようにすると、再構築の方がインポートよりも高速に実行されることがあります。  
  
 フルテキスト カタログが使用できない場合は、関連付けられたフルテキスト インデックスが再構築されます。 このオプションは [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] データベースでのみ使用できます。  
  
 フルテキスト インデックスのインポートによる影響については、後の「フルテキスト アップグレード オプションの選択に関する注意点」を参照してください。  
  
 **Rebuild**  
 フルテキスト カタログは、導入された新しい拡張機能であるワード ブレーカーを使用して再構築されます。 インデックスの再構築には時間がかかり、アップグレード後に膨大な量の CPU とメモリが必要になる可能性があります。  
  
 **リセット**  
 フルテキスト カタログがリセットされます。 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]からのアップグレード時には、フルテキスト カタログ ファイルは削除されますが、フルテキスト カタログのメタデータおよびフルテキスト インデックスは保持されます。 アップグレード後、すべてのフルテキスト インデックスで変更の追跡は無効化されており、クロールは自動的には開始されません。 アップグレードの完了後、手動で完全作成を実行するまで、カタログは空のままになります。  
  
 これらのアップグレード オプションすべてにより、アップグレードされたデータベースで、フルテキスト操作のパフォーマンス向上による効果を最大限に活用できるようになります。  
  
## <a name="considerations-for-choosing-a-full-text-upgrade-option"></a>フルテキスト アップグレード オプションの選択に関する注意点  
 アップグレードのためにアップグレード オプションを選択する際は、次の点を考慮してください。  
  
-   ワード ブレーカーをどのように使用するか。  
  
     [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] のフルテキスト検索サービスには、ワード ブレーカーとステミング機能が含まれています。 これにより、フルテキスト クエリの結果が、特定のテキストのパターンやシナリオで [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] と変わってくることがあります。 そのため、ワード ブレーカーをどのように使用するかが、適切なアップグレード オプションを選択する際に重要となります。  
  
    -   使用するフルテキスト言語のワード ブレーカーが変更されていない場合、または再呼び出しの精度が重要でない場合は、インポートが適切です。 後で、再呼び出しに関する問題があった場合には、フルテキスト カタログを再構築するだけで、新しいワード ブレーカーにアップグレードできます。  
  
    -   再呼び出しの精度が重要であり、 [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)]以降に追加されたワード ブレーカーのいずれかを使用する場合は、再構築が適切です。  
  
-   整数型のフルテキスト キー列に基づいて構築されているフルテキスト インデックスがあるかどうか。  
  
     再構築では内部最適化処理が実行されます。これにより、アップグレードされたフルテキスト インデックスのクエリ パフォーマンスが向上することがあります。 具体的には、ベース テーブルのフルテキスト キー列が整数データ型であるフルテキスト インデックスを含むフルテキスト カタログがある場合、再構築によって、アップグレード後のフルテキスト クエリのパフォーマンスが理想的なものになります。 この場合は、 **[再構築]** オプションを使用することを強くお勧めします。  
  
    > [!NOTE]  
    >  [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]のフルテキスト インデックスでは、フルテキスト キーとして機能する列を整数データ型にすることをお勧めします。 詳細については、「 [フルテキスト インデックスのパフォーマンスの向上](../../relational-databases/indexes/indexes.md)」を参照してください。  
  
-   サーバー インスタンスをオンラインにする場合に何を優先するか。  
  
     アップグレード時のインポートまたは再構築では CPU リソースを大量に消費するので、その他のサーバー インスタンスがアップグレードされてオンラインになるのが遅れます。 できるだけ早くサーバー インスタンスをオンラインにすることが重要であり、アップグレード後に手動作成を実行してもよい場合は、 **[リセット]** が最適です。  
  
## <a name="additional-resources"></a>その他のリソース  
  
