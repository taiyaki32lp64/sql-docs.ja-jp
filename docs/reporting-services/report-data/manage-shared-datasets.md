---
title: 共有データセットの管理 |Microsoft ドキュメント
ms.date: 03/01/2017
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.technology: report-data
ms.topic: conceptual
ms.assetid: 2cbb1fa3-959e-4df6-9887-ebc93cc1b686
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 332103dd9f100a2477b9ae7392bd6d24088261f6
ms.sourcegitcommit: 1bbbbb8686745a520543ac26c4d4f6abe1b167ea
ms.translationtype: MTE75
ms.contentlocale: ja-JP
ms.lasthandoff: 06/18/2019
ms.locfileid: "67220584"
---
# <a name="manage-shared-datasets"></a>共有データセットを管理する
  [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]では、共有データセットによって、外部データ ソースに接続された共有データ ソースからデータを取得します。 共有データセットを使用するとクエリを共有できるので、複数のレポートに同じデータ セットを取り込むことができます。 データセット クエリにはデータセット パラメーターが含まれる場合があります。 初回使用時または指定したスケジュールに従い、特定のパラメーターの組み合わせによるクエリ結果をキャッシュするよう共有データセットを構成できます。 レポート キャッシュおよびレポート データ フィードと共に共有データセットのキャッシュを使用すると、データ ソースへのアクセスの管理に役立ちます。  
  
 共有データセットでは共有データ ソースのみが使用され、埋め込みデータ ソースは使用されません。 共有データセットは、サポートされている [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] データ拡張機能のデータ ソース、またはレポート モデルに基づいて作成できます。  
  
## <a name="creating-and-using-shared-datasets"></a>共有データセットの作成と使用  
 共有データセットを作成するには、共有データセット定義ファイル (.rsd) を作成するアプリケーションを使用する必要があります。 共有データセットは、次のいずれかのアプリケーションで作成できます。  
  
-   レポート ビルダー : 共有データセット デザイン モードを使用して、共有データセットをレポート サーバーまたは SharePoint サイトに保存します。  
  
-   レポート デザイナーに[!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)]/Visual Studio ソリューション エクスプ ローラーの [データセット] フォルダーで共有データセットを作成します。 共有データセットをパブリッシュするには、共有データセットをレポート サーバーまたは SharePoint サイトに配置します。  
  
-   共有データセット定義 (.rsd) ファイルのアップロード : ファイルをレポート サーバーまたは SharePoint サイトにアップロードできます。 SharePoint サイトでは、 共有データセットがキャッシュされるか、またはレポート内で使用されるまでは、アップロードされたファイルはスキーマに対して検証されません。  
  
 共有データセット定義には、クエリ、既定値を含むデータセット パラメーター、大文字と小文字の区別などのデータ オプション、およびデータセット フィルターが含まれています。 共有データセット定義に設定した値は、共有データセットがレポートに組み込まれるときに必ず使用されます。  
  
 レポート内で共有データセットを使用するには、レポート ビルダーなどのアプリケーションを開き、レポート サーバーまたは SharePoint サイトを参照して、共有データセットを選択します。 これにより、共有データセットのインスタンスがレポートに追加されます。 レポートでは、共有データセットのクエリや共有データ ソースを表示または変更することはできません。 レポート内のインスタンスに適用する、追加のデータセット プロパティ値のセットを指定できます。 たとえば、フィルターを追加したり、大文字と小文字の区別などのデータ オプションを変更したりできます。 詳細については、「 [レポート埋め込みデータセットと共有データセット &#40;レポート ビルダーおよび SSRS&#41;](../../reporting-services/report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md)と呼ばれます。  
  
## <a name="managing-shared-datasets"></a>共有データセットの管理  
 パブリッシュされた共有データセットのプロパティを管理するには、ネイティブ モードのレポート サーバーの Web ポータルか、レポート サーバーを SharePoint 統合モードで配置した場合は SharePoint サイト上のアプリケーション ページを使用します。 共有データセットに対して実行できるタスクは、ロールの割り当てや、サイト レベルおよびアイテム レベルの権限 (権限の継承が有効な場合はフォルダー レベルの権限も含む) に応じて異なります。 共有データセットのアイテム レベルのセキュリティは、レポートのアイテム レベルのセキュリティと同じモデルに準拠しています。 詳細については、「 [共有データセット アイテムをセキュリティで保護する](../../reporting-services/security/secure-shared-dataset-items.md)」を参照してください。  
  
 使用する共有データ ソースなどの共有データセット アイテムのプロパティは、その共有データセットを使用するレポートや、依存する共有データ ソースとは独立して管理できます。 共有データセット定義の一部である、クエリやその他のデータセット プロパティを変更するには、定義を編集する必要があります。  
  
### <a name="manage-shared-dataset-item-properties"></a>共有データセット アイテムのプロパティの管理  
 次の表に、共有データセット アイテムの編集可能なプロパティを示します。  
  
|||  
|-|-|  
|名前の編集|共有データセットの名前を変更できます。 依存アイテムからのすべての参照は引き続き動作します。|  
|説明の編集|共有データセットの説明を変更できます。|  
|クエリ実行タイムアウト|クエリ実行タイムアウトを秒単位で設定できます。 ゼロ (0) 秒は、タイムアウトが設定されていないことを意味します。設定した秒数が経過すると、データセット クエリがタイムアウトとなります。タイムアウト値を指定しない場合は、0 を使用します。 詳細については、「[レポートおよび共有データセット処理のタイムアウト値の設定 (SSRS)](../../reporting-services/report-server/setting-time-out-values-for-report-and-shared-dataset-processing-ssrs.md)」を参照してください。|  
|依存アイテムの表示|この共有データセットを使用するアイテム (パブリッシュ済みレポート パーツ、共有データ ソース、およびレポート) を表示できます。|  
  
 次の追加の共有データセット プロパティは、自動的に構成されます。  
  
|プロパティ|[説明]|  
|--------------|-----------------|  
|HasDataSourceCredentials|関連付けられた共有データ ソースの資格情報が、レポート サーバー上に保存されているかどうかを示します。|  
|HasUserProfileDependencies|レポートのクエリまたはフィルター式に、User グローバル コレクションへの参照があるかどうかを示します。|  
  
## <a name="viewing-or-changing-the-shared-dataset-definition"></a>共有データセット定義の表示または変更  
 クエリ、データセット パラメーター、既定値、データセット フィルター、照合順序や大文字と小文字の区別などのデータ オプションを含む共有データセット プロパティは、共有データセット定義に保存されます。 十分な権限がある場合は、定義の表示や変更が可能です。  
  
 共有データセット定義を表示または変更するには、共有データセット デザイン モードのレポート ビルダーなどのアプリケーションで共有データセットを編集します。 変更後、サーバーまたはサイトに共有データセット定義を再度保存します。  
  
 共有データセット定義を XML で表示するもう一つの方法は、Web ポータルで URL アクセスの構文を使うことです。 たとえば、各データセット パラメーターの既定値を表示する場合は、次の URL アクセス コマンドを使用して、レポート サーバーにある DataSet1 という名前の共有データセット定義を表示できます。  
  
## <a name="controlling-access-to-the-shared-dataset-definition"></a>共有データセット定義へのアクセスの制御  
 既定では、共有データセットに対する操作には、次のタスクが適用されます。  
  
-   **レポートの表示** 共有データセット アイテムおよびアイテム プロパティを表示します。  
  
-   **レポートの使用** 共有データセット定義を読み取ります。  
  
-   **レポートの管理** 共有データセットの作成と削除、および共有データセット プロパティの編集を行います。  
  
-   **アイテムへのセキュリティの設定** 共有データセットのセキュリティ設定を表示および変更します。  
  
 ネイティブ モードのレポート サーバーのデータ ソース プロパティへのアクセスを制御するタスクと権限の詳細については、「 [共有データセット アイテムをセキュリティで保護する](../../reporting-services/security/secure-shared-dataset-items.md)」を参照してください。  
  
 SharePoint ライブラリのアイテムのプロパティを表示および編集する権限は、サイトの管理者によって決定されます。 詳細については、「 [レポート サーバー アイテムの SharePoint サイトおよびリスト権限のリファレンス](../../reporting-services/security/sharepoint-site-and-list-permission-reference-for-report-server-items.md)」を参照してください。  
  
## <a name="how-to-work-with-shared-dataset-properties-on-a-report-server"></a>レポート サーバーで共有データセット プロパティを操作する方法  
 さまざまなツールを使用して、共有データセットを操作できます。 次の表に、それらの方法およびツールと、詳しい手順へのリンクを示します。  
  
|タスク      |ツール      |リンク      |  
|----------|----------|----------|  
|共有データセットの追加、または共有データセット定義プロパティの変更|レポート ビルダーでの保存<br /><br /> レポート デザイナーでの配置<br /><br /> Web ポータルでの .rsd ファイルをアップロードします。|[レポート埋め込みデータセットと共有データセット &#40;レポート ビルダーおよび SSRS&#41;](../../reporting-services/report-data/report-embedded-datasets-and-shared-datasets-report-builder-and-ssrs.md)]<br /><br /> [レポート サーバーでファイルまたはレポートをアップロードする](../../reporting-services/reports/upload-a-file-or-report-report-manager.md)<br /><br /> 依存する共有データ ソースがパブリッシュされる前に共有データセットをアップロードする場合は、共有データセットを共有データ ソースに手動でバインドする必要があります。 詳細については、次を参照してください[.。/..共有データセット、web ポータル/reporting-services/Work](../work-with-shared-datasets-web-portal.md)します。|  
|共有データセット アイテムのプロパティの変更|Web ポータル|[共有データセットの操作 - Web ポータル](../../reporting-services/work-with-shared-datasets-web-portal.md)|  
|レポート内の共有データセット インスタンスに対する、追加の共有データセット プロパティの指定|レポート ビルダー、レポート デザイナー|[[クエリ] ([データセットのプロパティ] ダイアログ ボックス) (レポート ビルダー)](../../reporting-services/report-data/dataset-properties-dialog-box-query-report-builder.md)|  
|共有データセットでの、異なる共有データ ソースへのバインド|Web ポータル|[ページ分割されたレポートのデータ ソースのプロパティを構成する - SSRS](../../reporting-services/report-data/configure-data-source-properties-for-a-report-report-manager.md)|  
|データセット パラメーターの既定値の検証|レポート ビルダーでのオープン、または URL アクセスの構文の使用|例:<br /><br /> `https://localhost/reportserver/?/Datasets/Dataset1&rs:command=GetShareddatasetDefinition`
|キャッシュの有効化|Web ポータル|[共有データセットのキャッシュ &#40;SSRS&#41;](../../reporting-services/report-server/cache-shared-datasets-ssrs.md)|  
|キャッシュ更新計画の作成または編集|Web ポータル|[共有データセットのキャッシュ](../../reporting-services/report-server/cache-a-shared-dataset.md)|  
|SharePoint 統合モードでの、レポート サーバーと SharePoint サイト間における共有データセット定義の同期|SharePoint アプリケーション ページ|共有データセット アイテムのプロパティの変更<br /><br /> キャッシュ オプションの変更<br /><br /> 共有データ ソースの変更|  
  
## <a name="comparing-shared-datasets-with-other-report-server-items"></a>共有データセットと他のレポート サーバー アイテムの比較  
 レポート サーバー上で複数の種類のアイテムを管理する場合は、共有データセット アイテムと他のレポート サーバー アイテムの類似点および相違点を理解しておくと役に立ちます。  
  
 共有データセットは、次の点で共有データ ソースおよびレポートと似ています。  
  
-   共有データ ソースと同様に、共有データセットは、使用されているレポートとは独立して管理されます。 レポート サーバー上の共有データセットの管理には、共有データセット定義を編集せずに、依存する共有データ ソースを変更する機能が含まれています。  
  
-   レポートと同様に、共有データセットをキャッシュすることができます。 データ ソースが必要とする資格情報はキャッシュの制限事項を満たしている必要があり、すべてのパラメーターに既定値が指定されている必要があります。 詳細については、msdn.microsoft.com の [共有データセットのキャッシュ (SSRS)](../../reporting-services/report-server/cache-shared-datasets-ssrs.md)」を参照してください。  
  
-   レポートと同様に、処理が行われる場合は、必ずレポート サーバーにあるアイテムの現在の定義が使用されます。 共有データセットを変更すると、その共有データセットを使用する各レポートでは、レポートの処理時にレポート サーバーにある現在の定義が使用されます。 共有データセットに対してキャッシュが有効化されている場合は、共有データセット定義を変更しても、キャッシュ内のデータの有効期限が切れるまでは変更された定義が使用されません。 キャッシュ更新計画を使用すると、複数のレポートでデータの一貫性を維持することができます。  
  
 共有データセットは、次の点でパブリッシュ済みレポート パーツと異なります。  
  
-   パブリッシュ済みレポート パーツとは異なり、レポート作成クライアントでレポートが開かれている場合にレポート サーバー上の共有データセット定義を変更しても、更新通知はトリガーされません。 ただし、レポートを実行すると、レポート サーバーにある現在の共有データセット定義のデータが使用されます。  
  
 共有データセットは、次の点でサブスクリプションと似ています。  
  
-   共有データセットでは、キャッシュにアイテム固有のスケジュールおよび共有スケジュールを使用できます。  
  
-   共有データセットでは、サブスクリプションと同じルールに従ってパラメーター値が指定されます。  
  
## <a name="see-also"></a>参照  
 [レポート サーバー コンテンツの管理 &#40;SSRS ネイティブ モード&#41;](../../reporting-services/report-server/report-server-content-management-ssrs-native-mode.md)   
 [ネイティブ モードのレポート サーバーに対する権限の許可](../../reporting-services/security/granting-permissions-on-a-native-mode-report-server.md)  
  
