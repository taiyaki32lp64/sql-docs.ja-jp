---
title: データベース ミラーリング モニター ([状態] ページ) | Microsoft Docs
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: high-availability
ms.reviewer: ''
ms.technology: high-availability
ms.topic: conceptual
f1_keywords:
- sql13.swb.dbmmonitor.status.f1
ms.assetid: 4f64b4e1-89e9-4827-98fa-b92c3dc73b48
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 293b58adde0ccbfe6394cd3917d2671f23f3b290
ms.sourcegitcommit: 734529a6f108e6ee6bfce939d8be562d405e1832
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/02/2019
ms.locfileid: "70212363"
---
# <a name="database-mirroring-monitor-status-page"></a>[データベース ミラーリング モニター] ([状態] ページ)
[!INCLUDE[appliesto-ss-xxxx-xxxx-xxx-md](../../includes/appliesto-ss-xxxx-xxxx-xxx-md.md)]
  読み取り専用ページです。現在ナビゲーション ツリーで選択されているデータベースのプリンシパルおよびミラー サーバー インスタンスについて、最新のミラーリング状態が表示されます。 インスタンスに関する情報が利用できない場合、そのインスタンスに対応する **[状態]** グリッドのセルは " **不明**" とグレーで表示されます。  
  
 **SQL Server Management Studio を使用してデータベース ミラーリングを監視するには**  
  
-   [データベース ミラーリング モニターの起動 &#40;SQL Server Management Studio&#41;](../../database-engine/database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)  
  
## <a name="options"></a>オプション  
 **ステータス**  
 プリンシパル/ミラー サーバー インスタンスごとに、最新の高度なミラーリング状態が反映されたグリッドが表示されます。 **[状態]** グリッドの行は、次の順序で表示されます。  
  
-   [プリンシパル サーバー インスタンス]  
  
-   [ミラー サーバー インスタンス]  
  
 次の列で構成されます。  
  
|列名|[説明]|  
|-----------------|-----------------|  
|**サーバー インスタンス**|**[状態]** 行に状態が表示されているサーバー インスタンス名。|  
|**[現在のロール]**|サーバー インスタンスの現在のロールです。 **[プリンシパル]** または **[ミラー]** のいずれかになります。|  
|**[ミラー化の状態]**|サーバー インスタンスによって報告されたミラーリング状態と、状態の重大度を示すアイコンが表示されます。 表示される状態および対応するアイコンを次に示します。<br /><br /> アイコン: -、**[不明]** 状態。 モニターがいずれのパートナーにも接続されていません。 モニターによってキャッシュされている情報だけを確認できます。<br /><br /> アイコン: 警告アイコン、**[同期中]** 状態。 ミラー データベースの内容が、プリンシパル データベースの内容に遅れています。 プリンシパル サーバー インスタンスからミラー サーバー インスタンスにログ レコードを送信して、ミラー データベースを更新するための変更を適用しています。 データベース ミラーリング セッションの開始時には、ミラー データベースとプリンシパル データベースはこの状態です。<br /><br /> アイコン: データベースを表す円柱形のアイコン、**[同期済み]** 状態。 ミラー サーバーがプリンシパル サーバーとの遅延を解消すると、データベースの状態が **[同期済み]** になります。 プリンシパル サーバーがミラー サーバーに変更を送信し、ミラー サーバーがミラー データベースに変更を適用する、という処理が継続されている限り、データベースはこの状態のままです。  高い安全性モードの場合、自動フェールオーバーおよび手動フェールオーバーの両方がサポートされています。データの損失はありません。  高パフォーマンス モードの場合、**[同期済み]** 状態でも、一部のデータが損失する可能性は常にあります。<br /><br /> アイコン: 警告アイコン、**[中断]** 状態。 <br />                            プリンシパル データベースは使用できますが、ミラー サーバーにログを送信していません。<br /><br /> アイコン: エラーアイコン、**[接続解除]** 状態。 サーバー インスタンスがパートナーに接続できません。|  
|**[ミラーリング監視接続]**|ミラーリング監視接続の状態は、状態アイコンの後に表示され、 **[不明]**、 **[接続済み]**、 **[接続解除]** のいずれかになります。|  
|**履歴**|クリックすると、サーバー インスタンスにおけるミラーリングの履歴が表示されます。 **[データベース ミラーリングの履歴]** ダイアログ ボックスが開き、特定のサーバー インスタンスでミラー化されたデータベースについて、ミラーリング状態の履歴と統計が表示されます。<br /><br /> モニターがサーバー インスタンスに接続されていない場合、 **[履歴]** ボタンは淡色表示されます。|  
  
 **プリンシパル ログ (** \<*time>* **)**  
 サーバー インスタンスのローカル時刻 (\<*time>*) における、プリンシパル サーバー インスタンスのログの状態です。 以下のパラメーターが表示されます。  
  
 **未送信のログ**  
 送信キューで待機しているログのサイズ (キロバイト) です。  
  
 **最も古い未送信のトランザクション**  
 送信キュー内で最も古い未送信トランザクションの経過期間。 トランザクションの経過期間は、トランザクションがミラー サーバー インスタンスに送信されないまま経過した時間を分単位で示します。 この値は、データ損失の可能性を時間の観点から測定するのに役立ちます。  
  
 **ログの送信時間 (推定)**  
 プリンシパル サーバー インスタンスが、送信キューに現在存在するログをミラー サーバー インスタンスに送信するために必要な、おおよその時間です。その際の速度は、 *[送信比率]* で表されます。 入力トランザクションの送信比率は著しく変化するため、ログの送信にかかる時間は、推定値になります。 ただし、送信比率は、手動フェールオーバーに必要な時間を推定する際の目安として使用できます。  
  
 **[現在の送信率]**  
 トランザクションがミラー サーバー インスタンスに送信される速度 (KB/秒) です。  
  
 **新しいトランザクションの現在の比率**  
 受信トランザクションをプリンシパルのログに入力しているときの速度 (KB/秒)。 ミラーリングで遅延、待機、遅延の解消が発生しているかどうかを特定するには、この値を **[ログの送信時間 (推定)]** の値と比較します。  
  
 **ミラー ログ (\<** *time>* **)**  
 サーバー インスタンスのローカル時刻 (\<*time>*) における、ミラー サーバー インスタンスのログの状態です。 以下のパラメーターが表示されます。  
  
 **未復元のログ**  
 再実行キューで待機しているログのサイズ (KB) です。  
  
 **ログの復元時間 (推定)**  
 現在再実行キューに格納されているログをミラー データベースに適用するために必要な時間の概算値 (分)。  
  
 **[現在の復元比率]**  
 トランザクションをミラー データベースに復元するときの速度 (KB/秒)。  
  
 **ミラー コミットのオーバーヘッド**  
 トランザクションあたりの許容平均遅延時間 (ミリ秒) です。この時間を超えると、プリンシパル サーバーで警告が生成されます。 この遅延時間は、ミラー サーバー インスタンスによってトランザクションのログ レコードが再実行キューに書き込まれるのをプリンシパル サーバー インスタンスが待機している間、発生したオーバーヘッドの量になります。 この値は高安全モードにのみ関係します。  
  
 **現在のすべてのログを送信して復元する時間 (推定)**  
 プリンシパルにおいて現時点でコミットされているすべてのログを送信および復元するのに必要な時間です。 送信と復元は並行して実行されるため、この時間は、" **ログの送信時間 (推定)** " フィールドと " **ログの復元時間 (推定)** " フィールドの値を足した合計よりも少なくなる場合があります。 この推定値を目安にして、送信キューのバックログ処理と並行して、コミット済みの新しいトランザクションをプリンシパルで送信および復元するためにかかる時間を推計できます。  
  
 **ミラーリング監視アドレス**  
 ミラーリング監視サーバー インスタンスのネットワーク アドレス。 このアドレスの形式の詳細については、「[サーバー ネットワーク アドレスの指定 &#40;データベース ミラーリング&#41;](../../database-engine/database-mirroring/specify-a-server-network-address-database-mirroring.md)」を参照してください。  
  
 **動作モード**  
 データベース ミラーリング セッションには、次の動作モードがあります。  
  
-   **[高パフォーマンス (非同期)]**  
  
-   **[自動フェールオーバーを伴わない高い安全性 (同期)]**  
  
-   **[自動フェールオーバーを伴う高い安全性 (同期)]**  
  
## <a name="remarks"></a>Remarks  
 **dbm_monitor** 固定データベース ロールのメンバーは、データベース ミラーリング モニターまたは **sp_dbmmonitorresults** ストアド プロシージャを使用して既存のミラーリングの状態を表示できます。 ただし、これらのユーザーは状態テーブルを更新できません。 状態テーブルは、 **[データベース ミラーリング モニターのジョブ]** によって定期的に更新されます。 表示されている状態の経過期間は、**[プリンシパル ログ (**_\<time>_**)]** および **[ミラー ログ (**_\<time>_**)]** の "time" にあたる部分で確認できます。  
  
 該当のジョブが存在しないか、 [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] エージェントが停止している場合、状態はしだいに古くなるため、ミラーリング セッションの構成が反映されない場合があります。 たとえば、フェールオーバー後、パートナーがプリンシパルまたはミラーなどの同じロールを共有しているように見えたり、現在のプリンシパル サーバーがミラー サーバーとして表示され、その一方で現在のミラー サーバーがプリンシパルとして表示されたりすることがあります。  
  
## <a name="see-also"></a>参照  
 [データベース ミラーリング モニターの起動 &#40;SQL Server Management Studio&#41;](../../database-engine/database-mirroring/start-database-mirroring-monitor-sql-server-management-studio.md)   
 [データベース ミラーリングの監視 &#40;SQL Server&#41;](../../database-engine/database-mirroring/monitoring-database-mirroring-sql-server.md)   
 [データベース ミラーリング セキュリティ構成ウィザードの起動 &#40;SQL Server Management Studio&#41;](../../database-engine/database-mirroring/start-the-configuring-database-mirroring-security-wizard.md)  
  
  
